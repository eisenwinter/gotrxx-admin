const en=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}};en();function W(){}const ot=e=>e;function it(e,t){for(const i in t)e[i]=t[i];return e}function tn(e){return e&&typeof e=="object"&&typeof e.then=="function"}function ar(e){return e()}function hi(){return Object.create(null)}function _e(e){e.forEach(ar)}function Ye(e){return typeof e=="function"}function oe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function rn(e){return Object.keys(e).length===0}function St(e,...t){if(e==null)return W;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function Fe(e){let t;return St(e,i=>t=i)(),t}function Es(e,t,i){e.$$.on_destroy.push(St(t,i))}function Et(e,t,i,r){if(e){const n=sr(e,t,i,r);return e[0](n)}}function sr(e,t,i,r){return e[1]&&r?it(i.ctx.slice(),e[1](r(t))):i.ctx}function zt(e,t,i,r){if(e[2]&&r){const n=e[2](r(i));if(t.dirty===void 0)return n;if(typeof n=="object"){const o=[],a=Math.max(t.dirty.length,n.length);for(let s=0;s<a;s+=1)o[s]=t.dirty[s]|n[s];return o}return t.dirty|n}return t.dirty}function Ct(e,t,i,r,n,o){if(n){const a=sr(t,i,r,o);e.p(a,n)}}function At(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let r=0;r<i;r++)t[r]=-1;return t}return-1}function nn(e){const t={};for(const i in e)t[i]=!0;return t}function pi(e){return e==null?"":e}function zs(e,t,i){return e.set(i),t}function Cs(e){return e&&Ye(e.destroy)?e.destroy:W}const lr=typeof window!="undefined";let Rt=lr?()=>window.performance.now():()=>Date.now(),Qt=lr?e=>requestAnimationFrame(e):W;const He=new Set;function cr(e){He.forEach(t=>{t.c(e)||(He.delete(t),t.f())}),He.size!==0&&Qt(cr)}function Ut(e){let t;return He.size===0&&Qt(cr),{promise:new Promise(i=>{He.add(t={c:e,f:i})}),abort(){He.delete(t)}}}function _(e,t){e.appendChild(t)}function dr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function on(e){const t=A("style");return an(dr(e),t),t.sheet}function an(e,t){return _(e.head||e,t),t.sheet}function L(e,t,i){e.insertBefore(t,i||null)}function q(e){e.parentNode.removeChild(e)}function sn(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function A(e){return document.createElement(e)}function Te(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function se(e){return document.createTextNode(e)}function H(){return se(" ")}function Pe(){return se("")}function ye(e,t,i,r){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}function As(e){return function(t){return t.preventDefault(),e.call(this,t)}}function k(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Rs(e,t,i){const r=new Set;for(let n=0;n<e.length;n+=1)e[n].checked&&r.add(e[n].__value);return i||r.delete(t),Array.from(r)}function ln(e){return Array.from(e.childNodes)}function Ie(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ct(e,t){e.value=t==null?"":t}function Us(e,t,i,r){i===null?e.style.removeProperty(t):e.style.setProperty(t,i,r?"important":"")}function fr(e,t,{bubbles:i=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i,r,t),n}class cn{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,i,r=null){this.e||(this.is_svg?this.e=Te(i.nodeName):this.e=A(i.nodeName),this.t=i,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let i=0;i<this.n.length;i+=1)L(this.t,this.n[i],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(q)}}const vt=new Map;let wt=0;function dn(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function fn(e,t){const i={stylesheet:on(t),rules:{}};return vt.set(e,i),i}function kt(e,t,i,r,n,o,a,s=0){const l=16.666/r;let c=`{
`;for(let v=0;v<=1;v+=l){const E=t+(i-t)*o(v);c+=v*100+`%{${a(E,1-E)}}
`}const d=c+`100% {${a(i,1-i)}}
}`,f=`__svelte_${dn(d)}_${s}`,u=dr(e),{stylesheet:b,rules:y}=vt.get(u)||fn(u,e);y[f]||(y[f]=!0,b.insertRule(`@keyframes ${f} ${d}`,b.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${n}ms 1 both`,wt+=1,f}function xt(e,t){const i=(e.style.animation||"").split(", "),r=i.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),n=i.length-r.length;n&&(e.style.animation=r.join(", "),wt-=n,wt||un())}function un(){Qt(()=>{wt||(vt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&q(t)}),vt.clear())})}let rt;function ke(e){rt=e}function at(){if(!rt)throw new Error("Function called outside component initialization");return rt}function Ts(e){at().$$.on_mount.push(e)}function bn(e){at().$$.after_update.push(e)}function mn(e){at().$$.on_destroy.push(e)}function Zt(){const e=at();return(t,i,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[t];if(n){const o=fr(t,i,{cancelable:r});return n.slice().forEach(a=>{a.call(e,o)}),!o.defaultPrevented}return!0}}function gi(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(r=>r.call(this,t))}const tt=[],vi=[],ut=[],Lt=[],ur=Promise.resolve();let Bt=!1;function br(){Bt||(Bt=!0,ur.then(Xt))}function hn(){return br(),ur}function je(e){ut.push(e)}function Is(e){Lt.push(e)}const Pt=new Set;let dt=0;function Xt(){const e=rt;do{for(;dt<tt.length;){const t=tt[dt];dt++,ke(t),pn(t.$$)}for(ke(null),tt.length=0,dt=0;vi.length;)vi.pop()();for(let t=0;t<ut.length;t+=1){const i=ut[t];Pt.has(i)||(Pt.add(i),i())}ut.length=0}while(tt.length);for(;Lt.length;)Lt.pop()();Bt=!1,Pt.clear(),ke(e)}function pn(e){if(e.fragment!==null){e.update(),_e(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(je)}}let Xe;function ei(){return Xe||(Xe=Promise.resolve(),Xe.then(()=>{Xe=null})),Xe}function Oe(e,t,i){e.dispatchEvent(fr(`${t?"intro":"outro"}${i}`))}const bt=new Set;let he;function Z(){he={r:0,c:[],p:he}}function X(){he.r||_e(he.c),he=he.p}function T(e,t){e&&e.i&&(bt.delete(e),e.i(t))}function M(e,t,i,r){if(e&&e.o){if(bt.has(e))return;bt.add(e),he.c.push(()=>{bt.delete(e),r&&(i&&e.d(1),r())}),e.o(t)}else r&&r()}const ti={duration:0};function gn(e,t,i){let r=t(e,i),n=!1,o,a,s=0;function l(){o&&xt(e,o)}function c(){const{delay:f=0,duration:u=300,easing:b=ot,tick:y=W,css:g}=r||ti;g&&(o=kt(e,0,1,u,f,b,g,s++)),y(0,1);const v=Rt()+f,E=v+u;a&&a.abort(),n=!0,je(()=>Oe(e,!0,"start")),a=Ut(m=>{if(n){if(m>=E)return y(1,0),Oe(e,!0,"end"),l(),n=!1;if(m>=v){const h=b((m-v)/u);y(h,1-h)}}return n})}let d=!1;return{start(){d||(d=!0,xt(e),Ye(r)?(r=r(),ei().then(c)):c())},invalidate(){d=!1},end(){n&&(l(),n=!1)}}}function vn(e,t,i){let r=t(e,i),n=!0,o;const a=he;a.r+=1;function s(){const{delay:l=0,duration:c=300,easing:d=ot,tick:f=W,css:u}=r||ti;u&&(o=kt(e,1,0,c,l,d,u));const b=Rt()+l,y=b+c;je(()=>Oe(e,!1,"start")),Ut(g=>{if(n){if(g>=y)return f(0,1),Oe(e,!1,"end"),--a.r||_e(a.c),!1;if(g>=b){const v=d((g-b)/c);f(1-v,v)}}return n})}return Ye(r)?ei().then(()=>{r=r(),s()}):s(),{end(l){l&&r.tick&&r.tick(1,0),n&&(o&&xt(e,o),n=!1)}}}function Os(e,t,i,r){let n=t(e,i),o=r?0:1,a=null,s=null,l=null;function c(){l&&xt(e,l)}function d(u,b){const y=u.b-o;return b*=Math.abs(y),{a:o,b:u.b,d:y,duration:b,start:u.start,end:u.start+b,group:u.group}}function f(u){const{delay:b=0,duration:y=300,easing:g=ot,tick:v=W,css:E}=n||ti,m={start:Rt()+b,b:u};u||(m.group=he,he.r+=1),a||s?s=m:(E&&(c(),l=kt(e,o,u,y,b,g,E)),u&&v(0,1),a=d(m,y),je(()=>Oe(e,u,"start")),Ut(h=>{if(s&&h>s.start&&(a=d(s,y),s=null,Oe(e,a.b,"start"),E&&(c(),l=kt(e,o,a.b,a.duration,0,g,n.css))),a){if(h>=a.end)v(o=a.b,1-o),Oe(e,a.b,"end"),s||(a.b?c():--a.group.r||_e(a.group.c)),a=null;else if(h>=a.start){const p=h-a.start;o=a.a+a.d*g(p/a.duration),v(o,1-o)}}return!!(a||s)}))}return{run(u){Ye(n)?ei().then(()=>{n=n(),f(u)}):f(u)},end(){c(),a=s=null}}}function js(e,t){const i=t.token={};function r(n,o,a,s){if(t.token!==i)return;t.resolved=s;let l=t.ctx;a!==void 0&&(l=l.slice(),l[a]=s);const c=n&&(t.current=n)(l);let d=!1;t.block&&(t.blocks?t.blocks.forEach((f,u)=>{u!==o&&f&&(Z(),M(f,1,1,()=>{t.blocks[u]===f&&(t.blocks[u]=null)}),X())}):t.block.d(1),c.c(),T(c,1),c.m(t.mount(),t.anchor),d=!0),t.block=c,t.blocks&&(t.blocks[o]=c),d&&Xt()}if(tn(e)){const n=at();if(e.then(o=>{ke(n),r(t.then,1,t.value,o),ke(null)},o=>{if(ke(n),r(t.catch,2,t.error,o),ke(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Ms(e,t,i){const r=t.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,i)}function mr(e,t){const i={},r={},n={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const l in a)l in s||(r[l]=1);for(const l in s)n[l]||(i[l]=s[l],n[l]=1);e[o]=s}else for(const l in a)n[l]=1}for(const a in r)a in i||(i[a]=void 0);return i}function hr(e){return typeof e=="object"&&e!==null?e:{}}function Ps(e,t,i){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=i,i(e.$$.ctx[r]))}function ie(e){e&&e.c()}function ee(e,t,i,r){const{fragment:n,on_mount:o,on_destroy:a,after_update:s}=e.$$;n&&n.m(t,i),r||je(()=>{const l=o.map(ar).filter(Ye);a?a.push(...l):_e(l),e.$$.on_mount=[]}),s.forEach(je)}function te(e,t){const i=e.$$;i.fragment!==null&&(_e(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function wn(e,t){e.$$.dirty[0]===-1&&(tt.push(e),br(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,i,r,n,o,a,s=[-1]){const l=rt;ke(e);const c=e.$$={fragment:null,ctx:null,props:o,update:W,not_equal:n,bound:hi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:hi(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let d=!1;if(c.ctx=i?i(e,t.props||{},(f,u,...b)=>{const y=b.length?b[0]:u;return c.ctx&&n(c.ctx[f],c.ctx[f]=y)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](y),d&&wn(e,f)),u}):[],c.update(),d=!0,_e(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=ln(t.target);c.fragment&&c.fragment.l(f),f.forEach(q)}else c.fragment&&c.fragment.c();t.intro&&T(e.$$.fragment),ee(e,t.target,t.anchor,t.customElement),Xt()}ke(l)}class ce{$destroy(){te(this,1),this.$destroy=W}$on(t,i){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const n=r.indexOf(i);n!==-1&&r.splice(n,1)}}$set(t){this.$$set&&!rn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function kn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pr={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(Ue,function(){var i=1e3,r=6e4,n=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",d="week",f="month",u="quarter",b="year",y="date",g="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(S,z,C){var P=String(S);return!P||P.length>=z?S:""+Array(z+1-P.length).join(C)+S},p={s:h,z:function(S){var z=-S.utcOffset(),C=Math.abs(z),P=Math.floor(C/60),R=C%60;return(z<=0?"+":"-")+h(P,2,"0")+":"+h(R,2,"0")},m:function S(z,C){if(z.date()<C.date())return-S(C,z);var P=12*(C.year()-z.year())+(C.month()-z.month()),R=z.clone().add(P,f),$=C-R<0,B=z.clone().add(P+($?-1:1),f);return+(-(P+(C-R)/($?R-B:B-R))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:b,w:d,d:c,D:y,h:l,m:s,s:a,ms:o,Q:u}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},w="en",x={};x[w]=m;var U=function(S){return S instanceof O},j=function S(z,C,P){var R;if(!z)return w;if(typeof z=="string"){var $=z.toLowerCase();x[$]&&(R=$),C&&(x[$]=C,R=$);var B=z.split("-");if(!R&&B.length>1)return S(B[0])}else{var G=z.name;x[G]=z,R=G}return!P&&R&&(w=R),R||!P&&w},I=function(S,z){if(U(S))return S.clone();var C=typeof z=="object"?z:{};return C.date=S,C.args=arguments,new O(C)},N=p;N.l=j,N.i=U,N.w=function(S,z){return I(S,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var O=function(){function S(C){this.$L=j(C.locale,null,!0),this.parse(C)}var z=S.prototype;return z.parse=function(C){this.$d=function(P){var R=P.date,$=P.utc;if(R===null)return new Date(NaN);if(N.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var B=R.match(v);if(B){var G=B[2]-1||0,J=(B[7]||"0").substring(0,3);return $?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,J)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,J)}}return new Date(R)}(C),this.$x=C.x||{},this.init()},z.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},z.$utils=function(){return N},z.isValid=function(){return this.$d.toString()!==g},z.isSame=function(C,P){var R=I(C);return this.startOf(P)<=R&&R<=this.endOf(P)},z.isAfter=function(C,P){return I(C)<this.startOf(P)},z.isBefore=function(C,P){return this.endOf(P)<I(C)},z.$g=function(C,P,R){return N.u(C)?this[P]:this.set(R,C)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(C,P){var R=this,$=!!N.u(P)||P,B=N.p(C),G=function($e,re){var Ee=N.w(R.$u?Date.UTC(R.$y,re,$e):new Date(R.$y,re,$e),R);return $?Ee:Ee.endOf(c)},J=function($e,re){return N.w(R.toDate()[$e].apply(R.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(re)),R)},K=this.$W,Q=this.$M,Se=this.$D,ve="set"+(this.$u?"UTC":"");switch(B){case b:return $?G(1,0):G(31,11);case f:return $?G(1,Q):G(0,Q+1);case d:var Qe=this.$locale().weekStart||0,Ze=(K<Qe?K+7:K)-Qe;return G($?Se-Ze:Se+(6-Ze),Q);case c:case y:return J(ve+"Hours",0);case l:return J(ve+"Minutes",1);case s:return J(ve+"Seconds",2);case a:return J(ve+"Milliseconds",3);default:return this.clone()}},z.endOf=function(C){return this.startOf(C,!1)},z.$set=function(C,P){var R,$=N.p(C),B="set"+(this.$u?"UTC":""),G=(R={},R[c]=B+"Date",R[y]=B+"Date",R[f]=B+"Month",R[b]=B+"FullYear",R[l]=B+"Hours",R[s]=B+"Minutes",R[a]=B+"Seconds",R[o]=B+"Milliseconds",R)[$],J=$===c?this.$D+(P-this.$W):P;if($===f||$===b){var K=this.clone().set(y,1);K.$d[G](J),K.init(),this.$d=K.set(y,Math.min(this.$D,K.daysInMonth())).$d}else G&&this.$d[G](J);return this.init(),this},z.set=function(C,P){return this.clone().$set(C,P)},z.get=function(C){return this[N.p(C)]()},z.add=function(C,P){var R,$=this;C=Number(C);var B=N.p(P),G=function(Q){var Se=I($);return N.w(Se.date(Se.date()+Math.round(Q*C)),$)};if(B===f)return this.set(f,this.$M+C);if(B===b)return this.set(b,this.$y+C);if(B===c)return G(1);if(B===d)return G(7);var J=(R={},R[s]=r,R[l]=n,R[a]=i,R)[B]||1,K=this.$d.getTime()+C*J;return N.w(K,this)},z.subtract=function(C,P){return this.add(-1*C,P)},z.format=function(C){var P=this,R=this.$locale();if(!this.isValid())return R.invalidDate||g;var $=C||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),G=this.$H,J=this.$m,K=this.$M,Q=R.weekdays,Se=R.months,ve=function(re,Ee,Mt,lt){return re&&(re[Ee]||re(P,$))||Mt[Ee].slice(0,lt)},Qe=function(re){return N.s(G%12||12,re,"0")},Ze=R.meridiem||function(re,Ee,Mt){var lt=re<12?"AM":"PM";return Mt?lt.toLowerCase():lt},$e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:K+1,MM:N.s(K+1,2,"0"),MMM:ve(R.monthsShort,K,Se,3),MMMM:ve(Se,K),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:ve(R.weekdaysMin,this.$W,Q,2),ddd:ve(R.weekdaysShort,this.$W,Q,3),dddd:Q[this.$W],H:String(G),HH:N.s(G,2,"0"),h:Qe(1),hh:Qe(2),a:Ze(G,J,!0),A:Ze(G,J,!1),m:String(J),mm:N.s(J,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:B};return $.replace(E,function(re,Ee){return Ee||$e[re]||B.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(C,P,R){var $,B=N.p(P),G=I(C),J=(G.utcOffset()-this.utcOffset())*r,K=this-G,Q=N.m(this,G);return Q=($={},$[b]=Q/12,$[f]=Q,$[u]=Q/3,$[d]=(K-J)/6048e5,$[c]=(K-J)/864e5,$[l]=K/n,$[s]=K/r,$[a]=K/i,$)[B]||K,R?Q:N.a(Q)},z.daysInMonth=function(){return this.endOf(f).$D},z.$locale=function(){return x[this.$L]},z.locale=function(C,P){if(!C)return this.$L;var R=this.clone(),$=j(C,P,!0);return $&&(R.$L=$),R},z.clone=function(){return N.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},S}(),F=O.prototype;return I.prototype=F,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",f],["$y",b],["$D",y]].forEach(function(S){F[S[1]]=function(z){return this.$g(z,S[0],S[1])}}),I.extend=function(S,z){return S.$i||(S(z,O,I),S.$i=!0),I},I.locale=j,I.isDayjs=U,I.unix=function(S){return I(1e3*S)},I.en=x[w],I.Ls=x,I.p={},I})})(pr);var xn=pr.exports,st={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(Ue,function(){var i=i||function(r,n){var o;if(typeof window!="undefined"&&window.crypto&&(o=window.crypto),typeof self!="undefined"&&self.crypto&&(o=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window!="undefined"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof Ue!="undefined"&&Ue.crypto&&(o=Ue.crypto),!o&&typeof kn=="function")try{o=require("crypto")}catch{}var a=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function m(){}return function(h){var p;return m.prototype=h,p=new m,m.prototype=null,p}}(),l={},c=l.lib={},d=c.Base=function(){return{extend:function(m){var h=s(this);return m&&h.mixIn(m),(!h.hasOwnProperty("init")||this.init===h.init)&&(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var h in m)m.hasOwnProperty(h)&&(this[h]=m[h]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=d.extend({init:function(m,h){m=this.words=m||[],h!=n?this.sigBytes=h:this.sigBytes=m.length*4},toString:function(m){return(m||b).stringify(this)},concat:function(m){var h=this.words,p=m.words,w=this.sigBytes,x=m.sigBytes;if(this.clamp(),w%4)for(var U=0;U<x;U++){var j=p[U>>>2]>>>24-U%4*8&255;h[w+U>>>2]|=j<<24-(w+U)%4*8}else for(var I=0;I<x;I+=4)h[w+I>>>2]=p[I>>>2];return this.sigBytes+=x,this},clamp:function(){var m=this.words,h=this.sigBytes;m[h>>>2]&=4294967295<<32-h%4*8,m.length=r.ceil(h/4)},clone:function(){var m=d.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var h=[],p=0;p<m;p+=4)h.push(a());return new f.init(h,m)}}),u=l.enc={},b=u.Hex={stringify:function(m){for(var h=m.words,p=m.sigBytes,w=[],x=0;x<p;x++){var U=h[x>>>2]>>>24-x%4*8&255;w.push((U>>>4).toString(16)),w.push((U&15).toString(16))}return w.join("")},parse:function(m){for(var h=m.length,p=[],w=0;w<h;w+=2)p[w>>>3]|=parseInt(m.substr(w,2),16)<<24-w%8*4;return new f.init(p,h/2)}},y=u.Latin1={stringify:function(m){for(var h=m.words,p=m.sigBytes,w=[],x=0;x<p;x++){var U=h[x>>>2]>>>24-x%4*8&255;w.push(String.fromCharCode(U))}return w.join("")},parse:function(m){for(var h=m.length,p=[],w=0;w<h;w++)p[w>>>2]|=(m.charCodeAt(w)&255)<<24-w%4*8;return new f.init(p,h)}},g=u.Utf8={stringify:function(m){try{return decodeURIComponent(escape(y.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return y.parse(unescape(encodeURIComponent(m)))}},v=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=g.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var h,p=this._data,w=p.words,x=p.sigBytes,U=this.blockSize,j=U*4,I=x/j;m?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var N=I*U,O=r.min(N*4,x);if(N){for(var F=0;F<N;F+=U)this._doProcessBlock(w,F);h=w.splice(0,N),p.sigBytes-=O}return new f.init(h,O)},clone:function(){var m=d.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=v.extend({cfg:d.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var h=this._doFinalize();return h},blockSize:16,_createHelper:function(m){return function(h,p){return new m.init(p).finalize(h)}},_createHmacHelper:function(m){return function(h,p){return new E.HMAC.init(m,p).finalize(h)}}});var E=l.algo={};return l}(Math);return i})})(st);var yn=st.exports,gr={exports:{}};(function(e,t){(function(i,r){e.exports=r(st.exports)})(Ue,function(i){return function(r){var n=i,o=n.lib,a=o.WordArray,s=o.Hasher,l=n.algo,c=[],d=[];(function(){function b(E){for(var m=r.sqrt(E),h=2;h<=m;h++)if(!(E%h))return!1;return!0}function y(E){return(E-(E|0))*4294967296|0}for(var g=2,v=0;v<64;)b(g)&&(v<8&&(c[v]=y(r.pow(g,1/2))),d[v]=y(r.pow(g,1/3)),v++),g++})();var f=[],u=l.SHA256=s.extend({_doReset:function(){this._hash=new a.init(c.slice(0))},_doProcessBlock:function(b,y){for(var g=this._hash.words,v=g[0],E=g[1],m=g[2],h=g[3],p=g[4],w=g[5],x=g[6],U=g[7],j=0;j<64;j++){if(j<16)f[j]=b[y+j]|0;else{var I=f[j-15],N=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=f[j-2],F=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[j]=N+f[j-7]+F+f[j-16]}var S=p&w^~p&x,z=v&E^v&m^E&m,C=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),P=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),R=U+P+S+d[j]+f[j],$=C+z;U=x,x=w,w=p,p=h+R|0,h=m,m=E,E=v,v=R+$|0}g[0]=g[0]+v|0,g[1]=g[1]+E|0,g[2]=g[2]+m|0,g[3]=g[3]+h|0,g[4]=g[4]+p|0,g[5]=g[5]+w|0,g[6]=g[6]+x|0,g[7]=g[7]+U|0},_doFinalize:function(){var b=this._data,y=b.words,g=this._nDataBytes*8,v=b.sigBytes*8;return y[v>>>5]|=128<<24-v%32,y[(v+64>>>9<<4)+14]=r.floor(g/4294967296),y[(v+64>>>9<<4)+15]=g,b.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var b=s.clone.call(this);return b._hash=this._hash.clone(),b}});n.SHA256=s._createHelper(u),n.HmacSHA256=s._createHmacHelper(u)}(Math),i.SHA256})})(gr);var _n=gr.exports,vr={exports:{}};(function(e,t){(function(i,r){e.exports=r(st.exports)})(Ue,function(i){return function(){var r=i,n=r.lib,o=n.WordArray,a=r.enc;a.Base64={stringify:function(l){var c=l.words,d=l.sigBytes,f=this._map;l.clamp();for(var u=[],b=0;b<d;b+=3)for(var y=c[b>>>2]>>>24-b%4*8&255,g=c[b+1>>>2]>>>24-(b+1)%4*8&255,v=c[b+2>>>2]>>>24-(b+2)%4*8&255,E=y<<16|g<<8|v,m=0;m<4&&b+m*.75<d;m++)u.push(f.charAt(E>>>6*(3-m)&63));var h=f.charAt(64);if(h)for(;u.length%4;)u.push(h);return u.join("")},parse:function(l){var c=l.length,d=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var u=0;u<d.length;u++)f[d.charCodeAt(u)]=u}var b=d.charAt(64);if(b){var y=l.indexOf(b);y!==-1&&(c=y)}return s(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,c,d){for(var f=[],u=0,b=0;b<c;b++)if(b%4){var y=d[l.charCodeAt(b-1)]<<b%4*2,g=d[l.charCodeAt(b)]>>>6-b%4*2,v=y|g;f[u>>>2]|=v<<24-u%4*8,u++}return o.create(f,u)}}(),i.enc.Base64})})(vr);var wi=vr.exports,wr={exports:{}};(function(e,t){(function(i,r){e.exports=r(st.exports)})(Ue,function(i){return i.enc.Utf8})})(wr);var Sn=wr.exports;function Ft(e){this.message=e}Ft.prototype=new Error,Ft.prototype.name="InvalidCharacterError";var ki=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Ft("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,n=0,o=0,a="";r=t.charAt(o++);~r&&(i=n%4?64*i+r:r,n++%4)?a+=String.fromCharCode(255&i>>(-2*n&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function En(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(i){return decodeURIComponent(ki(i).replace(/(.)/g,function(r,n){var o=n.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(t)}catch{return ki(t)}}function yt(e){this.message=e}function zn(e,t){if(typeof e!="string")throw new yt("Invalid token specified");var i=(t=t||{}).header===!0?0:1;try{return JSON.parse(En(e.split(".")[i]))}catch(r){throw new yt("Invalid token specified: "+r.message)}}yt.prototype=new Error,yt.prototype.name="InvalidTokenError";var Cn={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},ue,be,nt=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(nt||{});(e=>{function t(){ue=3,be=Cn}e.reset=t;function i(n){if(!(0<=n&&n<=4))throw new Error("Invalid log level");ue=n}e.setLevel=i;function r(n){be=n}e.setLogger=r})(nt||(nt={}));var D=class{constructor(e){this._name=e}debug(...e){ue>=4&&be.debug(D._format(this._name,this._method),...e)}info(...e){ue>=3&&be.info(D._format(this._name,this._method),...e)}warn(...e){ue>=2&&be.warn(D._format(this._name,this._method),...e)}error(...e){ue>=1&&be.error(D._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const i=new D(`${e}.${t}`);return i.debug("begin"),i}static _format(e,t){const i=`[${e}]`;return t?`${i} ${t}:`:i}static debug(e,...t){ue>=4&&be.debug(D._format(e),...t)}static info(e,...t){ue>=3&&be.info(D._format(e),...t)}static warn(e,...t){ue>=2&&be.warn(D._format(e),...t)}static error(e,...t){ue>=1&&be.error(D._format(e),...t)}};nt.reset();var An="10000000-1000-4000-8000-100000000000",xe=class{static _randomWord(){return yn.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return An.replace(/[018]/g,t=>(+t^xe._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return xe.generateUUIDv4()+xe.generateUUIDv4()+xe.generateUUIDv4()}static generateCodeChallenge(e){try{const t=_n(e);return wi.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw D.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const i=Sn.parse([e,t].join(":"));return wi.stringify(i)}},Ae=class{constructor(e){this._name=e,this._logger=new D(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)t(...e)}},Ht=class{static decode(e){try{return zn(e)}catch(t){throw D.error("JwtUtils.decode",t),t}}},xi=class{static center({...e}){var t,i,r;return e.width==null&&(e.width=(t=[800,720,600,480].find(n=>n<=window.outerWidth/1.618))!=null?t:360),(i=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((r=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,i])=>`${t}=${typeof i!="boolean"?i:i?"yes":"no"}`).join(",")}},de=class extends Ae{constructor(){super(...arguments),this._logger=new D(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-de.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=de.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const i=de.getEpochTime()+e;if(this.expiration===i&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=i;const r=Math.min(e,5);this._timerHandle=setInterval(this._callback,r*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Gt=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const r=new URL(e,window.location.origin)[t==="fragment"?"hash":"search"];return new URLSearchParams(r.slice(1))}},Me=class extends Error{constructor(e,t){var i,r,n;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw D.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(i=e.error_description)!=null?i:null,this.error_uri=(r=e.error_uri)!=null?r:null,this.state=e.userState,this.session_state=(n=e.session_state)!=null?n:null}},ii=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},Rn=class{constructor(e){this._logger=new D("AccessTokenEvents"),this._expiringTimer=new de("Access token expiring"),this._expiredTimer=new de("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const i=e.expires_in;if(t.debug("access token present, remaining duration:",i),i>0){let n=i-this._expiringNotificationTimeInSeconds;n<=0&&(n=1),t.debug("registering expiring timer, raising in",n,"seconds"),this._expiringTimer.init(n)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=i+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},Un=class{constructor(e,t,i,r,n){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=n,this._logger=new D("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=a=>{a.origin===this._frame_origin&&a.source===this._frame.contentWindow&&(a.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):a.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(a.data+" message from check session op iframe"))};const o=new URL(i);this._frame_origin=o.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=o.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},kr=class{constructor(){this._logger=new D("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},ri=class{constructor(e=[],t=null){this._jwtHandler=t,this._logger=new D("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:i,...r}=t;if(!i)return await fetch(e,r);const n=new AbortController,o=setTimeout(()=>n.abort(),i*1e3);try{return await fetch(e,{...t,signal:n.signal})}catch(a){throw a instanceof DOMException&&a.name==="AbortError"?new ii("Network timed out"):a}finally{clearTimeout(o)}}async getJson(e,{token:t}={}){const i=this._logger.create("getJson"),r={Accept:this._contentTypes.join(", ")};t&&(i.debug("token passed, setting Authorization header"),r.Authorization="Bearer "+t);let n;try{i.debug("url:",e),n=await this.fetchWithTimeout(e,{method:"GET",headers:r})}catch(s){throw i.error("Network Error"),s}i.debug("HTTP response received, status",n.status);const o=n.headers.get("Content-Type");if(o&&!this._contentTypes.find(s=>o.startsWith(s))&&i.throw(new Error(`Invalid response Content-Type: ${o!=null?o:"undefined"}, from URL: ${e}`)),n.ok&&this._jwtHandler&&(o==null?void 0:o.startsWith("application/jwt")))return await this._jwtHandler(await n.text());let a;try{a=await n.json()}catch(s){throw i.error("Error parsing JSON response",s),n.ok?s:new Error(`${n.statusText} (${n.status})`)}if(!n.ok)throw i.error("Error from server:",a),a.error?new Me(a):new Error(`${n.statusText} (${n.status}): ${JSON.stringify(a)}`);return a}async postForm(e,{body:t,basicAuth:i,timeoutInSeconds:r,initCredentials:n}){const o=this._logger.create("postForm"),a={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};i!==void 0&&(a.Authorization="Basic "+i);let s;try{o.debug("url:",e),s=await this.fetchWithTimeout(e,{method:"POST",headers:a,body:t,timeoutInSeconds:r,credentials:n})}catch(f){throw o.error("Network error"),f}o.debug("HTTP response received, status",s.status);const l=s.headers.get("Content-Type");if(l&&!this._contentTypes.find(f=>l.startsWith(f)))throw new Error(`Invalid response Content-Type: ${l!=null?l:"undefined"}, from URL: ${e}`);const c=await s.text();let d={};if(c)try{d=JSON.parse(c)}catch(f){throw o.error("Error parsing JSON response",f),s.ok?f:new Error(`${s.statusText} (${s.status})`)}if(!s.ok)throw o.error("Error from server:",d),d.error?new Me(d,t):new Error(`${s.statusText} (${s.status}): ${JSON.stringify(d)}`);return d}},Tn=class{constructor(e){this._settings=e,this._logger=new D("MetadataService"),this._jsonService=new ri(["application/jwk-set+json"]),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl);return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const i=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(i.debug("resolved"),r[e]===void 0){if(t===!0){i.warn("Metadata does not contain optional property");return}i.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const i=await this._jsonService.getJson(t);if(e.debug("got key set",i),!Array.isArray(i.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=i.keys,this._signingKeys}},xr=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new D("WebStorageStateStore"),this._store=t,this._prefix=e}set(e,t){return this._logger.create(`set('${e}')`),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()}get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;const t=this._store.getItem(e);return Promise.resolve(t)}remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)}getAllKeys(){this._logger.create("getAllKeys");const e=[];for(let t=0;t<this._store.length;t++){const i=this._store.key(t);i&&i.indexOf(this._prefix)===0&&e.push(i.substr(this._prefix.length))}return Promise.resolve(e)}},In="code",On="openid",jn="client_secret_post",Mn="query",Pn=60*15,qn=60*5,yr=class{constructor({authority:e,metadataUrl:t,metadata:i,signingKeys:r,metadataSeed:n,client_id:o,client_secret:a,response_type:s=In,scope:l=On,redirect_uri:c,post_logout_redirect_uri:d,client_authentication:f=jn,prompt:u,display:b,max_age:y,ui_locales:g,acr_values:v,resource:E,response_mode:m=Mn,filterProtocolClaims:h=!0,loadUserInfo:p=!1,staleStateAgeInSeconds:w=Pn,clockSkewInSeconds:x=qn,userInfoJwtIssuer:U="OP",mergeClaims:j=!1,stateStore:I,refreshTokenCredentials:N="same-origin",extraQueryParams:O={},extraTokenParams:F={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=i,this.metadataSeed=n,this.signingKeys=r,this.client_id=o,this.client_secret=a,this.response_type=s,this.scope=l,this.redirect_uri=c,this.post_logout_redirect_uri=d,this.client_authentication=f,this.prompt=u,this.display=b,this.max_age=y,this.ui_locales=g,this.acr_values=v,this.resource=E,this.response_mode=m,this.filterProtocolClaims=!!h,this.loadUserInfo=!!p,this.staleStateAgeInSeconds=w,this.clockSkewInSeconds=x,this.userInfoJwtIssuer=U,this.mergeClaims=!!j,this.refreshTokenCredentials=N,I)this.stateStore=I;else{const S=typeof window!="undefined"?window.localStorage:new kr;this.stateStore=new xr({store:S})}this.extraQueryParams=O,this.extraTokenParams=F}},Nn=class{constructor(e){this._metadataService=e,this._logger=new D("UserInfoService"),this._getClaimsFromJwt=async t=>{const i=this._logger.create("_getClaimsFromJwt");try{const r=Ht.decode(t);return i.debug("JWT decoding successful"),r}catch(r){throw i.error("Error parsing JWT response"),r}},this._jsonService=new ri(void 0,this._getClaimsFromJwt)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const i=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",i);const r=await this._jsonService.getJson(i,{token:e});return t.debug("got claims",r),r}},_r=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new D("TokenClient"),this._jsonService=new ri}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:i=this._settings.client_id,client_secret:r=this._settings.client_secret,...n}){const o=this._logger.create("exchangeCode");i||o.throw(new Error("A client_id is required")),t||o.throw(new Error("A redirect_uri is required")),n.code||o.throw(new Error("A code is required")),n.code_verifier||o.throw(new Error("A code_verifier is required"));const a=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[d,f]of Object.entries(n))f!=null&&a.set(d,f);let s;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw o.throw(new Error("A client_secret is required")),null;s=xe.generateBasicAuth(i,r);break;case"client_secret_post":a.append("client_id",i),r&&a.append("client_secret",r);break}const l=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:a,basicAuth:s});return o.debug("got response"),c}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:i=this._settings.client_secret,timeoutInSeconds:r,refreshTokenCredentials:n,...o}){const a=this._logger.create("exchangeRefreshToken");t||a.throw(new Error("A client_id is required")),o.refresh_token||a.throw(new Error("A refresh_token is required"));const s=new URLSearchParams({grant_type:e});for(const[f,u]of Object.entries(o))u!=null&&s.set(f,u);let l;switch(this._settings.client_authentication){case"client_secret_basic":if(!i)throw a.throw(new Error("A client_secret is required")),null;l=xe.generateBasicAuth(t,i);break;case"client_secret_post":s.append("client_id",t),i&&s.append("client_secret",i);break}const c=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const d=await this._jsonService.postForm(c,{body:s,basicAuth:l,timeoutInSeconds:r,initCredentials:n});return a.debug("got response"),d}async revoke(e){var t;const i=this._logger.create("revoke");e.token||i.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);i.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const n=new URLSearchParams;for(const[o,a]of Object.entries(e))a!=null&&n.set(o,a);n.set("client_id",this._settings.client_id),this._settings.client_secret&&n.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:n}),i.debug("got response")}},$n=["iss","aud","exp","nbf","iat","jti","auth_time","nonce","acr","amr","azp","at_hash"],Dn=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new D("ResponseValidator"),this._userInfoService=new Nn(this._metadataService),this._tokenClient=new _r(this._settings,this._metadataService)}async validateSigninResponse(e,t){const i=this._logger.create("validateSigninResponse");this._processSigninState(e,t),i.debug("state processed"),await this._processCode(e,t),i.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),i.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),i.debug("claims processed")}async validateRefreshResponse(e,t){var i,r;const n=this._logger.create("validateRefreshResponse");e.userState=t.data,(i=e.session_state)!=null||(e.session_state=t.session_state),(r=e.scope)!=null||(e.scope=t.scope);const o=e.isOpenId&&!!e.id_token;o&&(this._validateIdTokenAttributes(e,t.id_token),n.debug("ID Token validated")),await this._processClaims(e,!1,o),n.debug("claims processed")}validateSignoutResponse(e,t){const i=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&i.throw(new Error("State does not match")),i.debug("state validated"),e.userState=t.data,e.error)throw i.warn("Response was error",e.error),new Me(e)}_processSigninState(e,t){var i;const r=this._logger.create("_processSigninState");if(t.id!==e.state&&r.throw(new Error("State does not match")),t.client_id||r.throw(new Error("No client_id on state")),t.authority||r.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&r.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&r.throw(new Error("client_id mismatch on settings vs. signin state")),r.debug("state validated"),e.userState=t.data,(i=e.scope)!=null||(e.scope=t.scope),e.error)throw r.warn("Response was error",e.error),new Me(e);t.code_verifier&&!e.code&&r.throw(new Error("Expected code in response")),!t.code_verifier&&e.code&&r.throw(new Error("Unexpected code in response"))}async _processClaims(e,t=!1,i=!0){const r=this._logger.create("_processClaims");if(e.profile=this._filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){r.debug("not loading user info");return}r.debug("loading user info");const n=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),i&&n.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._mergeClaims(e.profile,this._filterProtocolClaims(n)),r.debug("user info claims received, updated profile:",e.profile)}_mergeClaims(e,t){const i={...e};for(const[r,n]of Object.entries(t))for(const o of Array.isArray(n)?n:[n]){const a=i[r];a?Array.isArray(a)?a.includes(o)||a.push(o):i[r]!==o&&(typeof o=="object"&&this._settings.mergeClaims?i[r]=this._mergeClaims(a,o):i[r]=[a,o]):i[r]=o}return i}_filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims)for(const i of $n)delete t[i];return t}async _processCode(e,t){const i=this._logger.create("_processCode");if(e.code){i.debug("Validating code");const r=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,r)}else i.debug("No code to process")}_validateIdTokenAttributes(e,t){var i;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const n=Ht.decode((i=e.id_token)!=null?i:"");if(n.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const o=Ht.decode(t);o.sub!==n.sub&&r.throw(new Error("sub in id_token does not match current sub")),o.auth_time&&o.auth_time!==n.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),o.azp&&o.azp!==n.azp&&r.throw(new Error("azp in id_token does not match original azp")),!o.azp&&n.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=n}},Ge=class{constructor(e){this.id=e.id||xe.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=de.getEpochTime(),this.request_type=e.request_type}toStorageString(){return new D("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})}static fromStorageString(e){return D.createStatic("State","fromStorageString"),new Ge(JSON.parse(e))}static async clearStaleState(e,t){const i=D.createStatic("State","clearStaleState"),r=de.getEpochTime()-t,n=await e.getAllKeys();i.debug("got keys",n);for(let o=0;o<n.length;o++){const a=n[o],s=await e.get(a);let l=!1;if(s)try{const c=Ge.fromStorageString(s);i.debug("got item from key:",a,c.created),c.created<=r&&(l=!0)}catch(c){i.error("Error parsing state for key:",a,c),l=!0}else i.debug("no item in storage for key:",a),l=!0;l&&(i.debug("removed item for key:",a),e.remove(a))}}},ni=class extends Ge{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=xe.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=xe.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new D("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){D.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new ni(t)}},Ln=class{constructor({url:e,authority:t,client_id:i,redirect_uri:r,response_type:n,scope:o,state_data:a,response_mode:s,request_type:l,client_secret:c,nonce:d,skipUserInfo:f,extraQueryParams:u,extraTokenParams:b,...y}){if(this._logger=new D("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!i)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!r)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!n)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!o)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new ni({data:a,request_type:l,code_verifier:!0,client_id:i,authority:t,redirect_uri:r,response_mode:s,client_secret:c,scope:o,extraTokenParams:b,skipUserInfo:f});const g=new URL(e);g.searchParams.append("client_id",i),g.searchParams.append("redirect_uri",r),g.searchParams.append("response_type",n),g.searchParams.append("scope",o),d&&g.searchParams.append("nonce",d),g.searchParams.append("state",this.state.id),this.state.code_challenge&&(g.searchParams.append("code_challenge",this.state.code_challenge),g.searchParams.append("code_challenge_method","S256"));for(const[v,E]of Object.entries({response_mode:s,...y,...u}))E!=null&&g.searchParams.append(v,E.toString());this.url=g.href}},Bn="openid",yi=class{constructor(e){this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-de.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+de.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(Bn))||!!this.id_token}},Fn=class{constructor({url:e,state_data:t,id_token_hint:i,post_logout_redirect_uri:r,extraQueryParams:n,request_type:o}){if(this._logger=new D("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);i&&a.searchParams.append("id_token_hint",i),r&&(a.searchParams.append("post_logout_redirect_uri",r),t&&(this.state=new Ge({data:t,request_type:o}),a.searchParams.append("state",this.state.id)));for(const[s,l]of Object.entries({...n}))l!=null&&a.searchParams.append(s,l.toString());this.url=a.href}},Hn=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},Gn=class{constructor(e){this._logger=new D("OidcClient"),this.settings=new yr(e),this.metadataService=new Tn(this.settings),this._validator=new Dn(this.settings,this.metadataService),this._tokenClient=new _r(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:i,request_type:r,id_token_hint:n,login_hint:o,skipUserInfo:a,nonce:s,response_type:l=this.settings.response_type,scope:c=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:f=this.settings.prompt,display:u=this.settings.display,max_age:b=this.settings.max_age,ui_locales:y=this.settings.ui_locales,acr_values:g=this.settings.acr_values,resource:v=this.settings.resource,response_mode:E=this.settings.response_mode,extraQueryParams:m=this.settings.extraQueryParams,extraTokenParams:h=this.settings.extraTokenParams}){const p=this._logger.create("createSigninRequest");if(l!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const w=await this.metadataService.getAuthorizationEndpoint();p.debug("Received authorization endpoint",w);const x=new Ln({url:w,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:l,scope:c,state_data:e,prompt:f,display:u,max_age:b,ui_locales:y,id_token_hint:n,login_hint:o,acr_values:g,resource:v,request:t,request_uri:i,extraQueryParams:m,extraTokenParams:h,request_type:r,response_mode:E,client_secret:this.settings.client_secret,skipUserInfo:a,nonce:s});await this.clearStaleState();const U=x.state;return await this.settings.stateStore.set(U.id,U.toStorageString()),x}async readSigninResponseState(e,t=!1){const i=this._logger.create("readSigninResponseState"),r=new yi(Gt.readParams(e,this.settings.response_mode));if(!r.state)throw i.throw(new Error("No state in response")),null;const n=await this.settings.stateStore[t?"remove":"get"](r.state);if(!n)throw i.throw(new Error("No matching state found in storage")),null;return{state:ni.fromStorageString(n),response:r}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:i,response:r}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(r,i),r}async useRefreshToken({state:e,timeoutInSeconds:t}){const i=this._logger.create("useRefreshToken"),r=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:e.scope,timeoutInSeconds:t,refreshTokenCredentials:this.settings.refreshTokenCredentials}),n=new yi(new URLSearchParams);return Object.assign(n,r),i.debug("validating response",n),await this._validator.validateRefreshResponse(n,e),n}async createSignoutRequest({state:e,id_token_hint:t,request_type:i,post_logout_redirect_uri:r=this.settings.post_logout_redirect_uri,extraQueryParams:n=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a);const s=new Fn({url:a,id_token_hint:t,post_logout_redirect_uri:r,state_data:e,extraQueryParams:n,request_type:i});await this.clearStaleState();const l=s.state;return l&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(l.id,l.toStorageString())),s}async readSignoutResponseState(e,t=!1){const i=this._logger.create("readSignoutResponseState"),r=new Hn(Gt.readParams(e,this.settings.response_mode));if(!r.state){if(i.debug("No state in response"),r.error)throw i.warn("Response was error:",r.error),new Me(r);return{state:void 0,response:r}}const n=await this.settings.stateStore[t?"remove":"get"](r.state);if(!n)throw i.throw(new Error("No matching state found in storage")),null;return{state:Ge.fromStorageString(n),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:i,response:r}=await this.readSignoutResponseState(e,!0);return i?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,i)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),Ge.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},Wn=class{constructor(e){this._userManager=e,this._logger=new D("SessionMonitor"),this._start=async t=>{const i=t.session_state;if(!i)return;const r=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,r.debug("session_state",i,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,r.debug("session_state",i,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(i);return}try{const n=await this._userManager.metadataService.getCheckSessionIframe();if(n){r.debug("initializing check session iframe");const o=this._userManager.settings.client_id,a=this._userManager.settings.checkSessionIntervalInSeconds,s=this._userManager.settings.stopCheckSessionOnError,l=new Un(this._callback,o,n,a,s);await l.load(),this._checkSessionIFrame=l,l.start(i)}else r.warn("no check session iframe found in the metadata")}catch(n){r.error("Error from getCheckSessionIframe:",n instanceof Error?n.message:n)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const i=setInterval(async()=>{clearInterval(i);try{const r=await this._userManager.querySessionStatus();if(r){const n={session_state:r.session_state,profile:r.sub&&r.sid?{sub:r.sub,sid:r.sid}:null};this._start(n)}}catch(r){t.error("error from querySessionStatus",r instanceof Error?r.message:r)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const i=await this._userManager.querySessionStatus();let r=!0;i&&this._checkSessionIFrame?i.sub===this._sub?(r=!1,this._checkSessionIFrame.start(i.session_state),i.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",i.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",i.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",i.sub):t.debug("subject no longer signed into OP"),r?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(i){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",i),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const i={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(i)}}}},mt=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=(t=e.session_state)!=null?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-de.getEpochTime()}set expires_in(e){e!==void 0&&(this.expires_at=Math.floor(e)+de.getEpochTime())}get expired(){const e=this.expires_in;if(e!==void 0)return e<=0}get scopes(){var e,t;return(t=(e=this.scope)==null?void 0:e.split(" "))!=null?t:[]}toStorageString(){return new D("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return D.createStatic("User","fromStorageString"),new mt(JSON.parse(e))}},_i="oidc-client",Sr=class{constructor(){this._abort=new Ae("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:i,keepOpen:r}=await new Promise((n,o)=>{const a=s=>{var l;const c=s.data,d=(l=e.scriptOrigin)!=null?l:window.location.origin;if(!(s.origin!==d||(c==null?void 0:c.source)!==_i)){try{const f=Gt.readParams(c.url,e.response_mode).get("state");if(f||t.warn("no state found in response url"),s.source!==this._window&&f!==e.state)return}catch{this._dispose(),o(new Error("Invalid response from window"))}n(c)}};window.addEventListener("message",a,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",a,!1)),this._disposeHandlers.add(this._abort.addHandler(s=>{this._dispose(),o(s)}))});return t.debug("got response from window"),this._dispose(),r||this.close(),{url:i}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,i=!1,r=window.location.origin){e.postMessage({source:_i,url:t,keepOpen:i},r)}},Er={location:!1,toolbar:!1,height:640},zr="_blank",Kn=60,Jn=2,Cr=10,Yn=class extends yr{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:i=e.post_logout_redirect_uri,popupWindowFeatures:r=Er,popupWindowTarget:n=zr,redirectMethod:o="assign",redirectTarget:a="self",iframeNotifyParentOrigin:s=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,silent_redirect_uri:c=e.redirect_uri,silentRequestTimeoutInSeconds:d=Cr,automaticSilentRenew:f=!0,validateSubOnSilentRenew:u=!0,includeIdTokenInSilentRenew:b=!1,monitorSession:y=!1,monitorAnonymousSession:g=!1,checkSessionIntervalInSeconds:v=Jn,query_status_response_type:E="code",stopCheckSessionOnError:m=!0,revokeTokenTypes:h=["access_token","refresh_token"],revokeTokensOnSignout:p=!1,accessTokenExpiringNotificationTimeInSeconds:w=Kn,userStore:x}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=i,this.popupWindowFeatures=r,this.popupWindowTarget=n,this.redirectMethod=o,this.redirectTarget=a,this.iframeNotifyParentOrigin=s,this.iframeScriptOrigin=l,this.silent_redirect_uri=c,this.silentRequestTimeoutInSeconds=d,this.automaticSilentRenew=f,this.validateSubOnSilentRenew=u,this.includeIdTokenInSilentRenew=b,this.monitorSession=y,this.monitorAnonymousSession=g,this.checkSessionIntervalInSeconds=v,this.stopCheckSessionOnError=m,this.query_status_response_type=E,this.revokeTokenTypes=h,this.revokeTokensOnSignout=p,this.accessTokenExpiringNotificationTimeInSeconds=w,x)this.userStore=x;else{const U=typeof window!="undefined"?window.sessionStorage:new kr;this.userStore=new xr({store:U})}}},Wt=class extends Sr{constructor({silentRequestTimeoutInSeconds:e=Cr}){super(),this._logger=new D("IFrameWindow"),this._timeoutInSeconds=e,this._frame=Wt.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new ii("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var i;const r=t.target;(i=r.parentNode)==null||i.removeChild(r),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},Vn=class{constructor(e){this._settings=e,this._logger=new D("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Wt({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Wt.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},Qn=500,Si=class extends Sr{constructor({popupWindowTarget:e=zr,popupWindowFeatures:t={}}){super(),this._logger=new D("PopupWindow");const i=xi.center({...Er,...t});this._window=window.open(void 0,e,xi.serialize(i))}async navigate(e){var t;(t=this._window)==null||t.focus();const i=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},Qn);return this._disposeHandlers.add(()=>clearInterval(i)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},Zn=class{constructor(e){this._settings=e,this._logger=new D("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new Si({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,t=!1){this._logger.create("callback"),Si.notifyOpener(e,t)}},Xn=class{constructor(e){this._settings=e,this._logger=new D("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var i;this._logger.create("prepare");let r=window.self;t==="top"&&(r=(i=window.top)!=null?i:window.self);const n=r.location[e].bind(r.location);let o;return{navigate:async a=>{this._logger.create("navigate");const s=new Promise((l,c)=>{o=c});return n(a.url),await s},close:()=>{this._logger.create("close"),o==null||o(new Error("Redirect aborted")),r.stop()}}}},eo=class extends Rn{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new D("UserManagerEvents"),this._userLoaded=new Ae("User loaded"),this._userUnloaded=new Ae("User unloaded"),this._silentRenewError=new Ae("Silent renew error"),this._userSignedIn=new Ae("User signed in"),this._userSignedOut=new Ae("User signed out"),this._userSessionChanged=new Ae("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},to=class{constructor(e){this._userManager=e,this._logger=new D("SilentRenewService"),this._isStarted=!1,this._retryTimer=new de("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(i){if(i instanceof ii){t.warn("ErrorTimeout from signinSilent:",i,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",i),this._userManager.events._raiseSilentRenewError(i)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},io=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.data=e.state}},oi=class{constructor(e){this._logger=new D("UserManager"),this.settings=new Yn(e),this._client=new Gn(e),this._redirectNavigator=new Xn(this.settings),this._popupNavigator=new Zn(this.settings),this._iframeNavigator=new Vn(this.settings),this._events=new eo(this.settings),this._silentRenewService=new to(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new Wn(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...i}=e,r=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...i},r)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),i=await this._signinEnd(e);return i.profile&&i.profile.sub?t.info("success, signed in subject",i.profile.sub):t.info("no subject"),i}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:i,popupWindowTarget:r,...n}=e,o=this.settings.popup_redirect_uri;o||t.throw(new Error("No popup_redirect_uri configured"));const a=await this._popupNavigator.prepare({popupWindowFeatures:i,popupWindowTarget:r}),s=await this._signin({request_type:"si:p",redirect_uri:o,display:"popup",...n},a);return s&&(s.profile&&s.profile.sub?t.info("success, signed in subject",s.profile.sub):t.info("no subject")),s}async signinPopupCallback(e=window.location.href,t=!1){const i=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,t),i.info("success")}async signinSilent(e={}){var t;const i=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:r,...n}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){i.debug("using refresh token");const c=new io(o);return await this._useRefreshToken(c)}const a=this.settings.silent_redirect_uri;a||i.throw(new Error("No silent_redirect_uri configured"));let s;o&&this.settings.validateSubOnSilentRenew&&(i.debug("subject prior to silent renew:",o.profile.sub),s=o.profile.sub);const l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});return o=await this._signin({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,...n},l,s),o&&((t=o.profile)!=null&&t.sub?i.info("success, signed in subject",o.profile.sub):i.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),i=new mt({...e,...t});return await this.storeUser(i),this._events.load(i),i}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:i}=await this._client.readSignoutResponseState(e);if(!!i)switch(i.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:i,...r}=e,n=this.settings.silent_redirect_uri;n||t.throw(new Error("No silent_redirect_uri configured"));const o=await this._loadUser(),a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:i}),s=await this._signinStart({request_type:"si:s",redirect_uri:n,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},a);try{const l=await this._client.processSigninResponse(s.url);return t.debug("got signin response"),l.session_state&&l.profile.sub?(t.info("success for subject",l.profile.sub),{session_state:l.session_state,sub:l.profile.sub,sid:l.profile.sid}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof Me)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,i){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,i)}async _signinStart(e,t){const i=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return i.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw i.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signinEnd(e,t){const i=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e);i.debug("got signin response");const n=new mt(r);if(t){if(t!==n.profile.sub)throw i.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new Me({...r,error:"login_required"});i.debug("current user matches user returned from signin")}return await this.storeUser(n),i.debug("user stored"),this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:i,...r}=e,n=await this._redirectNavigator.prepare({redirectMethod:i});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},n),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),i=await this._signoutEnd(e);return t.info("success"),i}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:i,popupWindowTarget:r,...n}=e,o=this.settings.popup_post_logout_redirect_uri,a=await this._popupNavigator.prepare({popupWindowFeatures:i,popupWindowTarget:r});await this._signout({request_type:"so:p",post_logout_redirect_uri:o,state:o==null?void 0:{},...n},a),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const i=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,t),i.info("success")}async _signout(e,t){const i=await this._signoutStart(e,t);return await this._signoutEnd(i.url)}async _signoutStart(e={},t){var i;const r=this._logger.create("_signoutStart");try{const n=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(n);const o=e.id_token_hint||n&&n.id_token;o&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=o),await this.removeUser(),r.debug("user removed, creating signout request");const a=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:a.url,state:(i=a.state)==null?void 0:i.id})}catch(n){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),n}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),i=await this._client.processSignoutResponse(e);return t.debug("got signout response"),i}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const i=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter(n=>typeof e[n]=="string");if(!r.length){i.debug("no need to revoke due to no token(s)");return}for(const n of r)await this._client.revokeToken(e[n],n),i.info(`${n} revoked successfully`),n!=="access_token"&&(e[n]=null);await this.storeUser(e),i.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),mt.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const i=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,i)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}};const De=[];function Ar(e,t){return{subscribe:qe(e,t).subscribe}}function qe(e,t=W){let i;const r=new Set;function n(s){if(oe(e,s)&&(e=s,i)){const l=!De.length;for(const c of r)c[1](),De.push(c,e);if(l){for(let c=0;c<De.length;c+=2)De[c][0](De[c+1]);De.length=0}}}function o(s){n(s(e))}function a(s,l=W){const c=[s,l];return r.add(c),r.size===1&&(i=t(n)||W),s(e),()=>{r.delete(c),r.size===0&&(i(),i=null)}}return{set:n,update:o,subscribe:a}}function Rr(e,t,i){const r=!Array.isArray(e),n=r?[e]:e,o=t.length<2;return Ar(i,a=>{let s=!1;const l=[];let c=0,d=W;const f=()=>{if(c)return;d();const b=t(r?l[0]:l,a);o?a(b):d=Ye(b)?b:W},u=n.map((b,y)=>St(b,g=>{l[y]=g,c&=~(1<<y),s&&f()},()=>{c|=1<<y}));return s=!0,f(),function(){_e(u),d()}})}let Ur=null;localStorage.settings&&(Ur=JSON.parse(localStorage.settings));const pe=qe(Ur||{oidcSettings:null,instanceUrl:null,clientId:null});pe.subscribe(e=>localStorage.settings=JSON.stringify(e));let Tr=null;sessionStorage.oidcRecovery&&(Tr=JSON.parse(sessionStorage.oidcRecovery));const ge=qe(Tr||{isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null});ge.subscribe(e=>sessionStorage.oidcRecovery=JSON.stringify(e));const Ei=qe({messages:[]}),Kt=qe(!1);let me=null;const Ir=e=>(me!=null||(me=new oi(e),me.events.addSilentRenewError(()=>{console.log("silent renew error")}),me.events.addUserLoaded(t=>{ge.update(i=>{const r=so(t.access_token);return i.isAuthenticated=!0,i.user=r.sub,i.accessToken=t.access_token,i.accessTokenExpires=t.expires_at,i.scopes=t.scope,i})}),me.events.addUserUnloaded(()=>{ge.update(t=>({isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null}))})),me);nt.setLogger(console);pe.subscribe(e=>{ge.update(t=>(e.oidcSettings!=null&&(Ir(e.oidcSettings),!t.isAuthenticated&&window.location.pathname!="/oidc-callback"&&me.signinRedirect()),t))});const ro=()=>{console.log("registering")},no=async()=>{me.signinRedirect()},oo=async()=>{await me.removeUser(),ge.update(e=>({isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null}))},ao=()=>{if(!Fe(ge).isAuthenticated&&Fe(pe).oidcSettings){const e=Ir(Fe(pe).oidcSettings);e&&e.signinRedirectCallback().then(function(t){window.location.replace("/")}).catch(t=>{console.log(t)})}},so=e=>{var t=e.split(".")[1],i=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(i).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)};window.location.pathname==="/oidc-callback"&&ao();function zi(e){let t;return{c(){t=A("div"),t.innerHTML=`<a href="#/applications" class="navbar-item">Applications</a> 
      
      <a href="#/users" class="navbar-item">Users</a> 
      <a href="#/roles" class="navbar-item">Roles</a> 
      <a href="#/invites" class="navbar-item">Invites</a>`,k(t,"class","navbar-start")},m(i,r){L(i,t,r)},d(i){i&&q(t)}}}function lo(e){let t,i,r;return{c(){t=A("button"),t.innerHTML="<span>Log in</span>",k(t,"type","button"),k(t,"class","button is-light")},m(n,o){L(n,t,o),i||(r=ye(t,"click",e[4]),i=!0)},p:W,d(n){n&&q(t),i=!1,r()}}}function co(e){let t,i,r,n,o=e[0]&&Ci(e);return{c(){o&&o.c(),t=H(),i=A("button"),i.innerHTML="<span>Log out</span>",k(i,"type","button"),k(i,"class","button is-light")},m(a,s){o&&o.m(a,s),L(a,t,s),L(a,i,s),r||(n=ye(i,"click",e[3]),r=!0)},p(a,s){a[0]?o?o.p(a,s):(o=Ci(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(a){o&&o.d(a),a&&q(t),a&&q(i),r=!1,n()}}}function Ci(e){let t,i,r;return{c(){t=A("a"),i=A("span"),i.textContent="Account",k(t,"href",r=e[0]+"/account/"),k(t,"target","_blank"),k(t,"class","button button is-light")},m(n,o){L(n,t,o),_(t,i)},p(n,o){o&1&&r!==(r=n[0]+"/account/")&&k(t,"href",r)},d(n){n&&q(t)}}}function fo(e){let t,i,r,n,o,a,s,l,c,d,f,u,b,y,g=e[1]&&zi();function v(h,p){return h[1]?co:lo}let E=v(e),m=E(e);return{c(){t=A("nav"),i=A("div"),r=A("a"),r.innerHTML="<strong>gotrxx admin</strong>",n=H(),o=A("div"),o.innerHTML=`<span></span> 
      <span></span> 
      <span></span>`,a=H(),s=A("div"),g&&g.c(),l=H(),c=A("div"),d=A("div"),f=A("div"),m.c(),k(r,"class","navbar-item"),k(r,"href","#/"),k(o,"class","navbar-burger"),k(i,"class","navbar-brand"),k(f,"class","buttons"),k(d,"class","navbar-item"),k(c,"class","navbar-end"),k(s,"class",u="navbar-menu "+(e[2]?"is-active":"")),k(t,"class","navbar is-extended is-primary")},m(h,p){L(h,t,p),_(t,i),_(i,r),_(i,n),_(i,o),_(t,a),_(t,s),g&&g.m(s,null),_(s,l),_(s,c),_(c,d),_(d,f),m.m(f,null),b||(y=ye(o,"click",e[5]),b=!0)},p(h,[p]){h[1]?g||(g=zi(),g.c(),g.m(s,l)):g&&(g.d(1),g=null),E===(E=v(h))&&m?m.p(h,p):(m.d(1),m=E(h),m&&(m.c(),m.m(f,null))),p&4&&u!==(u="navbar-menu "+(h[2]?"is-active":""))&&k(s,"class",u)},i:W,o:W,d(h){h&&q(t),g&&g.d(),m.d(),b=!1,y()}}}function uo(e,t,i){let r=!1,{instanceUrl:n=""}=t,{signedIn:o=!1}=t;const a=async()=>{await oo()},s=async()=>{await no()},l=()=>i(2,r=!r);return e.$$set=c=>{"instanceUrl"in c&&i(0,n=c.instanceUrl),"signedIn"in c&&i(1,o=c.signedIn)},[n,o,r,a,s,l]}class bo extends ce{constructor(t){super(),le(this,t,uo,fo,oe,{instanceUrl:0,signedIn:1})}}function Or(e){const t=e-1;return t*t*t+1}function qs(e,{delay:t=0,duration:i=400,easing:r=ot}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:r,css:o=>`opacity: ${o*n}`}}function jr(e,{delay:t=0,duration:i=400,easing:r=Or,x:n=0,y:o=0,opacity:a=0}={}){const s=getComputedStyle(e),l=+s.opacity,c=s.transform==="none"?"":s.transform,d=l*(1-a);return{delay:t,duration:i,easing:r,css:(f,u)=>`
			transform: ${c} translate(${(1-f)*n}px, ${(1-f)*o}px);
			opacity: ${l-d*u}`}}function Ai(e){return Object.prototype.toString.call(e)==="[object Date]"}function Jt(e,t){if(e===t||e!==e)return()=>e;const i=typeof e;if(i!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((n,o)=>Jt(e[o],n));return n=>r.map(o=>o(n))}if(i==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ai(e)&&Ai(t)){e=e.getTime(),t=t.getTime();const o=t-e;return a=>new Date(e+a*o)}const r=Object.keys(t),n={};return r.forEach(o=>{n[o]=Jt(e[o],t[o])}),o=>{const a={};return r.forEach(s=>{a[s]=n[s](o)}),a}}if(i==="number"){const r=t-e;return n=>e+n*r}throw new Error(`Cannot interpolate ${i} values`)}function mo(e,t={}){const i=qe(e);let r,n=e;function o(a,s){if(e==null)return i.set(e=a),Promise.resolve();n=a;let l=r,c=!1,{delay:d=0,duration:f=400,easing:u=ot,interpolate:b=Jt}=it(it({},t),s);if(f===0)return l&&(l.abort(),l=null),i.set(e=n),Promise.resolve();const y=Rt()+d;let g;return r=Ut(v=>{if(v<y)return!0;c||(g=b(e,a),typeof f=="function"&&(f=f(e,a)),c=!0),l&&(l.abort(),l=null);const E=v-y;return E>f?(i.set(e=a),!1):(i.set(e=g(u(E/f))),!0)}),r.promise}return{set:o,update:(a,s)=>o(a(n,e),s),subscribe:i.subscribe}}function ho(e){let t,i,r,n,o;return{c(){t=A("span"),i=Te("svg"),r=Te("g"),n=Te("path"),k(n,"d","M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z"),k(n,"fill","#000000"),k(i,"version","1.1"),k(i,"xmlns","http://www.w3.org/2000/svg"),k(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),k(i,"width","17"),k(i,"height","17"),k(i,"viewBox","0 0 17 17"),k(i,"class","svelte-krreom"),k(t,"class",o="icon "+(e[1]?`is-${e[1]}`:"")+" "+(e[0]?`is-${e[0]}`:""))},m(a,s){L(a,t,s),_(t,i),_(i,r),_(i,n)},p(a,[s]){s&3&&o!==(o="icon "+(a[1]?`is-${a[1]}`:"")+" "+(a[0]?`is-${a[0]}`:""))&&k(t,"class",o)},i:W,o:W,d(a){a&&q(t)}}}function po(e,t,i){let{size:r=""}=t,{type:n=""}=t;return e.$$set=o=>{"size"in o&&i(0,r=o.size),"type"in o&&i(1,n=o.type)},[r,n]}class go extends ce{constructor(t){super(),le(this,t,po,ho,oe,{size:0,type:1})}}function vo(e){let t,i,r,n,o;return{c(){t=A("span"),i=Te("svg"),r=Te("g"),n=Te("path"),k(n,"d","M8.454 1.492l-8.242 14.508h16.581l-8.339-14.508zM8.459 3.508l6.605 11.492h-13.134l6.529-11.492zM9 10.938h-1v-3.938h1v3.938zM9.5 13.031c0 0.552-0.447 1-1 1s-1-0.448-1-1 0.447-1 1-1 1 0.448 1 1z"),k(n,"fill","#000000"),k(i,"version","1.1"),k(i,"xmlns","http://www.w3.org/2000/svg"),k(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),k(i,"width","17"),k(i,"height","17"),k(i,"viewBox","0 0 17 17"),k(i,"class","svelte-csyb9y"),k(t,"class",o="icon "+(e[1]?`is-${e[1]}`:"")+" "+(e[0]?`is-${e[0]}`:""))},m(a,s){L(a,t,s),_(t,i),_(i,r),_(i,n)},p(a,[s]){s&3&&o!==(o="icon "+(a[1]?`is-${a[1]}`:"")+" "+(a[0]?`is-${a[0]}`:""))&&k(t,"class",o)},i:W,o:W,d(a){a&&q(t)}}}function wo(e,t,i){let{size:r=""}=t,{type:n=""}=t;return e.$$set=o=>{"size"in o&&i(0,r=o.size),"type"in o&&i(1,n=o.type)},[r,n]}class ko extends ce{constructor(t){super(),le(this,t,wo,vo,oe,{size:0,type:1})}}function Ri(e){let t,i,r,n,o,a,s,l,c,d,f,u,b,y,g,v,E,m,h,p=e[1]&&Ui(e),w=e[5]!=null&&Oi(e);return{c(){t=A("div"),i=A("button"),r=H(),n=A("div"),o=A("div"),p&&p.c(),a=H(),s=A("div"),l=A("div"),c=A("div"),d=A("h3"),f=se(e[3]),u=H(),b=new cn(!1),y=H(),w&&w.c(),k(i,"class","delete"),k(o,"class","column is-narrow has-text-centered is-flex is-align-items-center is-justify-content-center"),k(d,"class","is-size-5 has-text-weight-semibold has-text-centered-mobile"),b.a=null,k(c,"class","column is-12 has-text-grey"),k(l,"class","columns is-multiline"),k(s,"class","column"),k(n,"class","columns"),k(t,"class",g="notification "+(e[1]?`is-${e[1]}`:"")+" "+(e[2]?"is-light":"")+" svelte-xwai8")},m(x,U){L(x,t,U),_(t,i),_(t,r),_(t,n),_(n,o),p&&p.m(o,null),_(n,a),_(n,s),_(s,l),_(l,c),_(c,d),_(d,f),_(c,u),b.m(e[4],c),_(t,y),w&&w.m(t,null),E=!0,m||(h=ye(i,"click",e[7]),m=!0)},p(x,U){x[1]?p?(p.p(x,U),U&2&&T(p,1)):(p=Ui(x),p.c(),T(p,1),p.m(o,null)):p&&(Z(),M(p,1,1,()=>{p=null}),X()),(!E||U&8)&&Ie(f,x[3]),(!E||U&16)&&b.p(x[4]),x[5]!=null?w?w.p(x,U):(w=Oi(x),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(!E||U&6&&g!==(g="notification "+(x[1]?`is-${x[1]}`:"")+" "+(x[2]?"is-light":"")+" svelte-xwai8"))&&k(t,"class",g)},i(x){E||(T(p),v&&v.end(1),E=!0)},o(x){M(p),v=vn(t,jr,{y:30}),E=!1},d(x){x&&q(t),p&&p.d(),w&&w.d(),x&&v&&v.end(),m=!1,h()}}}function Ui(e){let t,i,r,n=e[1]=="danger"&&Ti(e),o=e[1]=="success"&&Ii(e);return{c(){n&&n.c(),t=H(),o&&o.c(),i=Pe()},m(a,s){n&&n.m(a,s),L(a,t,s),o&&o.m(a,s),L(a,i,s),r=!0},p(a,s){a[1]=="danger"?n?(n.p(a,s),s&2&&T(n,1)):(n=Ti(a),n.c(),T(n,1),n.m(t.parentNode,t)):n&&(Z(),M(n,1,1,()=>{n=null}),X()),a[1]=="success"?o?(o.p(a,s),s&2&&T(o,1)):(o=Ii(a),o.c(),T(o,1),o.m(i.parentNode,i)):o&&(Z(),M(o,1,1,()=>{o=null}),X())},i(a){r||(T(n),T(o),r=!0)},o(a){M(n),M(o),r=!1},d(a){n&&n.d(a),a&&q(t),o&&o.d(a),a&&q(i)}}}function Ti(e){let t,i;return t=new ko({props:{size:"large",type:e[1]}}),{c(){ie(t.$$.fragment)},m(r,n){ee(t,r,n),i=!0},p(r,n){const o={};n&2&&(o.type=r[1]),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){te(t,r)}}}function Ii(e){let t,i;return t=new go({props:{size:"large",type:e[1]}}),{c(){ie(t.$$.fragment)},m(r,n){ee(t,r,n),i=!0},p(r,n){const o={};n&2&&(o.type=r[1]),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){te(t,r)}}}function Oi(e){let t;return{c(){t=A("progress"),k(t,"class","progress progress-sticky svelte-xwai8"),t.value=e[6],k(t,"max","100")},m(i,r){L(i,t,r)},p(i,r){r&64&&(t.value=i[6])},d(i){i&&q(t)}}}function xo(e){let t,i,r=!e[0]&&Ri(e);return{c(){r&&r.c(),t=Pe()},m(n,o){r&&r.m(n,o),L(n,t,o),i=!0},p(n,[o]){n[0]?r&&(Z(),M(r,1,1,()=>{r=null}),X()):r?(r.p(n,o),o&1&&T(r,1)):(r=Ri(n),r.c(),T(r,1),r.m(t.parentNode,t))},i(n){i||(T(r),i=!0)},o(n){M(r),i=!1},d(n){r&&r.d(n),n&&q(t)}}}function yo(e,t,i){let r,n=W,o=()=>(n(),n=St(g,v=>i(6,r=v)),g);e.$$.on_destroy.push(()=>n());const a=Zt();let{type:s=""}=t,{light:l=!1}=t,{autoCloseDuration:c=0}=t,{isClosed:d=!1}=t,{title:f=""}=t,{content:u=""}=t,{msg:b=null}=t;const y=()=>{b!=null&&a("feedback-closed",{item:b}),i(0,d=!0)};let g;return o(),c>0&&(o(g=mo(0,{duration:c,easing:Or})),g.set(100).then(y)),e.$$set=v=>{"type"in v&&i(1,s=v.type),"light"in v&&i(2,l=v.light),"autoCloseDuration"in v&&i(8,c=v.autoCloseDuration),"isClosed"in v&&i(0,d=v.isClosed),"title"in v&&i(3,f=v.title),"content"in v&&i(4,u=v.content),"msg"in v&&i(9,b=v.msg)},[d,s,l,f,u,g,r,y,c,b]}class Mr extends ce{constructor(t){super(),le(this,t,yo,xo,oe,{type:1,light:2,autoCloseDuration:8,isClosed:0,title:3,content:4,msg:9})}}function ji(e,t,i){const r=e.slice();return r[2]=t[i],r}function Mi(e){let t,i;return t=new Mr({props:{msg:e[2],type:e[2].type,content:e[2].body,title:e[2].title,autoCloseDuration:e[2].duration}}),t.$on("feedback-closed",e[1]),{c(){ie(t.$$.fragment)},m(r,n){ee(t,r,n),i=!0},p(r,n){const o={};n&1&&(o.msg=r[2]),n&1&&(o.type=r[2].type),n&1&&(o.content=r[2].body),n&1&&(o.title=r[2].title),n&1&&(o.autoCloseDuration=r[2].duration),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){te(t,r)}}}function _o(e){let t,i,r=e[0],n=[];for(let a=0;a<r.length;a+=1)n[a]=Mi(ji(e,r,a));const o=a=>M(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=Pe()},m(a,s){for(let l=0;l<n.length;l+=1)n[l].m(a,s);L(a,t,s),i=!0},p(a,[s]){if(s&3){r=a[0];let l;for(l=0;l<r.length;l+=1){const c=ji(a,r,l);n[l]?(n[l].p(c,s),T(n[l],1)):(n[l]=Mi(c),n[l].c(),T(n[l],1),n[l].m(t.parentNode,t))}for(Z(),l=r.length;l<n.length;l+=1)o(l);X()}},i(a){if(!i){for(let s=0;s<r.length;s+=1)T(n[s]);i=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)M(n[s]);i=!1},d(a){sn(n,a),a&&q(t)}}}function So(e,t,i){let r=[];const n=o=>{const a=o.detail.item;Ei.update(s=>(s.messages=s.messages.filter(l=>l!=a),s))};return Ei.subscribe(o=>{i(0,r=o.messages)}),[r,n]}class Eo extends ce{constructor(t){super(),le(this,t,So,_o,oe,{})}}const zo="modulepreload",Pi={},Co="/gotrxx-admin/",ze=function(t,i){return!i||i.length===0?t():Promise.all(i.map(r=>{if(r=`${Co}${r}`,r in Pi)return;Pi[r]=!0;const n=r.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":zo,n||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),n)return new Promise((s,l)=>{a.addEventListener("load",s),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function Ao(e){let t,i,r,n,o,a,s,l,c,d,f,u,b,y,g,v;const E=e[3].default,m=Et(E,e,e[2],null);return{c(){t=A("header"),i=A("nav"),r=A("div"),n=A("div"),o=A("div"),a=A("p"),s=se(e[0]),l=H(),c=A("p"),d=se(e[1]),f=H(),u=A("div"),b=A("p"),m&&m.c(),y=H(),g=A("br"),k(a,"class","heading has-text-light"),k(c,"class","title has-text-light"),k(n,"class","level-item"),k(r,"class","level-left"),k(b,"class","level-item"),k(u,"class","level-right"),k(i,"class","level")},m(h,p){L(h,t,p),_(t,i),_(i,r),_(r,n),_(n,o),_(o,a),_(a,s),_(o,l),_(o,c),_(c,d),_(i,f),_(i,u),_(u,b),m&&m.m(b,null),_(t,y),_(t,g),v=!0},p(h,[p]){(!v||p&1)&&Ie(s,h[0]),(!v||p&2)&&Ie(d,h[1]),m&&m.p&&(!v||p&4)&&Ct(m,E,h,h[2],v?zt(E,h[2],p,null):At(h[2]),null)},i(h){v||(T(m,h),v=!0)},o(h){M(m,h),v=!1},d(h){h&&q(t),m&&m.d(h)}}}function Ro(e,t,i){let{$$slots:r={},$$scope:n}=t,{title:o="Hello World"}=t,{subtitle:a="Hello World"}=t;return e.$$set=s=>{"title"in s&&i(0,o=s.title),"subtitle"in s&&i(1,a=s.subtitle),"$$scope"in s&&i(2,n=s.$$scope)},[o,a,n,r]}class Uo extends ce{constructor(t){super(),le(this,t,Ro,Ao,oe,{title:0,subtitle:1})}}const To=e=>({}),qi=e=>({}),Io=e=>({}),Ni=e=>({});function $i(e){let t,i,r,n=e[3].title&&Di(e),o=e[1]&&Li(e);return{c(){t=A("header"),n&&n.c(),i=H(),o&&o.c(),k(t,"class","card-header")},m(a,s){L(a,t,s),n&&n.m(t,null),_(t,i),o&&o.m(t,null),r=!0},p(a,s){a[3].title?n?(n.p(a,s),s&8&&T(n,1)):(n=Di(a),n.c(),T(n,1),n.m(t,i)):n&&(Z(),M(n,1,1,()=>{n=null}),X()),a[1]?o?o.p(a,s):(o=Li(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(a){r||(T(n),r=!0)},o(a){M(n),r=!1},d(a){a&&q(t),n&&n.d(),o&&o.d()}}}function Di(e){let t,i;const r=e[5].title,n=Et(r,e,e[4],Ni);return{c(){t=A("p"),n&&n.c(),k(t,"class","card-header-title")},m(o,a){L(o,t,a),n&&n.m(t,null),i=!0},p(o,a){n&&n.p&&(!i||a&16)&&Ct(n,r,o,o[4],i?zt(r,o[4],a,Io):At(o[4]),Ni)},i(o){i||(T(n,o),i=!0)},o(o){M(n,o),i=!1},d(o){o&&q(t),n&&n.d(o)}}}function Li(e){let t,i,r;return{c(){t=A("button"),t.innerHTML='<div class="delete"></div>',k(t,"class","card-header-icon")},m(n,o){L(n,t,o),i||(r=ye(t,"click",e[2]),i=!0)},p:W,d(n){n&&q(t),i=!1,r()}}}function Bi(e){let t,i;const r=e[5].footer,n=Et(r,e,e[4],qi);return{c(){t=A("footer"),n&&n.c(),k(t,"class","card-footer")},m(o,a){L(o,t,a),n&&n.m(t,null),i=!0},p(o,a){n&&n.p&&(!i||a&16)&&Ct(n,r,o,o[4],i?zt(r,o[4],a,To):At(o[4]),qi)},i(o){i||(T(n,o),i=!0)},o(o){M(n,o),i=!1},d(o){o&&q(t),n&&n.d(o)}}}function Oo(e){let t,i,r,n,o,a,s,l=(e[3].title||e[1])&&$i(e);const c=e[5].default,d=Et(c,e,e[4],null);let f=e[3].footer&&Bi(e);return{c(){t=A("div"),l&&l.c(),i=H(),r=A("div"),d&&d.c(),o=H(),f&&f.c(),k(r,"class",n="card-content "+(e[0]?"":"p-0")),k(t,"class","card")},m(u,b){L(u,t,b),l&&l.m(t,null),_(t,i),_(t,r),d&&d.m(r,null),_(t,o),f&&f.m(t,null),s=!0},p(u,[b]){u[3].title||u[1]?l?(l.p(u,b),b&10&&T(l,1)):(l=$i(u),l.c(),T(l,1),l.m(t,i)):l&&(Z(),M(l,1,1,()=>{l=null}),X()),d&&d.p&&(!s||b&16)&&Ct(d,c,u,u[4],s?zt(c,u[4],b,null):At(u[4]),null),(!s||b&1&&n!==(n="card-content "+(u[0]?"":"p-0")))&&k(r,"class",n),u[3].footer?f?(f.p(u,b),b&8&&T(f,1)):(f=Bi(u),f.c(),T(f,1),f.m(t,null)):f&&(Z(),M(f,1,1,()=>{f=null}),X())},i(u){s||(T(l),T(d,u),T(f),a||je(()=>{a=gn(t,jr,{y:-30}),a.start()}),s=!0)},o(u){M(l),M(d,u),M(f),s=!1},d(u){u&&q(t),l&&l.d(),d&&d.d(u),f&&f.d()}}}function jo(e,t,i){let{$$slots:r={},$$scope:n}=t;const o=nn(r),a=Zt();let{padding:s=!0}=t,{closeable:l=!1}=t;const c=()=>{a("card-closed",{})};return e.$$set=d=>{"padding"in d&&i(0,s=d.padding),"closeable"in d&&i(1,l=d.closeable),"$$scope"in d&&i(4,n=d.$$scope)},[s,l,c,o,n,r]}class Mo extends ce{constructor(t){super(),le(this,t,jo,Oo,oe,{padding:0,closeable:1})}}function Po(e){let t;return{c(){t=se("gotrxx instance administration web interface")},m(i,r){L(i,t,r)},d(i){i&&q(t)}}}function qo(e){let t;return{c(){t=A("span"),t.textContent="gotrxx admin",k(t,"slot","title")},m(i,r){L(i,t,r)},p:W,d(i){i&&q(t)}}}function No(e){let t,i,r,n,o;return i=new Uo({props:{title:"gotrxx-admin",subtitle:"Welcome"}}),n=new Mo({props:{$$slots:{title:[qo],default:[Po]},$$scope:{ctx:e}}}),{c(){t=A("div"),ie(i.$$.fragment),r=H(),ie(n.$$.fragment),k(t,"class","section")},m(a,s){L(a,t,s),ee(i,t,null),_(t,r),ee(n,t,null),o=!0},p(a,[s]){const l={};s&1&&(l.$$scope={dirty:s,ctx:a}),n.$set(l)},i(a){o||(T(i.$$.fragment,a),T(n.$$.fragment,a),o=!0)},o(a){M(i.$$.fragment,a),M(n.$$.fragment,a),o=!1},d(a){a&&q(t),te(i),te(n)}}}class $o extends ce{constructor(t){super(),le(this,t,null,No,oe,{})}}function Ce(e){if(!e)throw Error("Parameter args is required");if(!e.component==!e.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(e.component&&(e.asyncComponent=()=>Promise.resolve(e.component)),typeof e.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(e.conditions){Array.isArray(e.conditions)||(e.conditions=[e.conditions]);for(let i=0;i<e.conditions.length;i++)if(!e.conditions[i]||typeof e.conditions[i]!="function")throw Error("Invalid parameter conditions["+i+"]")}return e.loadingComponent&&(e.asyncComponent.loading=e.loadingComponent,e.asyncComponent.loadingParams=e.loadingParams||void 0),{component:e.asyncComponent,userData:e.userData,conditions:e.conditions&&e.conditions.length?e.conditions:void 0,props:e.props&&Object.keys(e.props).length?e.props:{},_sveltesparouter:!0}}var Do={"/":$o,"/applications":Ce({asyncComponent:()=>ze(()=>import("./Applications.2b5da701.js"),["assets/Applications.2b5da701.js","assets/Applications.158df020.css","assets/ApiOn.582e74c0.js","assets/ApiOn.800af1ac.css","assets/Pagination.4a8c6d06.js","assets/Pagination.b0bbd664.css","assets/NotificationDispatcher.eb466446.js","assets/create-form.430d7af6.js"])}),"/authorizations":Ce({asyncComponent:()=>ze(()=>import("./Authorizations.483286d8.js"),["assets/Authorizations.483286d8.js","assets/Pagination.4a8c6d06.js","assets/Pagination.b0bbd664.css"])}),"/users":Ce({asyncComponent:()=>ze(()=>import("./Users.0b2b4832.js"),["assets/Users.0b2b4832.js","assets/Applications.158df020.css","assets/Pagination.4a8c6d06.js","assets/Pagination.b0bbd664.css","assets/ApiOn.582e74c0.js","assets/ApiOn.800af1ac.css","assets/NotificationDispatcher.eb466446.js","assets/TagInput.539778d0.js"])}),"/roles":Ce({asyncComponent:()=>ze(()=>import("./Roles.3b84582c.js"),["assets/Roles.3b84582c.js","assets/Pagination.4a8c6d06.js","assets/Pagination.b0bbd664.css"])}),"/invites":Ce({asyncComponent:()=>ze(()=>import("./Invites.9c526648.js"),["assets/Invites.9c526648.js","assets/Pagination.4a8c6d06.js","assets/Pagination.b0bbd664.css","assets/create-form.430d7af6.js","assets/TagInput.539778d0.js","assets/NotificationDispatcher.eb466446.js"])}),"/oidc-callback":Ce({asyncComponent:()=>ze(()=>import("./OidcCallback.2282e332.js"),[])}),"/silent-renew":Ce({asyncComponent:()=>ze(()=>import("./OidcSilentRenew.59ef3c59.js"),[])}),"*":Ce({asyncComponent:()=>ze(()=>import("./NotFound.91c9a36c.js"),[])})};function Lo(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var i,r,n,o,a=[],s="",l=e.split("/");for(l[0]||l.shift();n=l.shift();)i=n[0],i==="*"?(a.push("wild"),s+="/(.*)"):i===":"?(r=n.indexOf("?",1),o=n.indexOf(".",1),a.push(n.substring(1,~r?r:~o?o:n.length)),s+=!!~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+n.substring(o))):s+="/"+n;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function Bo(e){let t,i,r;const n=[e[2]];var o=e[0];function a(s){let l={};for(let c=0;c<n.length;c+=1)l=it(l,n[c]);return{props:l}}return o&&(t=new o(a()),t.$on("routeEvent",e[7])),{c(){t&&ie(t.$$.fragment),i=Pe()},m(s,l){t&&ee(t,s,l),L(s,i,l),r=!0},p(s,l){const c=l&4?mr(n,[hr(s[2])]):{};if(o!==(o=s[0])){if(t){Z();const d=t;M(d.$$.fragment,1,0,()=>{te(d,1)}),X()}o?(t=new o(a()),t.$on("routeEvent",s[7]),ie(t.$$.fragment),T(t.$$.fragment,1),ee(t,i.parentNode,i)):t=null}else o&&t.$set(c)},i(s){r||(t&&T(t.$$.fragment,s),r=!0)},o(s){t&&M(t.$$.fragment,s),r=!1},d(s){s&&q(i),t&&te(t,s)}}}function Fo(e){let t,i,r;const n=[{params:e[1]},e[2]];var o=e[0];function a(s){let l={};for(let c=0;c<n.length;c+=1)l=it(l,n[c]);return{props:l}}return o&&(t=new o(a()),t.$on("routeEvent",e[6])),{c(){t&&ie(t.$$.fragment),i=Pe()},m(s,l){t&&ee(t,s,l),L(s,i,l),r=!0},p(s,l){const c=l&6?mr(n,[l&2&&{params:s[1]},l&4&&hr(s[2])]):{};if(o!==(o=s[0])){if(t){Z();const d=t;M(d.$$.fragment,1,0,()=>{te(d,1)}),X()}o?(t=new o(a()),t.$on("routeEvent",s[6]),ie(t.$$.fragment),T(t.$$.fragment,1),ee(t,i.parentNode,i)):t=null}else o&&t.$set(c)},i(s){r||(t&&T(t.$$.fragment,s),r=!0)},o(s){t&&M(t.$$.fragment,s),r=!1},d(s){s&&q(i),t&&te(t,s)}}}function Ho(e){let t,i,r,n;const o=[Fo,Bo],a=[];function s(l,c){return l[1]?0:1}return t=s(e),i=a[t]=o[t](e),{c(){i.c(),r=Pe()},m(l,c){a[t].m(l,c),L(l,r,c),n=!0},p(l,[c]){let d=t;t=s(l),t===d?a[t].p(l,c):(Z(),M(a[d],1,1,()=>{a[d]=null}),X(),i=a[t],i?i.p(l,c):(i=a[t]=o[t](l),i.c()),T(i,1),i.m(r.parentNode,r))},i(l){n||(T(i),n=!0)},o(l){M(i),n=!1},d(l){a[t].d(l),l&&q(r)}}}function Fi(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const i=t.indexOf("?");let r="";return i>-1&&(r=t.substr(i+1),t=t.substr(0,i)),{location:t,querystring:r}}const ai=Ar(null,function(t){t(Fi());const i=()=>{t(Fi())};return window.addEventListener("hashchange",i,!1),function(){window.removeEventListener("hashchange",i,!1)}});Rr(ai,e=>e.location);Rr(ai,e=>e.querystring);const Hi=qe(void 0);function Go(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Wo(e,t,i){let{routes:r={}}=t,{prefix:n=""}=t,{restoreScrollState:o=!1}=t;class a{constructor(w,x){if(!x||typeof x!="function"&&(typeof x!="object"||x._sveltesparouter!==!0))throw Error("Invalid component object");if(!w||typeof w=="string"&&(w.length<1||w.charAt(0)!="/"&&w.charAt(0)!="*")||typeof w=="object"&&!(w instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:U,keys:j}=Lo(w);this.path=w,typeof x=="object"&&x._sveltesparouter===!0?(this.component=x.component,this.conditions=x.conditions||[],this.userData=x.userData,this.props=x.props||{}):(this.component=()=>Promise.resolve(x),this.conditions=[],this.props={}),this._pattern=U,this._keys=j}match(w){if(n){if(typeof n=="string")if(w.startsWith(n))w=w.substr(n.length)||"/";else return null;else if(n instanceof RegExp){const I=w.match(n);if(I&&I[0])w=w.substr(I[0].length)||"/";else return null}}const x=this._pattern.exec(w);if(x===null)return null;if(this._keys===!1)return x;const U={};let j=0;for(;j<this._keys.length;){try{U[this._keys[j]]=decodeURIComponent(x[j+1]||"")||null}catch{U[this._keys[j]]=null}j++}return U}async checkConditions(w){for(let x=0;x<this.conditions.length;x++)if(!await this.conditions[x](w))return!1;return!0}}const s=[];r instanceof Map?r.forEach((p,w)=>{s.push(new a(w,p))}):Object.keys(r).forEach(p=>{s.push(new a(p,r[p]))});let l=null,c=null,d={};const f=Zt();async function u(p,w){await hn(),f(p,w)}let b=null,y=null;o&&(y=p=>{p.state&&(p.state.__svelte_spa_router_scrollY||p.state.__svelte_spa_router_scrollX)?b=p.state:b=null},window.addEventListener("popstate",y),bn(()=>{Go(b)}));let g=null,v=null;const E=ai.subscribe(async p=>{g=p;let w=0;for(;w<s.length;){const x=s[w].match(p.location);if(!x){w++;continue}const U={route:s[w].path,location:p.location,querystring:p.querystring,userData:s[w].userData,params:x&&typeof x=="object"&&Object.keys(x).length?x:null};if(!await s[w].checkConditions(U)){i(0,l=null),v=null,u("conditionsFailed",U);return}u("routeLoading",Object.assign({},U));const j=s[w].component;if(v!=j){j.loading?(i(0,l=j.loading),v=j,i(1,c=j.loadingParams),i(2,d={}),u("routeLoaded",Object.assign({},U,{component:l,name:l.name,params:c}))):(i(0,l=null),v=null);const I=await j();if(p!=g)return;i(0,l=I&&I.default||I),v=j}x&&typeof x=="object"&&Object.keys(x).length?i(1,c=x):i(1,c=null),i(2,d=s[w].props),u("routeLoaded",Object.assign({},U,{component:l,name:l.name,params:c})).then(()=>{Hi.set(c)});return}i(0,l=null),v=null,Hi.set(void 0)});mn(()=>{E(),y&&window.removeEventListener("popstate",y)});function m(p){gi.call(this,e,p)}function h(p){gi.call(this,e,p)}return e.$$set=p=>{"routes"in p&&i(3,r=p.routes),"prefix"in p&&i(4,n=p.prefix),"restoreScrollState"in p&&i(5,o=p.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,c,d,r,n,o,m,h]}class Ko extends ce{constructor(t){super(),le(this,t,Wo,Ho,oe,{routes:3,prefix:4,restoreScrollState:5})}}var si={exports:{}},Pr=function(t,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return t.apply(i,n)}},Jo=Pr,li=Object.prototype.toString,ci=function(e){return function(t){var i=li.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function Ne(e){return e=e.toLowerCase(),function(i){return ci(i)===e}}function di(e){return Array.isArray(e)}function _t(e){return typeof e=="undefined"}function Yo(e){return e!==null&&!_t(e)&&e.constructor!==null&&!_t(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var qr=Ne("ArrayBuffer");function Vo(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qr(e.buffer),t}function Qo(e){return typeof e=="string"}function Zo(e){return typeof e=="number"}function Nr(e){return e!==null&&typeof e=="object"}function ht(e){if(ci(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var Xo=Ne("Date"),ea=Ne("File"),ta=Ne("Blob"),ia=Ne("FileList");function fi(e){return li.call(e)==="[object Function]"}function ra(e){return Nr(e)&&fi(e.pipe)}function na(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||li.call(e)===t||fi(e.toString)&&e.toString()===t)}var oa=Ne("URLSearchParams");function aa(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function sa(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ui(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),di(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function Yt(){var e={};function t(n,o){ht(e[o])&&ht(n)?e[o]=Yt(e[o],n):ht(n)?e[o]=Yt({},n):di(n)?e[o]=n.slice():e[o]=n}for(var i=0,r=arguments.length;i<r;i++)ui(arguments[i],t);return e}function la(e,t,i){return ui(t,function(n,o){i&&typeof n=="function"?e[o]=Jo(n,i):e[o]=n}),e}function ca(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function da(e,t,i,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,i&&Object.assign(e.prototype,i)}function fa(e,t,i){var r,n,o,a={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)o=r[n],a[o]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t}function ua(e,t,i){e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;var r=e.indexOf(t,i);return r!==-1&&r===i}function ba(e){if(!e)return null;var t=e.length;if(_t(t))return null;for(var i=new Array(t);t-- >0;)i[t]=e[t];return i}var ma=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),V={isArray:di,isArrayBuffer:qr,isBuffer:Yo,isFormData:na,isArrayBufferView:Vo,isString:Qo,isNumber:Zo,isObject:Nr,isPlainObject:ht,isUndefined:_t,isDate:Xo,isFile:ea,isBlob:ta,isFunction:fi,isStream:ra,isURLSearchParams:oa,isStandardBrowserEnv:sa,forEach:ui,merge:Yt,extend:la,trim:aa,stripBOM:ca,inherits:da,toFlatObject:fa,kindOf:ci,kindOfTest:Ne,endsWith:ua,toArray:ba,isTypedArray:ma,isFileList:ia},Le=V;function Gi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $r=function(t,i,r){if(!i)return t;var n;if(r)n=r(i);else if(Le.isURLSearchParams(i))n=i.toString();else{var o=[];Le.forEach(i,function(l,c){l===null||typeof l=="undefined"||(Le.isArray(l)?c=c+"[]":l=[l],Le.forEach(l,function(f){Le.isDate(f)?f=f.toISOString():Le.isObject(f)&&(f=JSON.stringify(f)),o.push(Gi(c)+"="+Gi(f))}))}),n=o.join("&")}if(n){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t},ha=V;function Tt(){this.handlers=[]}Tt.prototype.use=function(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Tt.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Tt.prototype.forEach=function(t){ha.forEach(this.handlers,function(r){r!==null&&t(r)})};var pa=Tt,ga=V,va=function(t,i){ga.forEach(t,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(t[i]=n,delete t[o])})},Dr=V;function We(e,t,i,r,n){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}Dr.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Lr=We.prototype,Br={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){Br[e]={value:e}});Object.defineProperties(We,Br);Object.defineProperty(Lr,"isAxiosError",{value:!0});We.from=function(e,t,i,r,n,o){var a=Object.create(Lr);return Dr.toFlatObject(e,a,function(l){return l!==Error.prototype}),We.call(a,e.message,t,i,r,n),a.name=e.name,o&&Object.assign(a,o),a};var Ve=We,Fr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fe=V;function wa(e,t){t=t||new FormData;var i=[];function r(o){return o===null?"":fe.isDate(o)?o.toISOString():fe.isArrayBuffer(o)||fe.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,a){if(fe.isPlainObject(o)||fe.isArray(o)){if(i.indexOf(o)!==-1)throw Error("Circular reference detected in "+a);i.push(o),fe.forEach(o,function(l,c){if(!fe.isUndefined(l)){var d=a?a+"."+c:c,f;if(l&&!a&&typeof l=="object"){if(fe.endsWith(c,"{}"))l=JSON.stringify(l);else if(fe.endsWith(c,"[]")&&(f=fe.toArray(l))){f.forEach(function(u){!fe.isUndefined(u)&&t.append(d,r(u))});return}}n(l,d)}}),i.pop()}else t.append(a,r(o))}return n(e),t}var Hr=wa,qt=Ve,ka=function(t,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):i(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},ft=V,xa=ft.isStandardBrowserEnv()?function(){return{write:function(i,r,n,o,a,s){var l=[];l.push(i+"="+encodeURIComponent(r)),ft.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ft.isString(o)&&l.push("path="+o),ft.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ya=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},_a=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t},Sa=ya,Ea=_a,Gr=function(t,i){return t&&!Sa(i)?Ea(t,i):i},Nt=V,za=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ca=function(t){var i={},r,n,o;return t&&Nt.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),r=Nt.trim(s.substr(0,o)).toLowerCase(),n=Nt.trim(s.substr(o+1)),r){if(i[r]&&za.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i},Wi=V,Aa=Wi.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(o){var a=o;return t&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(a){var s=Wi.isString(a)?n(a):a;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}(),Vt=Ve,Ra=V;function Wr(e){Vt.call(this,e==null?"canceled":e,Vt.ERR_CANCELED),this.name="CanceledError"}Ra.inherits(Wr,Vt,{__CANCEL__:!0});var It=Wr,Ua=function(t){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""},et=V,Ta=ka,Ia=xa,Oa=$r,ja=Gr,Ma=Ca,Pa=Aa,qa=Fr,we=Ve,Na=It,$a=Ua,Ki=function(t){return new Promise(function(r,n){var o=t.data,a=t.headers,s=t.responseType,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}et.isFormData(o)&&et.isStandardBrowserEnv()&&delete a["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",u=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(f+":"+u)}var b=ja(t.baseURL,t.url);d.open(t.method.toUpperCase(),Oa(b,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function y(){if(!!d){var E="getAllResponseHeaders"in d?Ma(d.getAllResponseHeaders()):null,m=!s||s==="text"||s==="json"?d.responseText:d.response,h={data:m,status:d.status,statusText:d.statusText,headers:E,config:t,request:d};Ta(function(w){r(w),c()},function(w){n(w),c()},h),d=null}}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){!d||(n(new we("Request aborted",we.ECONNABORTED,t,d)),d=null)},d.onerror=function(){n(new we("Network Error",we.ERR_NETWORK,t,d,d)),d=null},d.ontimeout=function(){var m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",h=t.transitional||qa;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),n(new we(m,h.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,d)),d=null},et.isStandardBrowserEnv()){var g=(t.withCredentials||Pa(b))&&t.xsrfCookieName?Ia.read(t.xsrfCookieName):void 0;g&&(a[t.xsrfHeaderName]=g)}"setRequestHeader"in d&&et.forEach(a,function(m,h){typeof o=="undefined"&&h.toLowerCase()==="content-type"?delete a[h]:d.setRequestHeader(h,m)}),et.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),s&&s!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(E){!d||(n(!E||E&&E.type?new Na:E),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),o||(o=null);var v=$a(b);if(v&&["http","https","file"].indexOf(v)===-1){n(new we("Unsupported protocol "+v+":",we.ERR_BAD_REQUEST,t));return}d.send(o)})},Da=null,Y=V,Ji=va,Yi=Ve,La=Fr,Ba=Hr,Fa={"Content-Type":"application/x-www-form-urlencoded"};function Vi(e,t){!Y.isUndefined(e)&&Y.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Ha(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Ki),e}function Ga(e,t,i){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(e)}var Ot={transitional:La,adapter:Ha(),transformRequest:[function(t,i){if(Ji(i,"Accept"),Ji(i,"Content-Type"),Y.isFormData(t)||Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return Vi(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=Y.isObject(t),n=i&&i["Content-Type"],o;if((o=Y.isFileList(t))||r&&n==="multipart/form-data"){var a=this.env&&this.env.FormData;return Ba(o?{"files[]":t}:t,a&&new a)}else if(r||n==="application/json")return Vi(i,"application/json"),Ga(t);return t}],transformResponse:[function(t){var i=this.transitional||Ot.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||n&&Y.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Yi.from(a,Yi.ERR_BAD_RESPONSE,this,null,this.response):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Da},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Y.forEach(["delete","get","head"],function(t){Ot.headers[t]={}});Y.forEach(["post","put","patch"],function(t){Ot.headers[t]=Y.merge(Fa)});var bi=Ot,Wa=V,Ka=bi,Ja=function(t,i,r){var n=this||Ka;return Wa.forEach(r,function(a){t=a.call(n,t,i)}),t},Kr=function(t){return!!(t&&t.__CANCEL__)},Qi=V,$t=Ja,Ya=Kr,Va=bi,Qa=It;function Dt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qa}var Za=function(t){Dt(t),t.headers=t.headers||{},t.data=$t.call(t,t.data,t.headers,t.transformRequest),t.headers=Qi.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Qi.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]});var i=t.adapter||Va.adapter;return i(t).then(function(n){return Dt(t),n.data=$t.call(t,n.data,n.headers,t.transformResponse),n},function(n){return Ya(n)||(Dt(t),n&&n.response&&(n.response.data=$t.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})},ae=V,Jr=function(t,i){i=i||{};var r={};function n(d,f){return ae.isPlainObject(d)&&ae.isPlainObject(f)?ae.merge(d,f):ae.isPlainObject(f)?ae.merge({},f):ae.isArray(f)?f.slice():f}function o(d){if(ae.isUndefined(i[d])){if(!ae.isUndefined(t[d]))return n(void 0,t[d])}else return n(t[d],i[d])}function a(d){if(!ae.isUndefined(i[d]))return n(void 0,i[d])}function s(d){if(ae.isUndefined(i[d])){if(!ae.isUndefined(t[d]))return n(void 0,t[d])}else return n(void 0,i[d])}function l(d){if(d in i)return n(t[d],i[d]);if(d in t)return n(void 0,t[d])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return ae.forEach(Object.keys(t).concat(Object.keys(i)),function(f){var u=c[f]||o,b=u(f);ae.isUndefined(b)&&u!==l||(r[f]=b)}),r},Yr={version:"0.27.2"},Xa=Yr.version,Re=Ve,mi={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){mi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var Zi={};mi.transitional=function(t,i,r){function n(o,a){return"[Axios v"+Xa+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,s){if(t===!1)throw new Re(n(a," has been removed"+(i?" in "+i:"")),Re.ERR_DEPRECATED);return i&&!Zi[a]&&(Zi[a]=!0,console.warn(n(a," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(o,a,s):!0}};function es(e,t,i){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),n=r.length;n-- >0;){var o=r[n],a=t[o];if(a){var s=e[o],l=s===void 0||a(s,o,e);if(l!==!0)throw new Re("option "+o+" must be "+l,Re.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Re("Unknown option "+o,Re.ERR_BAD_OPTION)}}var ts={assertOptions:es,validators:mi},Vr=V,is=$r,Xi=pa,er=Za,jt=Jr,rs=Gr,Qr=ts,Be=Qr.validators;function Ke(e){this.defaults=e,this.interceptors={request:new Xi,response:new Xi}}Ke.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=jt(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&Qr.assertOptions(r,{silentJSONParsing:Be.transitional(Be.boolean),forcedJSONParsing:Be.transitional(Be.boolean),clarifyTimeoutError:Be.transitional(Be.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(i)===!1||(o=o&&b.synchronous,n.unshift(b.fulfilled,b.rejected))});var a=[];this.interceptors.response.forEach(function(b){a.push(b.fulfilled,b.rejected)});var s;if(!o){var l=[er,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),s=Promise.resolve(i);l.length;)s=s.then(l.shift(),l.shift());return s}for(var c=i;n.length;){var d=n.shift(),f=n.shift();try{c=d(c)}catch(u){f(u);break}}try{s=er(c)}catch(u){return Promise.reject(u)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};Ke.prototype.getUri=function(t){t=jt(this.defaults,t);var i=rs(t.baseURL,t.url);return is(i,t.params,t.paramsSerializer)};Vr.forEach(["delete","get","head","options"],function(t){Ke.prototype[t]=function(i,r){return this.request(jt(r||{},{method:t,url:i,data:(r||{}).data}))}});Vr.forEach(["post","put","patch"],function(t){function i(r){return function(o,a,s){return this.request(jt(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Ke.prototype[t]=i(),Ke.prototype[t+"Form"]=i(!0)});var ns=Ke,os=It;function Je(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(n){t=n});var i=this;this.promise.then(function(r){if(!!i._listeners){var n,o=i._listeners.length;for(n=0;n<o;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,o=new Promise(function(a){i.subscribe(a),n=a}).then(r);return o.cancel=function(){i.unsubscribe(n)},o},e(function(n){i.reason||(i.reason=new os(n),t(i.reason))})}Je.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Je.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Je.prototype.unsubscribe=function(t){if(!!this._listeners){var i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}};Je.source=function(){var t,i=new Je(function(n){t=n});return{token:i,cancel:t}};var as=Je,ss=function(t){return function(r){return t.apply(null,r)}},ls=V,cs=function(t){return ls.isObject(t)&&t.isAxiosError===!0},tr=V,ds=Pr,pt=ns,fs=Jr,us=bi;function Zr(e){var t=new pt(e),i=ds(pt.prototype.request,t);return tr.extend(i,pt.prototype,t),tr.extend(i,t),i.create=function(n){return Zr(fs(e,n))},i}var ne=Zr(us);ne.Axios=pt;ne.CanceledError=It;ne.CancelToken=as;ne.isCancel=Kr;ne.VERSION=Yr.version;ne.toFormData=Hr;ne.AxiosError=Ve;ne.Cancel=ne.CanceledError;ne.all=function(t){return Promise.all(t)};ne.spread=ss;ne.isAxiosError=cs;si.exports=ne;si.exports.default=ne;var Xr=si.exports;let gt=null;ge.subscribe(e=>{gt=Xr.create({baseURL:Fe(pe).instanceUrl}),gt.interceptors.request.use(t=>{const i=e.accessToken,r=i?`Bearer ${i}`:"";return t.headers.common.Authorization=r,t},t=>Promise.reject(t)),gt.interceptors.response.use(t=>t,t=>{t.response.status===401&&(ge.update(r=>(r.isAuthenticated=!1,r.access_token=null,r)),new oi(Fe(pe).oidcSettings).signinRedirect())})});var Ns=gt;function ir(e){let t,i;return t=new Mr({props:{type:"danger",title:e[2].title,content:e[2].content}}),{c(){ie(t.$$.fragment)},m(r,n){ee(t,r,n),i=!0},p(r,n){const o={};n&4&&(o.title=r[2].title),n&4&&(o.content=r[2].content),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){te(t,r)}}}function bs(e){let t,i,r,n,o,a,s,l,c,d,f,u,b,y,g,v,E,m,h,p,w,x,U,j,I,N,O=e[2].visible&&ir(e);return{c(){t=A("section"),O&&O.c(),i=H(),r=A("div"),n=A("div"),o=A("h1"),o.textContent="Please configure your instance",a=H(),s=A("div"),l=A("div"),c=A("div"),d=A("label"),d.textContent="Client ID",f=H(),u=A("div"),b=A("input"),y=H(),g=A("div"),v=A("div"),E=A("label"),E.textContent="Base URL",m=H(),h=A("div"),p=A("input"),w=H(),x=A("div"),U=A("button"),U.textContent="Set",k(o,"class","has-text-centered has-text-weight-bold mt-1 mb-4"),k(d,"for","clientId"),k(d,"class","label"),k(b,"id","clientId"),k(b,"class","input"),k(b,"type","text"),k(u,"class","control"),k(c,"class","field"),k(l,"class","column is-2"),k(E,"for","baseUrl"),k(E,"class","label"),k(p,"id","baseUrl"),k(p,"class","input"),k(p,"type","text"),k(h,"class","control"),k(v,"class","field"),k(g,"class","column"),k(U,"class","button is-link is-fullwidth"),k(x,"class","column is-1 is-flex is-align-items-flex-end"),k(s,"class","columns"),k(n,"class","card-content"),k(r,"class","card"),k(t,"class","section")},m(F,S){L(F,t,S),O&&O.m(t,null),_(t,i),_(t,r),_(r,n),_(n,o),_(n,a),_(n,s),_(s,l),_(l,c),_(c,d),_(c,f),_(c,u),_(u,b),ct(b,e[1]),_(s,y),_(s,g),_(g,v),_(v,E),_(v,m),_(v,h),_(h,p),ct(p,e[0]),_(s,w),_(s,x),_(x,U),j=!0,I||(N=[ye(b,"input",e[4]),ye(p,"input",e[5]),ye(U,"click",e[3])],I=!0)},p(F,[S]){F[2].visible?O?(O.p(F,S),S&4&&T(O,1)):(O=ir(F),O.c(),T(O,1),O.m(t,i)):O&&(Z(),M(O,1,1,()=>{O=null}),X()),S&2&&b.value!==F[1]&&ct(b,F[1]),S&1&&p.value!==F[0]&&ct(p,F[0])},i(F){j||(T(O),j=!0)},o(F){M(O),j=!1},d(F){F&&q(t),O&&O.d(),I=!1,_e(N)}}}function ms(e,t,i){let r="http://localhost:5000",n="gotrxxadmin",o={visible:!1,title:"",content:""};ro();async function a(){Kt.set(!0);try{const c=await Xr.get(`${r}/manage/.ping`),d={instanceUrl:r,clientId:n,oidcSettings:{authority:r,client_id:n,redirect_uri:`${window.location.origin}/gotrxx-admin/#oidc-callback`,response_type:"code",scope:"offline_access",filterProtocolClaims:!0,loadUserInfo:!1,automaticSilentRenew:!0,silent_redirect_uri:`${window.location.origin}/gotrxx-admin//silent-renew`}};pe.update(f=>d)}catch{i(2,o.visible=!0,o),i(2,o.title="Instance unreachable",o),i(2,o.content=`<p><strong>${r}</strong> could not be reached. Either your instance is not running or you didnt configure the manage endpoint.</p>`,o)}Kt.set(!1)}function s(){n=this.value,i(1,n)}function l(){r=this.value,i(0,r)}return[r,n,o,a,s,l]}class hs extends ce{constructor(t){super(),le(this,t,ms,bs,oe,{})}}function ps(e){let t;return{c(){t=A("div"),t.innerHTML='<progress class="progress is-primary svelte-1uaxxzu" max="100"></progress>',k(t,"class","overlay svelte-1uaxxzu")},m(i,r){L(i,t,r)},p:W,i:W,o:W,d(i){i&&q(t)}}}class gs extends ce{constructor(t){super(),le(this,t,null,ps,oe,{})}}function vs(e){let t,i;return t=new hs({}),{c(){ie(t.$$.fragment)},m(r,n){ee(t,r,n),i=!0},p:W,i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){te(t,r)}}}function ws(e){let t,i,r,n,o,a,s,l,c,d,f,u,b,y,g,v,E,m,h,p,w,x,U,j,I,N;t=new bo({props:{signedIn:e[4],instanceUrl:e[1]}}),o=new Eo({});let O=e[4]&&rr(),F=e[4]&&nr(e);return{c(){ie(t.$$.fragment),i=H(),r=A("div"),n=A("div"),ie(o.$$.fragment),a=H(),O&&O.c(),s=H(),l=A("footer"),c=A("div"),d=A("strong"),d.textContent="Authenticated",f=H(),u=se(e[4]),b=H(),F&&F.c(),y=se(`\r
				- `),g=A("strong"),g.textContent="URL",v=H(),E=se(e[1]),m=se(" - "),h=A("strong"),h.textContent="Client ID",p=H(),w=se(e[2]),x=H(),U=A("button"),k(n,"class","section feedback-bar svelte-gc1t8s"),k(r,"class","container"),k(U,"class","delete is-small"),k(c,"class","has-text-centered block"),k(l,"class","footer-line")},m(S,z){ee(t,S,z),L(S,i,z),L(S,r,z),_(r,n),ee(o,n,null),L(S,a,z),O&&O.m(S,z),L(S,s,z),L(S,l,z),_(l,c),_(c,d),_(c,f),_(c,u),_(c,b),F&&F.m(c,null),_(c,y),_(c,g),_(c,v),_(c,E),_(c,m),_(c,h),_(c,p),_(c,w),_(c,x),_(c,U),j=!0,I||(N=ye(U,"click",e[6]),I=!0)},p(S,z){const C={};z&16&&(C.signedIn=S[4]),z&2&&(C.instanceUrl=S[1]),t.$set(C),S[4]?O?(O.p(S,z),z&16&&T(O,1)):(O=rr(),O.c(),T(O,1),O.m(s.parentNode,s)):O&&(Z(),M(O,1,1,()=>{O=null}),X()),(!j||z&16)&&Ie(u,S[4]),S[4]?F?F.p(S,z):(F=nr(S),F.c(),F.m(c,y)):F&&(F.d(1),F=null),(!j||z&2)&&Ie(E,S[1]),(!j||z&4)&&Ie(w,S[2])},i(S){j||(T(t.$$.fragment,S),T(o.$$.fragment,S),T(O),j=!0)},o(S){M(t.$$.fragment,S),M(o.$$.fragment,S),M(O),j=!1},d(S){te(t,S),S&&q(i),S&&q(r),te(o),S&&q(a),O&&O.d(S),S&&q(s),S&&q(l),F&&F.d(),I=!1,N()}}}function rr(e){let t,i,r;return i=new Ko({props:{routes:Do}}),{c(){t=A("div"),ie(i.$$.fragment),k(t,"class","container")},m(n,o){L(n,t,o),ee(i,t,null),r=!0},p:W,i(n){r||(T(i.$$.fragment,n),r=!0)},o(n){M(i.$$.fragment,n),r=!1},d(n){n&&q(t),te(i)}}}function nr(e){let t,i,r,n;return{c(){t=se("- "),i=A("strong"),i.textContent="Expires",r=H(),n=se(e[3])},m(o,a){L(o,t,a),L(o,i,a),L(o,r,a),L(o,n,a)},p(o,a){a&8&&Ie(n,o[3])},d(o){o&&q(t),o&&q(i),o&&q(r),o&&q(n)}}}function or(e){let t,i;return t=new gs({}),{c(){ie(t.$$.fragment)},m(r,n){ee(t,r,n),i=!0},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){te(t,r)}}}function ks(e){let t,i,r,n,o,a,s;const l=[ws,vs],c=[];function d(u,b){return u[0]?0:1}i=d(e),r=c[i]=l[i](e);let f=e[5]&&or();return{c(){t=A("main"),r.c(),o=H(),f&&f.c(),a=Pe(),k(t,"class",n=pi(e[5]?"is-blured":"")+" svelte-gc1t8s")},m(u,b){L(u,t,b),c[i].m(t,null),L(u,o,b),f&&f.m(u,b),L(u,a,b),s=!0},p(u,[b]){let y=i;i=d(u),i===y?c[i].p(u,b):(Z(),M(c[y],1,1,()=>{c[y]=null}),X(),r=c[i],r?r.p(u,b):(r=c[i]=l[i](u),r.c()),T(r,1),r.m(t,null)),(!s||b&32&&n!==(n=pi(u[5]?"is-blured":"")+" svelte-gc1t8s"))&&k(t,"class",n),u[5]?f?b&32&&T(f,1):(f=or(),f.c(),T(f,1),f.m(a.parentNode,a)):f&&(Z(),M(f,1,1,()=>{f=null}),X())},i(u){s||(T(r),T(f),s=!0)},o(u){M(r),M(f),s=!1},d(u){u&&q(t),c[i].d(),u&&q(o),f&&f.d(u),u&&q(a)}}}function xs(e,t,i){let r=!1,n="",o="",a=null,s=!1;pe.subscribe(d=>{d.instanceUrl!==null&&(i(0,r=!0),i(2,o=d.clientId),i(1,n=d.instanceUrl))}),ge.subscribe(d=>{i(4,s=d.isAuthenticated),i(3,a=xn.unix(d.accessTokenExpires).format("YYYY-MM-DD HH:mm"))});let l=!1;return Kt.subscribe(d=>{i(5,l=d)}),[r,n,o,a,s,l,()=>{ge.update(d=>({isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null})),pe.update(d=>({oidcSettings:null,instanceUrl:null,clientId:null})),i(1,n=""),i(2,o=""),i(0,r=!1),window.location.replace("/")}]}class ys extends ce{constructor(t){super(),le(this,t,xs,ks,oe,{})}}function _s(e){return new oi(Fe(pe).oidcSettings).signinSilentCallback().catch(t=>{console.log(t)}),[]}class Ss extends ce{constructor(t){super(),le(this,t,_s,null,oe,{})}}window.location.pathname==="/silent-renew"?new Ss({target:document.getElementById("app")}):new ys({target:document.getElementById("app")});export{vn as $,Ye as A,As as B,Mo as C,Zt as D,Es as E,Kt as F,zs as G,vi as H,Ps as I,Is as J,js as K,Ms as L,Et as M,Cs as N,Ct as O,Uo as P,At as Q,zt as R,ce as S,gi as T,xn as U,Us as V,je as W,Os as X,jr as Y,gn as Z,qs as _,Te as a,pi as a0,Xt as a1,Ts as a2,hn as a3,Ei as a4,qe as a5,Rr as a6,Fe as a7,ge as a8,nn as a9,ao as aa,oi as ab,pe as ac,k as b,L as c,_ as d,A as e,q as f,Ns as g,Pe as h,le as i,Z as j,M as k,X as l,ie as m,W as n,ee as o,te as p,se as q,H as r,oe as s,T as t,Ie as u,Rs as v,ct as w,ye as x,sn as y,_e as z};
