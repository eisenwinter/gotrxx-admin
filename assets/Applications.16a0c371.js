import{S as De,i as Fe,s as Ne,e as c,a as qe,b as o,c as k,d as r,n as se,f as w,g as _e,h as He,t as m,j as Ee,k as g,l as Ae,C as Me,m as U,o as K,p as L,q as Z,r as b,u as be,v as Re,w as ce,x as h,y as Le,z as ge,A as rt,B as Ue,D as ft,E as Je,F as Te,G as Ke,P as pt,H as dt,I as _t,J as mt,K as je,L as $t}from"./index.8ca1d230.js";import{o as gt,g as Se,N as ht,c as Ve}from"./ApiOn.7a50dc6e.js";import{P as ct,M as vt,F as $e,C as ke,a as bt,T as kt}from"./Pagination.85a9118d.js";import{d as Ce}from"./NotificationDispatcher.7a57e2b6.js";import{c as wt}from"./create-form.1cd6c457.js";function Ct(n){let e,l,t,s,i;return{c(){e=c("span"),l=qe("svg"),t=qe("g"),s=qe("path"),o(s,"d","M14.811 6.299l0.707-0.707-1.733-1.733 0.757-0.753-0.705-0.709-8.146 8.107c-0.484-0.336-1.070-0.535-1.703-0.535-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3c0-0.661-0.222-1.268-0.585-1.764l5.264-5.238 1.738 1.738 0.707-0.707-1.737-1.736 0.701-0.698 1.735 1.735zM3.987 14.969c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2-0.897 2-2 2z"),o(s,"fill","#000000"),o(l,"version","1.1"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"xmlns:xlink","http://www.w3.org/1999/xlink"),o(l,"width","17"),o(l,"height","17"),o(l,"viewBox","0 0 17 17"),o(l,"class","svelte-csyb9y"),o(e,"class",i="icon "+(n[1]?`is-${n[1]}`:"")+" "+(n[0]?`is-${n[0]}`:""))},m(a,u){k(a,e,u),r(e,l),r(l,t),r(l,s)},p(a,[u]){u&3&&i!==(i="icon "+(a[1]?`is-${a[1]}`:"")+" "+(a[0]?`is-${a[0]}`:""))&&o(e,"class",i)},i:se,o:se,d(a){a&&w(e)}}}function Ot(n,e,l){let{size:t=""}=e,{type:s=""}=e;return n.$$set=i=>{"size"in i&&l(0,t=i.size),"type"in i&&l(1,s=i.type)},[t,s]}class St extends De{constructor(e){super(),Fe(this,e,Ot,Ct,Ne,{size:0,type:1})}}const Et=(n,e)=>({async retireApplication(){await gt({title:"Are you sure?",message:`<p>This action can <strong>not</strong> be undone. 
                        <p>Once retired no more token will be issued for <strong>'${n.client_id}'</strong> and all active tokens will be marked as revoked.</p>`},_e.put,"/manage/applications/retire",{client_id:n.client_id})&&await e()},async setSecret(l){await Se(_e.put,"/manage/applications/secret/set",{client_id:n.client_id,secret:l})&&await e()},async addRedirectUri(l){await Se(_e.put,"/manage/applications/properties/redirect-uri/add",{client_id:n.client_id,uri:l})&&await e()},async removeRedirectUri(l){await Se(_e.put,"/manage/applications/properties/redirect-uri/remove",{client_id:n.client_id,uri:l})&&await e()},async addLogoutUri(l){await Se(_e.put,"/manage/applications/properties/logout-uri/add",{client_id:n.client_id,uri:l})&&await e()},async removeLogoutUri(l){await Se(_e.put,"/manage/applications/properties/logout-uri/remove",{client_id:n.client_id,uri:l})&&await e()},async addFlow(l){await Se(_e.put,"/manage/applications/properties/flow/add",{client_id:n.client_id,flow:l})&&await e()},async removeFlow(l){await Se(_e.put,"/manage/applications/properties/flow/remove",{client_id:n.client_id,flow:l})&&await e()},async enablePKCE(){await Se(_e.put,"/manage/applications/properties/pkce/enable",{client_id:n.client_id})&&await e()},async disablePKCE(){await Se(_e.put,"/manage/applications/properties/pkce/disable",{client_id:n.client_id})&&await e()}});function Ye(n,e,l){const t=n.slice();return t[28]=e[l],t}function Qe(n,e,l){const t=n.slice();return t[28]=e[l],t}function We(n){let e,l;return e=new Me({props:{closeable:!0,$$slots:{footer:[yt],title:[It],default:[At]},$$scope:{ctx:n}}}),e.$on("card-closed",n[15]),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&31|s[1]&4&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Xe(n){let e,l,t,s,i,a,u,f,d,p,$,O,N,S,Q,G,J,C,P,E,D,B,le,x,F,q,R,y,A,ie,j,he,ee,ue,fe,I,V,pe,me,Y,T,ne,ve,W,Ie,te,X,ye,_,v,ae=n[0].redirect_uris,oe=[];for(let z=0;z<ae.length;z+=1)oe[z]=Ze(Qe(n,ae,z));let Oe=n[0].logout_uris,re=[];for(let z=0;z<Oe.length;z+=1)re[z]=xe(Ye(n,Oe,z));return{c(){e=c("div"),l=c("div"),t=c("div"),t.textContent="Redirect URIs",s=b(),i=c("ul");for(let z=0;z<oe.length;z+=1)oe[z].c();a=b(),u=c("div"),f=c("div"),d=c("input"),p=b(),$=c("div"),O=c("button"),O.textContent="Add",N=b(),S=c("div"),Q=c("div"),Q.textContent="Logout URIs",G=b(),J=c("ul");for(let z=0;z<re.length;z+=1)re[z].c();C=b(),P=c("div"),E=c("div"),D=c("input"),B=b(),le=c("div"),x=c("button"),x.textContent="Add",F=b(),q=c("div"),R=c("div"),R.textContent="Allowed flows",y=b(),A=c("div"),ie=c("label"),j=c("input"),he=b(),ee=c("span"),ee.textContent="authorization_code",ue=b(),fe=c("label"),I=c("input"),V=b(),pe=c("span"),pe.textContent="client_credentials",me=b(),Y=c("label"),T=c("input"),ne=b(),ve=c("span"),ve.textContent="refresh_token",W=b(),Ie=c("label"),te=c("input"),X=b(),ye=c("span"),ye.textContent="password",o(t,"class","divider"),o(i,"class","field is-grouped is-grouped-multine is-flex-direction-column"),o(d,"class","input"),o(d,"type","text"),o(d,"placeholder","https://..."),o(f,"class","control"),o(O,"class","button is-primary"),o($,"class","control"),o(u,"class","field has-addons"),o(l,"class","column"),o(Q,"class","divider"),o(J,"class","field is-grouped is-grouped-multine is-flex-direction-column"),o(D,"class","input"),o(D,"type","text"),o(D,"placeholder","https://..."),o(E,"class","control"),o(x,"class","button is-primary"),o(le,"class","control"),o(P,"class","field has-addons"),o(S,"class","column"),o(R,"class","divider"),o(j,"type","checkbox"),j.__value="authorization_code",j.value=j.__value,n[20][0].push(j),o(ee,"class","button"),o(ie,"class","checkbox"),o(I,"type","checkbox"),I.__value="client_credentials",I.value=I.__value,n[20][0].push(I),o(pe,"class","button"),o(fe,"class","checkbox"),o(T,"type","checkbox"),T.__value="refresh_token",T.value=T.__value,n[20][0].push(T),o(ve,"class","button"),o(Y,"class","checkbox"),o(te,"type","checkbox"),te.__value="password",te.value=te.__value,n[20][0].push(te),o(ye,"class","button"),o(Ie,"class","checkbox"),o(A,"class","checkbox-group"),o(q,"class","column"),o(e,"class","columns")},m(z,de){k(z,e,de),r(e,l),r(l,t),r(l,s),r(l,i);for(let H=0;H<oe.length;H+=1)oe[H].m(i,null);r(l,a),r(l,u),r(u,f),r(f,d),ce(d,n[3]),r(u,p),r(u,$),r($,O),r(e,N),r(e,S),r(S,Q),r(S,G),r(S,J);for(let H=0;H<re.length;H+=1)re[H].m(J,null);r(S,C),r(S,P),r(P,E),r(E,D),ce(D,n[4]),r(P,B),r(P,le),r(le,x),r(e,F),r(e,q),r(q,R),r(q,y),r(q,A),r(A,ie),r(ie,j),j.checked=~n[0].flows.indexOf(j.__value),r(ie,he),r(ie,ee),r(A,ue),r(A,fe),r(fe,I),I.checked=~n[0].flows.indexOf(I.__value),r(fe,V),r(fe,pe),r(A,me),r(A,Y),r(Y,T),T.checked=~n[0].flows.indexOf(T.__value),r(Y,ne),r(Y,ve),r(A,W),r(A,Ie),r(Ie,te),te.checked=~n[0].flows.indexOf(te.__value),r(Ie,X),r(Ie,ye),_||(v=[h(d,"input",n[17]),h(O,"click",n[8]),h(D,"input",n[18]),h(x,"click",n[10]),h(j,"change",n[19]),h(j,"click",n[14]("authorization_code")),h(I,"change",n[21]),h(I,"click",n[14]("client_credentials")),h(T,"change",n[22]),h(T,"click",n[14]("refresh_token")),h(te,"change",n[23]),h(te,"click",n[14]("password"))],_=!0)},p(z,de){if(de[0]&513){ae=z[0].redirect_uris;let H;for(H=0;H<ae.length;H+=1){const Pe=Qe(z,ae,H);oe[H]?oe[H].p(Pe,de):(oe[H]=Ze(Pe),oe[H].c(),oe[H].m(i,null))}for(;H<oe.length;H+=1)oe[H].d(1);oe.length=ae.length}if(de[0]&8&&d.value!==z[3]&&ce(d,z[3]),de[0]&2049){Oe=z[0].logout_uris;let H;for(H=0;H<Oe.length;H+=1){const Pe=Ye(z,Oe,H);re[H]?re[H].p(Pe,de):(re[H]=xe(Pe),re[H].c(),re[H].m(J,null))}for(;H<re.length;H+=1)re[H].d(1);re.length=Oe.length}de[0]&16&&D.value!==z[4]&&ce(D,z[4]),de[0]&1&&(j.checked=~z[0].flows.indexOf(j.__value)),de[0]&1&&(I.checked=~z[0].flows.indexOf(I.__value)),de[0]&1&&(T.checked=~z[0].flows.indexOf(T.__value)),de[0]&1&&(te.checked=~z[0].flows.indexOf(te.__value))},d(z){z&&w(e),Le(oe,z),Le(re,z),n[20][0].splice(n[20][0].indexOf(j),1),n[20][0].splice(n[20][0].indexOf(I),1),n[20][0].splice(n[20][0].indexOf(T),1),n[20][0].splice(n[20][0].indexOf(te),1),_=!1,ge(v)}}}function Ze(n){let e,l,t,s=n[28]+"",i,a,u,f,d,p;return{c(){e=c("li"),l=c("div"),t=c("div"),i=Z(s),a=b(),u=c("div"),f=b(),o(t,"class","tag"),o(u,"class","tag is-delete is-clickable"),o(l,"class","tags are-medium has-addons"),o(e,"class","control")},m($,O){k($,e,O),r(e,l),r(l,t),r(t,i),r(l,a),r(l,u),r(e,f),d||(p=h(u,"click",function(){rt(n[9](n[28]))&&n[9](n[28]).apply(this,arguments)}),d=!0)},p($,O){n=$,O[0]&1&&s!==(s=n[28]+"")&&be(i,s)},d($){$&&w(e),d=!1,p()}}}function xe(n){let e,l,t,s=n[28]+"",i,a,u,f,d,p;return{c(){e=c("li"),l=c("div"),t=c("div"),i=Z(s),a=b(),u=c("div"),f=b(),o(t,"class","tag"),o(u,"class","tag is-delete is-clickable"),o(l,"class","tags are-medium has-addons"),o(e,"class","control")},m($,O){k($,e,O),r(e,l),r(l,t),r(t,i),r(l,a),r(l,u),r(e,f),d||(p=h(u,"click",function(){rt(n[11](n[28]))&&n[11](n[28]).apply(this,arguments)}),d=!0)},p($,O){n=$,O[0]&1&&s!==(s=n[28]+"")&&be(i,s)},d($){$&&w(e),d=!1,p()}}}function At(n){let e,l,t,s,i,a=n[0].name+"",u,f,d,p=n[0].client_id+"",$,O,N,S=n[0].type+"",Q,G,J,C,P,E,D=n[0].status+"",B,le,x,F=n[0].has_secret+"",q,R,y,A=n[0].pkce+"",ie,j,he,ee,ue,fe,I=n[0].scope+"",V,pe,me,Y=n[0].client_id!=="$.gotrxx"&&Xe(n);return{c(){e=c("div"),l=c("div"),t=c("dl"),s=c("dt"),s.textContent="Name:",i=c("dd"),u=Z(a),f=c("dt"),f.textContent="Client ID:",d=c("dd"),$=Z(p),O=c("dt"),O.textContent="Type:",N=c("dd"),Q=Z(S),G=b(),J=c("div"),C=c("dl"),P=c("dt"),P.textContent="Status:",E=c("dd"),B=Z(D),le=c("dt"),le.textContent="Has Secret:",x=c("dd"),q=Z(F),R=c("dt"),R.textContent="PKCE:",y=c("dd"),ie=Z(A),j=b(),he=c("div"),ee=c("dl"),ue=c("dt"),ue.textContent="Scope:",fe=c("dd"),V=Z(I),pe=b(),Y&&Y.c(),me=He(),o(s,"class","column is-3"),o(i,"class","column is-9"),o(f,"class","column is-3"),o(d,"class","column is-9"),o(O,"class","column is-3"),o(N,"class","column is-9"),o(t,"class","columns is-multiline is-mobile"),o(l,"class","column"),o(P,"class","column is-4"),o(E,"class","column is-8"),o(le,"class","column is-4"),o(x,"class","column is-8"),o(R,"class","column is-4"),o(y,"class","column is-8"),o(C,"class","columns is-multiline is-mobile"),o(J,"class","column"),o(ue,"class","column is-3"),o(fe,"class","column is-9"),o(ee,"class","columns is-multiline is-mobile"),o(he,"class","column"),o(e,"class","columns")},m(T,ne){k(T,e,ne),r(e,l),r(l,t),r(t,s),r(t,i),r(i,u),r(t,f),r(t,d),r(d,$),r(t,O),r(t,N),r(N,Q),r(e,G),r(e,J),r(J,C),r(C,P),r(C,E),r(E,B),r(C,le),r(C,x),r(x,q),r(C,R),r(C,y),r(y,ie),r(e,j),r(e,he),r(he,ee),r(ee,ue),r(ee,fe),r(fe,V),k(T,pe,ne),Y&&Y.m(T,ne),k(T,me,ne)},p(T,ne){ne[0]&1&&a!==(a=T[0].name+"")&&be(u,a),ne[0]&1&&p!==(p=T[0].client_id+"")&&be($,p),ne[0]&1&&S!==(S=T[0].type+"")&&be(Q,S),ne[0]&1&&D!==(D=T[0].status+"")&&be(B,D),ne[0]&1&&F!==(F=T[0].has_secret+"")&&be(q,F),ne[0]&1&&A!==(A=T[0].pkce+"")&&be(ie,A),ne[0]&1&&I!==(I=T[0].scope+"")&&be(V,I),T[0].client_id!=="$.gotrxx"?Y?Y.p(T,ne):(Y=Xe(T),Y.c(),Y.m(me.parentNode,me)):Y&&(Y.d(1),Y=null)},d(T){T&&w(e),T&&w(pe),Y&&Y.d(T),T&&w(me)}}}function It(n){let e,l,t=n[0].client_id+"",s,i,a=n[0].name+"",u;return{c(){e=c("span"),l=Z("("),s=Z(t),i=Z(") "),u=Z(a),o(e,"slot","title")},m(f,d){k(f,e,d),r(e,l),r(e,s),r(e,i),r(e,u)},p(f,d){d[0]&1&&t!==(t=f[0].client_id+"")&&be(s,t),d[0]&1&&a!==(a=f[0].name+"")&&be(u,a)},d(f){f&&w(e)}}}function Pt(n){let e;return{c(){e=c("span"),e.textContent="Gotrxx itself cant be edited.",o(e,"class","is-help")},m(l,t){k(l,e,t)},p:se,i:se,o:se,d(l){l&&w(e)}}}function Rt(n){let e,l,t,s,i,a,u,f,d,p,$,O,N,S,Q,G,J,C,P,E,D,B,le,x,F=n[0].status==="active"&&et(n);a=new St({}),C=new ct({});let q=!n[0].pkce&&tt(n),R=n[0].pkce&&lt(n);return{c(){e=c("div"),F&&F.c(),l=b(),t=c("div"),s=c("div"),i=c("button"),U(a.$$.fragment),u=c("span"),u.textContent="Set secret",f=b(),d=c("div"),p=c("div"),$=c("div"),O=c("div"),N=c("p"),S=c("input"),Q=b(),G=c("p"),J=c("button"),U(C.$$.fragment),E=b(),q&&q.c(),D=b(),R&&R.c(),o(i,"class","button"),o(s,"class","dropdown-trigger"),o(S,"class","input"),o(S,"type","text"),o(S,"placeholder","my secret"),o(N,"class","control"),o(J,"class","button"),o(G,"class","control"),o(O,"class","field has-addons"),o($,"class","dropdown-item"),o(p,"class","dropdown-content"),o(d,"class","dropdown-menu"),o(t,"class",P="dropdown mr-2 "+(n[1]?"is-active":"")),o(e,"class","buttons")},m(y,A){k(y,e,A),F&&F.m(e,null),r(e,l),r(e,t),r(t,s),r(s,i),K(a,i,null),r(i,u),r(t,f),r(t,d),r(d,p),r(p,$),r($,O),r(O,N),r(N,S),ce(S,n[2]),r(O,Q),r(O,G),r(G,J),K(C,J,null),r(e,E),q&&q.m(e,null),r(e,D),R&&R.m(e,null),B=!0,le||(x=[h(i,"click",n[6]),h(S,"input",n[16]),h(J,"click",n[7])],le=!0)},p(y,A){y[0].status==="active"?F?(F.p(y,A),A[0]&1&&m(F,1)):(F=et(y),F.c(),m(F,1),F.m(e,l)):F&&(Ee(),g(F,1,1,()=>{F=null}),Ae()),A[0]&4&&S.value!==y[2]&&ce(S,y[2]),(!B||A[0]&2&&P!==(P="dropdown mr-2 "+(y[1]?"is-active":"")))&&o(t,"class",P),y[0].pkce?q&&(Ee(),g(q,1,1,()=>{q=null}),Ae()):q?(q.p(y,A),A[0]&1&&m(q,1)):(q=tt(y),q.c(),m(q,1),q.m(e,D)),y[0].pkce?R?(R.p(y,A),A[0]&1&&m(R,1)):(R=lt(y),R.c(),m(R,1),R.m(e,null)):R&&(Ee(),g(R,1,1,()=>{R=null}),Ae())},i(y){B||(m(F),m(a.$$.fragment,y),m(C.$$.fragment,y),m(q),m(R),B=!0)},o(y){g(F),g(a.$$.fragment,y),g(C.$$.fragment,y),g(q),g(R),B=!1},d(y){y&&w(e),F&&F.d(),L(a),L(C),q&&q.d(),R&&R.d(),le=!1,ge(x)}}}function et(n){let e,l,t,s,i,a,u;return l=new ht({}),{c(){e=c("button"),U(l.$$.fragment),t=b(),s=c("span"),s.textContent="Retire application",o(e,"class","button is-danger")},m(f,d){k(f,e,d),K(l,e,null),r(e,t),r(e,s),i=!0,a||(u=h(e,"click",n[5]),a=!0)},p:se,i(f){i||(m(l.$$.fragment,f),i=!0)},o(f){g(l.$$.fragment,f),i=!1},d(f){f&&w(e),L(l),a=!1,u()}}}function tt(n){let e,l,t,s,i,a;return l=new ct({}),{c(){e=c("button"),U(l.$$.fragment),t=c("span"),t.textContent="Enable PKCE",o(e,"class","button")},m(u,f){k(u,e,f),K(l,e,null),r(e,t),s=!0,i||(a=h(e,"click",n[12]),i=!0)},p:se,i(u){s||(m(l.$$.fragment,u),s=!0)},o(u){g(l.$$.fragment,u),s=!1},d(u){u&&w(e),L(l),i=!1,a()}}}function lt(n){let e,l,t,s,i,a;return l=new vt({}),{c(){e=c("button"),U(l.$$.fragment),t=c("span"),t.textContent="Disable PKCE",o(e,"class","button is-warning")},m(u,f){k(u,e,f),K(l,e,null),r(e,t),s=!0,i||(a=h(e,"click",n[13]),i=!0)},p:se,i(u){s||(m(l.$$.fragment,u),s=!0)},o(u){g(l.$$.fragment,u),s=!1},d(u){u&&w(e),L(l),i=!1,a()}}}function yt(n){let e,l,t,s;const i=[Rt,Pt],a=[];function u(f,d){return f[0].client_id!=="$.gotrxx"?0:1}return l=u(n),t=a[l]=i[l](n),{c(){e=c("div"),t.c(),o(e,"slot","footer")},m(f,d){k(f,e,d),a[l].m(e,null),s=!0},p(f,d){let p=l;l=u(f),l===p?a[l].p(f,d):(Ee(),g(a[p],1,1,()=>{a[p]=null}),Ae(),t=a[l],t?t.p(f,d):(t=a[l]=i[l](f),t.c()),m(t,1),t.m(e,null))},i(f){s||(m(t),s=!0)},o(f){g(t),s=!1},d(f){f&&w(e),a[l].d()}}}function Tt(n){let e,l,t=n[0]&&We(n);return{c(){t&&t.c(),e=He()},m(s,i){t&&t.m(s,i),k(s,e,i),l=!0},p(s,i){s[0]?t?(t.p(s,i),i[0]&1&&m(t,1)):(t=We(s),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(Ee(),g(t,1,1,()=>{t=null}),Ae())},i(s){l||(m(t),l=!0)},o(s){g(t),l=!1},d(s){t&&t.d(s),s&&w(e)}}}function zt(n,e,l){let{application:t=null}=e;const i=Et(t,async()=>{const{data:A}=await _e.get("/manage/applications/by-client-id",{params:{client_id:t.client_id}});l(0,t=A)}),a=i.retireApplication;let u=!1,f="";const d=()=>{l(2,f=""),l(1,u=!u)},p=async()=>{f&&f.length>0&&(await i.setSecret(f),l(1,u=!1),l(2,f=""))};let $="",O="";const N=async()=>{$.length!==0&&(await i.addRedirectUri($),l(3,$=""))},S=A=>async()=>{await i.removeRedirectUri(A)},Q=async()=>{O.length!==0&&(await i.addLogoutUri(O),l(4,O=""))},G=A=>async()=>{await i.removeLogoutUri(A)},J=i.enablePKCE,C=i.disablePKCE,P=A=>async()=>{console.log(t.flows),t.flows.find(ie=>ie===A)!=null?await i.removeFlow(A):await i.addFlow(A)},E=()=>{l(0,t=null)},D=[[]];function B(){f=this.value,l(2,f)}function le(){$=this.value,l(3,$)}function x(){O=this.value,l(4,O)}function F(){t.flows=Re(D[0],this.__value,this.checked),l(0,t)}function q(){t.flows=Re(D[0],this.__value,this.checked),l(0,t)}function R(){t.flows=Re(D[0],this.__value,this.checked),l(0,t)}function y(){t.flows=Re(D[0],this.__value,this.checked),l(0,t)}return n.$$set=A=>{"application"in A&&l(0,t=A.application)},[t,u,f,$,O,a,d,p,N,S,Q,G,J,C,P,E,B,le,x,F,D,q,R,y]}class Ut extends De{constructor(e){super(),Fe(this,e,zt,Tt,Ne,{application:0},null,[-1,-1])}}function nt(n,e,l){const t=n.slice();return t[33]=e[l],t[34]=e,t[35]=l,t}function st(n,e,l){const t=n.slice();return t[33]=e[l],t[36]=e,t[35]=l,t}function Kt(n){let e,l,t,s;return{c(){e=c("input"),o(e,"class",l="input "+(n[1].client_id?"is-danger":"")),o(e,"type","text"),o(e,"name","client_id")},m(i,a){k(i,e,a),ce(e,n[0].client_id),t||(s=[h(e,"change",n[4]),h(e,"input",n[13])],t=!0)},p(i,a){a[0]&2&&l!==(l="input "+(i[1].client_id?"is-danger":""))&&o(e,"class",l),a[0]&1&&e.value!==i[0].client_id&&ce(e,i[0].client_id)},d(i){i&&w(e),t=!1,ge(s)}}}function Lt(n){let e,l;return e=new ke({props:{$$slots:{default:[Kt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&3|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Dt(n){let e,l,t,s;return{c(){e=c("input"),o(e,"class",l="input "+(n[1].name?"is-danger":"")),o(e,"type","text"),o(e,"name","name")},m(i,a){k(i,e,a),ce(e,n[0].name),t||(s=[h(e,"change",n[4]),h(e,"input",n[14])],t=!0)},p(i,a){a[0]&2&&l!==(l="input "+(i[1].name?"is-danger":""))&&o(e,"class",l),a[0]&1&&e.value!==i[0].name&&ce(e,i[0].name)},d(i){i&&w(e),t=!1,ge(s)}}}function Ft(n){let e,l;return e=new ke({props:{$$slots:{default:[Dt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&3|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Nt(n){let e,l,t,s,i,a,u,f,d;return{c(){e=c("label"),l=c("input"),t=Z(`\r
                        Private`),s=b(),i=c("label"),a=c("input"),u=Z(`\r
                        Public`),o(l,"type","radio"),o(l,"name","confidentiality"),l.__value="private",l.value=l.__value,n[16][1].push(l),o(e,"class","radio"),o(a,"type","radio"),o(a,"name","confidentiality"),a.__value="public",a.value=a.__value,n[16][1].push(a),o(i,"class","radio")},m(p,$){k(p,e,$),r(e,l),l.checked=l.__value===n[0].confidentiality,r(e,t),k(p,s,$),k(p,i,$),r(i,a),a.checked=a.__value===n[0].confidentiality,r(i,u),f||(d=[h(l,"change",n[4]),h(l,"change",n[15]),h(a,"change",n[4]),h(a,"change",n[17])],f=!0)},p(p,$){$[0]&1&&(l.checked=l.__value===p[0].confidentiality),$[0]&1&&(a.checked=a.__value===p[0].confidentiality)},d(p){p&&w(e),n[16][1].splice(n[16][1].indexOf(l),1),p&&w(s),p&&w(i),n[16][1].splice(n[16][1].indexOf(a),1),f=!1,ge(d)}}}function qt(n){let e,l;return e=new ke({props:{$$slots:{default:[Nt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Ht(n){let e,l,t,s;return{c(){e=c("input"),o(e,"class",l="input "+(n[1].client_secret?"is-danger":"")),o(e,"type","text"),o(e,"name","client_secret")},m(i,a){k(i,e,a),ce(e,n[0].client_secret),t||(s=[h(e,"change",n[4]),h(e,"input",n[18])],t=!0)},p(i,a){a[0]&2&&l!==(l="input "+(i[1].client_secret?"is-danger":""))&&o(e,"class",l),a[0]&1&&e.value!==i[0].client_secret&&ce(e,i[0].client_secret)},d(i){i&&w(e),t=!1,ge(s)}}}function Mt(n){let e,l;return e=new ke({props:{$$slots:{default:[Ht]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&3|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Bt(n){let e,l,t,s,i,a,u,f,d;return{c(){e=c("label"),l=c("input"),t=Z(`\r
                        Implicit`),s=b(),i=c("label"),a=c("input"),u=Z(`\r
                        Explicit`),o(l,"type","radio"),o(l,"name","type"),l.__value="implicit_granted",l.value=l.__value,n[16][2].push(l),o(e,"class","radio"),o(a,"type","radio"),o(a,"name","type"),a.__value="explicit_granted",a.value=a.__value,n[16][2].push(a),o(i,"class","radio")},m(p,$){k(p,e,$),r(e,l),l.checked=l.__value===n[0].type,r(e,t),k(p,s,$),k(p,i,$),r(i,a),a.checked=a.__value===n[0].type,r(i,u),f||(d=[h(l,"change",n[19]),h(l,"change",n[4]),h(a,"change",n[20]),h(a,"change",n[4])],f=!0)},p(p,$){$[0]&1&&(l.checked=l.__value===p[0].type),$[0]&1&&(a.checked=a.__value===p[0].type)},d(p){p&&w(e),n[16][2].splice(n[16][2].indexOf(l),1),p&&w(s),p&&w(i),n[16][2].splice(n[16][2].indexOf(a),1),f=!1,ge(d)}}}function Gt(n){let e,l;return e=new ke({props:{$$slots:{default:[Bt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Jt(n){let e,l,t,s,i,a,u,f,d,p,$,O,N,S,Q,G,J;return{c(){e=c("label"),l=c("input"),t=Z(" authorization_code"),s=b(),i=c("label"),a=c("input"),u=Z(" client_credentials"),f=b(),d=c("label"),p=c("input"),$=Z(" refresh_token"),O=b(),N=c("label"),S=c("input"),Q=Z(" password"),o(l,"type","checkbox"),l.__value="authorization_code",l.value=l.__value,n[16][0].push(l),o(e,"class","checkbox"),o(a,"type","checkbox"),a.__value="client_credentials",a.value=a.__value,n[16][0].push(a),o(i,"class","checkbox"),o(p,"type","checkbox"),p.__value="refresh_token",p.value=p.__value,n[16][0].push(p),o(d,"class","checkbox"),o(S,"type","checkbox"),S.__value="password",S.value=S.__value,n[16][0].push(S),o(N,"class","checkbox")},m(C,P){k(C,e,P),r(e,l),l.checked=~n[0].flows.indexOf(l.__value),r(e,t),k(C,s,P),k(C,i,P),r(i,a),a.checked=~n[0].flows.indexOf(a.__value),r(i,u),k(C,f,P),k(C,d,P),r(d,p),p.checked=~n[0].flows.indexOf(p.__value),r(d,$),k(C,O,P),k(C,N,P),r(N,S),S.checked=~n[0].flows.indexOf(S.__value),r(N,Q),G||(J=[h(l,"change",n[21]),h(l,"change",n[4]),h(a,"change",n[22]),h(a,"change",n[4]),h(p,"change",n[23]),h(p,"change",n[4]),h(S,"change",n[24]),h(S,"change",n[4])],G=!0)},p(C,P){P[0]&1&&(l.checked=~C[0].flows.indexOf(l.__value)),P[0]&1&&(a.checked=~C[0].flows.indexOf(a.__value)),P[0]&1&&(p.checked=~C[0].flows.indexOf(p.__value)),P[0]&1&&(S.checked=~C[0].flows.indexOf(S.__value))},d(C){C&&w(e),n[16][0].splice(n[16][0].indexOf(l),1),C&&w(s),C&&w(i),n[16][0].splice(n[16][0].indexOf(a),1),C&&w(f),C&&w(d),n[16][0].splice(n[16][0].indexOf(p),1),C&&w(O),C&&w(N),n[16][0].splice(n[16][0].indexOf(S),1),G=!1,ge(J)}}}function jt(n){let e,l;return e=new ke({props:{$$slots:{default:[Jt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Vt(n){let e,l,t,s,i;return{c(){e=c("label"),l=c("input"),t=Z(" PKCE"),o(l,"type","checkbox"),l.__value=!0,l.value=l.__value,o(l,"name","pkce"),o(e,"class","checkbox")},m(a,u){k(a,e,u),r(e,l),l.checked=n[0].pkce,r(e,t),s||(i=[h(l,"change",n[25]),h(l,"change",n[4])],s=!0)},p(a,u){u[0]&1&&(l.checked=a[0].pkce)},d(a){a&&w(e),s=!1,ge(i)}}}function Yt(n){let e,l;return e=new ke({props:{$$slots:{default:[Vt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Qt(n){let e,l,t;return{c(){e=c("input"),o(e,"class","input"),o(e,"type","text"),o(e,"name","scopes")},m(s,i){k(s,e,i),ce(e,n[0].scopes),l||(t=[h(e,"change",n[4]),h(e,"input",n[26])],l=!0)},p(s,i){i[0]&1&&e.value!==s[0].scopes&&ce(e,s[0].scopes)},d(s){s&&w(e),l=!1,ge(t)}}}function Wt(n){let e,l;return e=new ke({props:{$$slots:{default:[Qt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Xt(n){let e,l,t;function s(){n[27].call(e,n[35])}return{c(){e=c("input"),o(e,"class","input"),o(e,"type","text"),o(e,"name",`redirect_uris[${n[35]}]`)},m(i,a){k(i,e,a),ce(e,n[0].redirect_uris[n[35]]),l||(t=[h(e,"change",n[4]),h(e,"input",s)],l=!0)},p(i,a){n=i,a[0]&1&&e.value!==n[0].redirect_uris[n[35]]&&ce(e,n[0].redirect_uris[n[35]])},d(i){i&&w(e),l=!1,ge(t)}}}function Zt(n){let e,l,t;return{c(){e=c("button"),o(e,"class","delete")},m(s,i){k(s,e,i),l||(t=h(e,"click",Ue(n[7](n[35]))),l=!0)},p(s,i){n=s},d(s){s&&w(e),l=!1,t()}}}function xt(n){let e,l,t,s;return e=new ke({props:{expanded:!0,$$slots:{default:[Xt]},$$scope:{ctx:n}}}),t=new ke({props:{$$slots:{default:[Zt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),l=b(),U(t.$$.fragment)},m(i,a){K(e,i,a),k(i,l,a),K(t,i,a),s=!0},p(i,a){const u={};a[0]&1|a[1]&64&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a[1]&64&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){s||(m(e.$$.fragment,i),m(t.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),s=!1},d(i){L(e,i),i&&w(l),L(t,i)}}}function it(n){let e,l;return e=new $e({props:{grouped:!0,$$slots:{default:[xt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function el(n){let e,l,t;return{c(){e=c("button"),e.textContent="+",o(e,"class","button is-primary")},m(s,i){k(s,e,i),l||(t=h(e,"click",Ue(n[6])),l=!0)},p:se,d(s){s&&w(e),l=!1,t()}}}function tl(n){let e,l,t;function s(){n[28].call(e,n[35])}return{c(){e=c("input"),o(e,"class","input"),o(e,"type","text"),o(e,"name",`logout_uris[${n[35]}]`)},m(i,a){k(i,e,a),ce(e,n[0].logout_uris[n[35]]),l||(t=[h(e,"change",n[4]),h(e,"input",s)],l=!0)},p(i,a){n=i,a[0]&1&&e.value!==n[0].logout_uris[n[35]]&&ce(e,n[0].logout_uris[n[35]])},d(i){i&&w(e),l=!1,ge(t)}}}function ll(n){let e,l,t;return{c(){e=c("button"),o(e,"class","delete")},m(s,i){k(s,e,i),l||(t=h(e,"click",Ue(n[9](n[35]))),l=!0)},p(s,i){n=s},d(s){s&&w(e),l=!1,t()}}}function nl(n){let e,l,t,s;return e=new ke({props:{expanded:!0,$$slots:{default:[tl]},$$scope:{ctx:n}}}),t=new ke({props:{$$slots:{default:[ll]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),l=b(),U(t.$$.fragment)},m(i,a){K(e,i,a),k(i,l,a),K(t,i,a),s=!0},p(i,a){const u={};a[0]&1|a[1]&64&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a[1]&64&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){s||(m(e.$$.fragment,i),m(t.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),s=!1},d(i){L(e,i),i&&w(l),L(t,i)}}}function at(n){let e,l;return e=new $e({props:{grouped:!0,$$slots:{default:[nl]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s[0]&1|s[1]&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function sl(n){let e,l,t;return{c(){e=c("button"),e.textContent="+",o(e,"class","button is-primary")},m(s,i){k(s,e,i),l||(t=h(e,"click",Ue(n[8])),l=!0)},p:se,d(s){s&&w(e),l=!1,t()}}}function il(n){let e,l,t,s,i,a,u,f,d,p,$,O,N,S,Q,G,J,C,P,E,D,B,le,x,F,q,R,y,A,ie,j,he,ee,ue,fe,I,V,pe,me,Y,T,ne;s=new $e({props:{horizontal:we,error:n[1].client_id,label:"Client ID",$$slots:{default:[Lt]},$$scope:{ctx:n}}}),u=new $e({props:{horizontal:we,label:"Name",error:n[1].name,$$slots:{default:[Ft]},$$scope:{ctx:n}}}),p=new $e({props:{horizontal:we,label:"Confidentiality",helpTooltip:n[12],$$slots:{default:[qt]},$$scope:{ctx:n}}}),N=new $e({props:{horizontal:we,label:"Secret",error:n[1].client_secret,$$slots:{default:[Mt]},$$scope:{ctx:n}}}),G=new $e({props:{horizontal:we,label:"Granted",helpTooltip:n[10],$$slots:{default:[Gt]},$$scope:{ctx:n}}}),P=new $e({props:{horizontal:we,label:"Flows",$$slots:{default:[jt]},$$scope:{ctx:n}}}),B=new $e({props:{horizontal:we,label:"Proof Key of Exchange",$$slots:{default:[Yt]},$$scope:{ctx:n}}}),F=new $e({props:{horizontal:we,label:"Scopes",helpTooltip:n[11],$$slots:{default:[Wt]},$$scope:{ctx:n}}}),y=new $e({props:{grouped:!0,horizontal:we,label:"Redirect URIs"}});let ve=n[0].redirect_uris,W=[];for(let _=0;_<ve.length;_+=1)W[_]=it(st(n,ve,_));const Ie=_=>g(W[_],1,1,()=>{W[_]=null});j=new $e({props:{$$slots:{default:[el]},$$scope:{ctx:n}}}),ue=new $e({props:{grouped:!0,horizontal:we,label:"Logout URIs"}});let te=n[0].logout_uris,X=[];for(let _=0;_<te.length;_+=1)X[_]=at(nt(n,te,_));const ye=_=>g(X[_],1,1,()=>{X[_]=null});return V=new $e({props:{$$slots:{default:[sl]},$$scope:{ctx:n}}}),{c(){e=c("form"),l=c("div"),t=c("div"),U(s.$$.fragment),i=b(),a=c("div"),U(u.$$.fragment),f=b(),d=c("div"),U(p.$$.fragment),$=b(),O=c("div"),U(N.$$.fragment),S=b(),Q=c("div"),U(G.$$.fragment),J=b(),C=c("div"),U(P.$$.fragment),E=b(),D=c("div"),U(B.$$.fragment),le=b(),x=c("div"),U(F.$$.fragment),q=b(),R=c("div"),U(y.$$.fragment),A=b();for(let _=0;_<W.length;_+=1)W[_].c();ie=b(),U(j.$$.fragment),he=b(),ee=c("div"),U(ue.$$.fragment),fe=b();for(let _=0;_<X.length;_+=1)X[_].c();I=b(),U(V.$$.fragment),pe=b(),me=c("button"),me.textContent="Submit",o(t,"class","column is-6"),o(a,"class","column is-6"),o(d,"class","column is-6"),o(O,"class","column is-6"),o(Q,"class","column is-6"),o(C,"class","column is-6"),o(D,"class","column is-6"),o(x,"class","column is-6"),o(R,"class","column is-6"),o(ee,"class","column is-6"),o(l,"class","columns is-multiline"),o(me,"type","submit"),o(me,"class","button is-link")},m(_,v){k(_,e,v),r(e,l),r(l,t),K(s,t,null),r(l,i),r(l,a),K(u,a,null),r(l,f),r(l,d),K(p,d,null),r(l,$),r(l,O),K(N,O,null),r(l,S),r(l,Q),K(G,Q,null),r(l,J),r(l,C),K(P,C,null),r(l,E),r(l,D),K(B,D,null),r(l,le),r(l,x),K(F,x,null),r(l,q),r(l,R),K(y,R,null),r(R,A);for(let ae=0;ae<W.length;ae+=1)W[ae].m(R,null);r(R,ie),K(j,R,null),r(l,he),r(l,ee),K(ue,ee,null),r(ee,fe);for(let ae=0;ae<X.length;ae+=1)X[ae].m(ee,null);r(ee,I),K(V,ee,null),r(e,pe),r(e,me),Y=!0,T||(ne=h(e,"submit",Ue(n[5])),T=!0)},p(_,v){const ae={};v[0]&2&&(ae.error=_[1].client_id),v[0]&3|v[1]&64&&(ae.$$scope={dirty:v,ctx:_}),s.$set(ae);const oe={};v[0]&2&&(oe.error=_[1].name),v[0]&3|v[1]&64&&(oe.$$scope={dirty:v,ctx:_}),u.$set(oe);const Oe={};v[0]&1|v[1]&64&&(Oe.$$scope={dirty:v,ctx:_}),p.$set(Oe);const re={};v[0]&2&&(re.error=_[1].client_secret),v[0]&3|v[1]&64&&(re.$$scope={dirty:v,ctx:_}),N.$set(re);const z={};v[0]&1|v[1]&64&&(z.$$scope={dirty:v,ctx:_}),G.$set(z);const de={};v[0]&1|v[1]&64&&(de.$$scope={dirty:v,ctx:_}),P.$set(de);const H={};v[0]&1|v[1]&64&&(H.$$scope={dirty:v,ctx:_}),B.$set(H);const Pe={};if(v[0]&1|v[1]&64&&(Pe.$$scope={dirty:v,ctx:_}),F.$set(Pe),v[0]&145){ve=_[0].redirect_uris;let M;for(M=0;M<ve.length;M+=1){const ze=st(_,ve,M);W[M]?(W[M].p(ze,v),m(W[M],1)):(W[M]=it(ze),W[M].c(),m(W[M],1),W[M].m(R,ie))}for(Ee(),M=ve.length;M<W.length;M+=1)Ie(M);Ae()}const Be={};if(v[1]&64&&(Be.$$scope={dirty:v,ctx:_}),j.$set(Be),v[0]&529){te=_[0].logout_uris;let M;for(M=0;M<te.length;M+=1){const ze=nt(_,te,M);X[M]?(X[M].p(ze,v),m(X[M],1)):(X[M]=at(ze),X[M].c(),m(X[M],1),X[M].m(ee,I))}for(Ee(),M=te.length;M<X.length;M+=1)ye(M);Ae()}const Ge={};v[1]&64&&(Ge.$$scope={dirty:v,ctx:_}),V.$set(Ge)},i(_){if(!Y){m(s.$$.fragment,_),m(u.$$.fragment,_),m(p.$$.fragment,_),m(N.$$.fragment,_),m(G.$$.fragment,_),m(P.$$.fragment,_),m(B.$$.fragment,_),m(F.$$.fragment,_),m(y.$$.fragment,_);for(let v=0;v<ve.length;v+=1)m(W[v]);m(j.$$.fragment,_),m(ue.$$.fragment,_);for(let v=0;v<te.length;v+=1)m(X[v]);m(V.$$.fragment,_),Y=!0}},o(_){g(s.$$.fragment,_),g(u.$$.fragment,_),g(p.$$.fragment,_),g(N.$$.fragment,_),g(G.$$.fragment,_),g(P.$$.fragment,_),g(B.$$.fragment,_),g(F.$$.fragment,_),g(y.$$.fragment,_),W=W.filter(Boolean);for(let v=0;v<W.length;v+=1)g(W[v]);g(j.$$.fragment,_),g(ue.$$.fragment,_),X=X.filter(Boolean);for(let v=0;v<X.length;v+=1)g(X[v]);g(V.$$.fragment,_),Y=!1},d(_){_&&w(e),L(s),L(u),L(p),L(N),L(G),L(P),L(B),L(F),L(y),Le(W,_),L(j),L(ue),Le(X,_),L(V),T=!1,ne()}}}let we=!1;function al(n,e,l){let t,s;const i=async I=>{try{let{data:V}=await _e.post("/manage/applications/create",I);if(V.success)return Ce.success("Success",`${V.message}`,2e3),!0;Ce.error("Error",`Server returned: ${V.error}`,2e3)}catch(V){Ce.error("Error",`${V}`,2e3)}return!1},a=ft(),{form:u,errors:f,state:d,handleChange:p,handleSubmit:$,handleReset:O}=wt({initialValues:{client_id:"",client_secret:"",name:"",type:"implicit_granted",confidentiality:"private",flows:[],pkce:!1,scopes:"",logout_uris:[],redirect_uris:[]},validate:I=>{let V={};return(!I.client_id||I.client_id.length==0)&&(V.client_id="client_id is required"),(!I.name||I.name.length==0)&&(V.name="name is required"),V},onSubmit:async I=>{Te.set(!0),await i(I)&&(O(),a("application-created")),Te.set(!1)}});Je(n,u,I=>l(0,t=I)),Je(n,f,I=>l(1,s=I));const N=()=>{Ke(u,t.redirect_uris=t.redirect_uris.concat(""),t)},S=I=>()=>{Ke(u,t.redirect_uris=t.redirect_uris.filter((V,pe)=>pe!==I),t)},Q=()=>{Ke(u,t.logout_uris=t.logout_uris.concat(""),t)},G=I=>()=>{Ke(u,t.logout_uris=t.logout_uris.filter((V,pe)=>pe!==I),t)},J="<p><strong>Implicit</strong> means anyone can use this application.</p><p><strong>Explicit</strong> means the user needs to be authorized for the application first.</p>",C="<p><strong>Scopes</strong> by space spereated.</p>",P="<p>Confidentiality defines if a application is able to secure a secret, a private applications (e.g. backend services) is but a public application is not (e.g. Javascript Clients)</p><p>A <strong>private</strong> application should have a secret set.</p>",E=[[],[],[]];function D(){t.client_id=this.value,u.set(t)}function B(){t.name=this.value,u.set(t)}function le(){t.confidentiality=this.__value,u.set(t)}function x(){t.confidentiality=this.__value,u.set(t)}function F(){t.client_secret=this.value,u.set(t)}function q(){t.type=this.__value,u.set(t)}function R(){t.type=this.__value,u.set(t)}function y(){t.flows=Re(E[0],this.__value,this.checked),u.set(t)}function A(){t.flows=Re(E[0],this.__value,this.checked),u.set(t)}function ie(){t.flows=Re(E[0],this.__value,this.checked),u.set(t)}function j(){t.flows=Re(E[0],this.__value,this.checked),u.set(t)}function he(){t.pkce=this.checked,u.set(t)}function ee(){t.scopes=this.value,u.set(t)}function ue(I){t.redirect_uris[I]=this.value,u.set(t)}function fe(I){t.logout_uris[I]=this.value,u.set(t)}return[t,s,u,f,p,$,N,S,Q,G,J,C,P,D,B,le,E,x,F,q,R,y,A,ie,j,he,ee,ue,fe]}class ol extends De{constructor(e){super(),Fe(this,e,al,il,Ne,{},null,[-1,-1])}}function rl(n){let e,l,t,s,i,a;return{c(){e=c("div"),l=c("button"),l.textContent="New Application",t=b(),s=c("button"),s.textContent="Purge retired",o(l,"class","button is-link"),o(s,"class","button is-danger"),o(e,"class","buttons")},m(u,f){k(u,e,f),r(e,l),r(e,t),r(e,s),i||(a=[h(l,"click",n[12]),h(s,"click",n[6])],i=!0)},p:se,d(u){u&&w(e),i=!1,ge(a)}}}function cl(n){let e,l,t,s=n[3]&&ot(n);return l=new Me({props:{padding:!1,$$slots:{footer:[$l],title:[ml],default:[_l]},$$scope:{ctx:n}}}),{c(){s&&s.c(),e=b(),U(l.$$.fragment)},m(i,a){s&&s.m(i,a),k(i,e,a),K(l,i,a),t=!0},p(i,a){i[3]?s?(s.p(i,a),a&8&&m(s,1)):(s=ot(i),s.c(),m(s,1),s.m(e.parentNode,e)):s&&(Ee(),g(s,1,1,()=>{s=null}),Ae());const u={};a&524311&&(u.$$scope={dirty:a,ctx:i}),l.$set(u)},i(i){t||(m(s),m(l.$$.fragment,i),t=!0)},o(i){g(s),g(l.$$.fragment,i),t=!1},d(i){s&&s.d(i),i&&w(e),L(l,i)}}}function ul(n){let e,l;return e=new Me({props:{closeable:!0,$$slots:{title:[hl],default:[gl]},$$scope:{ctx:n}}}),e.$on("card-closed",n[11]),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s&524288&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function ot(n){let e,l,t,s,i;function a(f){n[13](f)}let u={};return n[3]!==void 0&&(u.application=n[3]),e=new Ut({props:u}),dt.push(()=>_t(e,"application",a)),{c(){U(e.$$.fragment),t=b(),s=c("br")},m(f,d){K(e,f,d),k(f,t,d),k(f,s,d),i=!0},p(f,d){const p={};!l&&d&8&&(l=!0,p.application=f[3],mt(()=>l=!1)),e.$set(p)},i(f){i||(m(e.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),i=!1},d(f){L(e,f),f&&w(t),f&&w(s)}}}function fl(n){let e,l,t=n[18].message+"",s;return{c(){e=c("article"),l=c("div"),s=Z(t),o(l,"class","message-body"),o(e,"class","message is-danger")},m(i,a){k(i,e,a),r(e,l),r(l,s)},p(i,a){a&16&&t!==(t=i[18].message+"")&&be(s,t)},i:se,o:se,d(i){i&&w(e)}}}function pl(n){let e,l;return e=new kt({props:{data:n[0].entries,columns:n[7]}}),e.$on("sort-changed",n[9]),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p(t,s){const i={};s&1&&(i.data=t[0].entries),e.$set(i)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function dl(n){let e;return{c(){e=c("article"),e.innerHTML='<div class="message-body">Fetching applications</div>',o(e,"class","message")},m(l,t){k(l,e,t)},p:se,i:se,o:se,d(l){l&&w(e)}}}function _l(n){let e,l,t,s={ctx:n,current:null,token:null,hasCatch:!0,pending:dl,then:pl,catch:fl,value:17,error:18,blocks:[,,,]};return je(l=n[4],s),{c(){e=He(),s.block.c()},m(i,a){k(i,e,a),s.block.m(i,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(i,a){n=i,s.ctx=n,a&16&&l!==(l=n[4])&&je(l,s)||$t(s,n,a)},i(i){t||(m(s.block),t=!0)},o(i){for(let a=0;a<3;a+=1){const u=s.blocks[a];g(u)}t=!1},d(i){i&&w(e),s.block.d(i),s.token=null,s=null}}}function ml(n){let e;return{c(){e=c("span"),e.textContent="Applications",o(e,"slot","title")},m(l,t){k(l,e,t)},p:se,d(l){l&&w(e)}}}function $l(n){let e,l,t;return l=new bt({props:{pageSize:ut,total:n[2],currentPage:n[1]}}),l.$on("page-changed",n[8]),{c(){e=c("span"),U(l.$$.fragment),o(e,"slot","footer")},m(s,i){k(s,e,i),K(l,e,null),t=!0},p(s,i){const a={};i&4&&(a.total=s[2]),i&2&&(a.currentPage=s[1]),l.$set(a)},i(s){t||(m(l.$$.fragment,s),t=!0)},o(s){g(l.$$.fragment,s),t=!1},d(s){s&&w(e),L(l)}}}function gl(n){let e,l;return e=new ol({}),e.$on("application-created",n[10]),{c(){U(e.$$.fragment)},m(t,s){K(e,t,s),l=!0},p:se,i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function hl(n){let e;return{c(){e=c("span"),e.textContent="Create Application",o(e,"slot","title")},m(l,t){k(l,e,t)},p:se,d(l){l&&w(e)}}}function vl(n){let e,l,t,s,i,a;l=new pt({props:{title:"Manage",subtitle:"Applications",$$slots:{default:[rl]},$$scope:{ctx:n}}});const u=[ul,cl],f=[];function d(p,$){return p[5]?0:1}return s=d(n),i=f[s]=u[s](n),{c(){e=c("div"),U(l.$$.fragment),t=b(),i.c(),o(e,"class","section")},m(p,$){k(p,e,$),K(l,e,null),r(e,t),f[s].m(e,null),a=!0},p(p,[$]){const O={};$&524320&&(O.$$scope={dirty:$,ctx:p}),l.$set(O);let N=s;s=d(p),s===N?f[s].p(p,$):(Ee(),g(f[N],1,1,()=>{f[N]=null}),Ae(),i=f[s],i?i.p(p,$):(i=f[s]=u[s](p),i.c()),m(i,1),i.m(e,null))},i(p){a||(m(l.$$.fragment,p),m(i),a=!0)},o(p){g(l.$$.fragment,p),g(i),a=!1},d(p){p&&w(e),L(l),f[s].d()}}}let ut=15,bl="";function kl(n,e,l){let t={},s=1,i=30,a="",u=null;async function f(){let{data:E}=await _e.get("/manage/applications",{params:{page:s,page_size:ut,q:bl,sort:a}});l(2,i=E.total),l(0,t=E)}let d=f();const p=(E,D)=>{if(D){if(D.client_id=="$.gotrxx"){Ce.error("Error: not possible","You can not retire `$.gotrxx` because it will break your instance.",2e3);return}Ve({title:"Are you sure?",message:`<p>This action can <strong>not</strong> be undone. 
                    <p>Once retired no more token will be issued for <strong>'${D.client_id}'</strong> and all active tokens will be marked as revoked.</p>`},async()=>{Te.set(!0);try{let{data:B}=await _e.put("/manage/applications/retire",{client_id:D.client_id});B.success?Ce.success("Success",`${B.message}`,2e3):Ce.error("Error",`Server returned: ${B.error}`,2e3)}catch(B){Ce.error("Error",`${B}`,2e3)}Te.set(!1),l(4,d=f())},()=>{})}};function $(){Ve({title:"Delete all retired applications?",message:"This will remove all applications in the `retired` state. <p><strong>This action can not be undone.</strong></p>"},async()=>{Te.set(!0);try{let{data:E}=await _e.delete("/manage/applications/purge");E.success?Ce.success("Success",`${E.message}`,2e3):Ce.error("Error",`Server returned: ${E.error}`,2e3)}catch(E){Ce.error("Error",`${E}`,2e3)}Te.set(!1),l(4,d=f())})}let O=!1,N=[{name:"ID",property:"id",format:"number",class:"",sortable:!0},{name:"Client ID",property:"client_id",sortable:!0},{name:"Name",property:"name",sortable:!0},{name:"Seceret",property:"has_secret",format:"bool",class:"has-text-centered"},{name:"Type",property:"type"},{name:"Confident.",property:"confidentiality",sortable:!0},{name:"Status",property:"status",indicator:E=>E.status=="retired"?"is-danger":"is-success"},{name:"Actions",format:"menu",menu:[{action:"Details",onClick:(E,D)=>l(3,u=D)},{action:"Retire",onClick:p,showIf:E=>E.status!=="retired"}]}];function S(E){l(1,s=E.detail.page),l(4,d=f())}function Q(E){a=E.detail.query,l(4,d=f())}function G(){l(4,d=f())}const J=()=>{l(5,O=!1)},C=()=>l(5,O=!0);function P(E){u=E,l(3,u)}return[t,s,i,u,d,O,$,N,S,Q,G,J,C,P]}class Al extends De{constructor(e){super(),Fe(this,e,kl,vl,Ne,{})}}export{Al as default};
