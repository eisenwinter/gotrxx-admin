import{S as P,i as y,s as R,P as S,C as T,e as i,m as _,r as q,b as u,c as p,o as b,d as k,t as g,k as d,f,p as h,K as v,h as z,L as H,n as c,g as L,q as M,u as N}from"./index.6c4fb6e9.js";import{a as D,T as F}from"./Pagination.e063c092.js";function I(o){let e,a,n=o[8].message+"",t;return{c(){e=i("article"),a=i("div"),t=M(n),u(a,"class","message-body"),u(e,"class","message is-danger")},m(s,r){p(s,e,r),k(e,a),k(a,t)},p(s,r){r&8&&n!==(n=s[8].message+"")&&N(t,n)},i:c,o:c,d(s){s&&f(e)}}}function K(o){let e,a;return e=new F({props:{data:o[0].entries,columns:o[4]}}),{c(){_(e.$$.fragment)},m(n,t){b(e,n,t),a=!0},p(n,t){const s={};t&1&&(s.data=n[0].entries),e.$set(s)},i(n){a||(g(e.$$.fragment,n),a=!0)},o(n){d(e.$$.fragment,n),a=!1},d(n){h(e,n)}}}function j(o){let e;return{c(){e=i("article"),e.innerHTML='<div class="message-body">Fetching roles</div>',u(e,"class","message")},m(a,n){p(a,e,n)},p:c,i:c,o:c,d(a){a&&f(e)}}}function A(o){let e,a,n,t={ctx:o,current:null,token:null,hasCatch:!0,pending:j,then:K,catch:I,value:7,error:8,blocks:[,,,]};return v(a=o[3],t),{c(){e=z(),t.block.c()},m(s,r){p(s,e,r),t.block.m(s,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(s,r){o=s,t.ctx=o,r&8&&a!==(a=o[3])&&v(a,t)||H(t,o,r)},i(s){n||(g(t.block),n=!0)},o(s){for(let r=0;r<3;r+=1){const l=t.blocks[r];d(l)}n=!1},d(s){s&&f(e),t.block.d(s),t.token=null,t=null}}}function B(o){let e;return{c(){e=i("span"),e.textContent="Roles",u(e,"slot","title")},m(a,n){p(a,e,n)},p:c,d(a){a&&f(e)}}}function E(o){let e,a,n;return a=new D({props:{pageSize:C,total:o[2],currentPage:o[1]}}),a.$on("page-changed",o[5]),{c(){e=i("span"),_(a.$$.fragment),u(e,"slot","footer")},m(t,s){p(t,e,s),b(a,e,null),n=!0},p(t,s){const r={};s&4&&(r.total=t[2]),s&2&&(r.currentPage=t[1]),a.$set(r)},i(t){n||(g(a.$$.fragment,t),n=!0)},o(t){d(a.$$.fragment,t),n=!1},d(t){t&&f(e),h(a)}}}function G(o){let e,a,n,t,s;return a=new S({props:{title:"Manage",subtitle:"Roles"}}),t=new T({props:{padding:!1,$$slots:{footer:[E],title:[B],default:[A]},$$scope:{ctx:o}}}),{c(){e=i("div"),_(a.$$.fragment),n=q(),_(t.$$.fragment),u(e,"class","section")},m(r,l){p(r,e,l),b(a,e,null),k(e,n),b(t,e,null),s=!0},p(r,[l]){const m={};l&527&&(m.$$scope={dirty:l,ctx:r}),t.$set(m)},i(r){s||(g(a.$$.fragment,r),g(t.$$.fragment,r),s=!0)},o(r){d(a.$$.fragment,r),d(t.$$.fragment,r),s=!1},d(r){r&&f(e),h(a),h(t)}}}let C=15;function J(o,e,a){let n={},t=1,s=30,r=[{name:"ID",property:"id",format:"number",class:"w-60"},{name:"Name",property:"name"}];function l($){a(1,t=$.detail.page),a(3,w=m())}async function m(){let{data:$}=await L.get(`/manage/roles?page=${t}&page_size=${C}`);a(2,s=$.total),a(0,n=$)}let w=m();return[n,t,s,w,r,l]}class U extends P{constructor(e){super(),y(this,e,J,G,R,{})}}export{U as default};
