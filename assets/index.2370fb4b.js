const nn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}};nn();function G(){}const ot=e=>e;function it(e,t){for(const i in t)e[i]=t[i];return e}function on(e){return e&&typeof e=="object"&&typeof e.then=="function"}function ar(e){return e()}function mi(){return Object.create(null)}function _e(e){e.forEach(ar)}function Je(e){return typeof e=="function"}function se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function an(e){return Object.keys(e).length===0}function St(e,...t){if(e==null)return G;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function tt(e){let t;return St(e,i=>t=i)(),t}function _s(e,t,i){e.$$.on_destroy.push(St(t,i))}function Et(e,t,i,r){if(e){const n=sr(e,t,i,r);return e[0](n)}}function sr(e,t,i,r){return e[1]&&r?it(i.ctx.slice(),e[1](r(t))):i.ctx}function zt(e,t,i,r){if(e[2]&&r){const n=e[2](r(i));if(t.dirty===void 0)return n;if(typeof n=="object"){const o=[],a=Math.max(t.dirty.length,n.length);for(let s=0;s<a;s+=1)o[s]=t.dirty[s]|n[s];return o}return t.dirty|n}return t.dirty}function Ct(e,t,i,r,n,o){if(n){const a=sr(t,i,r,o);e.p(a,n)}}function At(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let r=0;r<i;r++)t[r]=-1;return t}return-1}function sn(e){const t={};for(const i in e)t[i]=!0;return t}function hi(e){return e==null?"":e}function Ss(e,t,i){return e.set(i),t}function Es(e){return e&&Je(e.destroy)?e.destroy:G}const lr=typeof window!="undefined";let Rt=lr?()=>window.performance.now():()=>Date.now(),Qt=lr?e=>requestAnimationFrame(e):G;const Fe=new Set;function cr(e){Fe.forEach(t=>{t.c(e)||(Fe.delete(t),t.f())}),Fe.size!==0&&Qt(cr)}function Ut(e){let t;return Fe.size===0&&Qt(cr),{promise:new Promise(i=>{Fe.add(t={c:e,f:i})}),abort(){Fe.delete(t)}}}function _(e,t){e.appendChild(t)}function dr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ln(e){const t=A("style");return cn(dr(e),t),t.sheet}function cn(e,t){return _(e.head||e,t),t.sheet}function q(e,t,i){e.insertBefore(t,i||null)}function P(e){e.parentNode.removeChild(e)}function dn(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function A(e){return document.createElement(e)}function Te(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ae(e){return document.createTextNode(e)}function H(){return ae(" ")}function Pe(){return ae("")}function xe(e,t,i,r){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}function zs(e){return function(t){return t.preventDefault(),e.call(this,t)}}function x(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Cs(e,t,i){const r=new Set;for(let n=0;n<e.length;n+=1)e[n].checked&&r.add(e[n].__value);return i||r.delete(t),Array.from(r)}function fn(e){return Array.from(e.childNodes)}function Ie(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ct(e,t){e.value=t==null?"":t}function As(e,t,i,r){i===null?e.style.removeProperty(t):e.style.setProperty(t,i,r?"important":"")}function fr(e,t,{bubbles:i=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i,r,t),n}class un{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,i,r=null){this.e||(this.is_svg?this.e=Te(i.nodeName):this.e=A(i.nodeName),this.t=i,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let i=0;i<this.n.length;i+=1)q(this.t,this.n[i],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(P)}}const vt=new Map;let wt=0;function bn(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function mn(e,t){const i={stylesheet:ln(t),rules:{}};return vt.set(e,i),i}function kt(e,t,i,r,n,o,a,s=0){const l=16.666/r;let c=`{
`;for(let v=0;v<=1;v+=l){const E=t+(i-t)*o(v);c+=v*100+`%{${a(E,1-E)}}
`}const d=c+`100% {${a(i,1-i)}}
}`,f=`__svelte_${bn(d)}_${s}`,b=dr(e),{stylesheet:u,rules:w}=vt.get(b)||mn(b,e);w[f]||(w[f]=!0,u.insertRule(`@keyframes ${f} ${d}`,u.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${n}ms 1 both`,wt+=1,f}function xt(e,t){const i=(e.style.animation||"").split(", "),r=i.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),n=i.length-r.length;n&&(e.style.animation=r.join(", "),wt-=n,wt||hn())}function hn(){Qt(()=>{wt||(vt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)}),vt.clear())})}let rt;function we(e){rt=e}function at(){if(!rt)throw new Error("Function called outside component initialization");return rt}function Rs(e){at().$$.on_mount.push(e)}function pn(e){at().$$.after_update.push(e)}function gn(e){at().$$.on_destroy.push(e)}function Zt(){const e=at();return(t,i,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[t];if(n){const o=fr(t,i,{cancelable:r});return n.slice().forEach(a=>{a.call(e,o)}),!o.defaultPrevented}return!0}}function pi(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(r=>r.call(this,t))}const et=[],gi=[],ut=[],Lt=[],ur=Promise.resolve();let Bt=!1;function br(){Bt||(Bt=!0,ur.then(Xt))}function vn(){return br(),ur}function je(e){ut.push(e)}function Us(e){Lt.push(e)}const Pt=new Set;let dt=0;function Xt(){const e=rt;do{for(;dt<et.length;){const t=et[dt];dt++,we(t),wn(t.$$)}for(we(null),et.length=0,dt=0;gi.length;)gi.pop()();for(let t=0;t<ut.length;t+=1){const i=ut[t];Pt.has(i)||(Pt.add(i),i())}ut.length=0}while(et.length);for(;Lt.length;)Lt.pop()();Bt=!1,Pt.clear(),we(e)}function wn(e){if(e.fragment!==null){e.update(),_e(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(je)}}let Ze;function ei(){return Ze||(Ze=Promise.resolve(),Ze.then(()=>{Ze=null})),Ze}function Oe(e,t,i){e.dispatchEvent(fr(`${t?"intro":"outro"}${i}`))}const bt=new Set;let he;function V(){he={r:0,c:[],p:he}}function Q(){he.r||_e(he.c),he=he.p}function T(e,t){e&&e.i&&(bt.delete(e),e.i(t))}function M(e,t,i,r){if(e&&e.o){if(bt.has(e))return;bt.add(e),he.c.push(()=>{bt.delete(e),r&&(i&&e.d(1),r())}),e.o(t)}else r&&r()}const ti={duration:0};function kn(e,t,i){let r=t(e,i),n=!1,o,a,s=0;function l(){o&&xt(e,o)}function c(){const{delay:f=0,duration:b=300,easing:u=ot,tick:w=G,css:h}=r||ti;h&&(o=kt(e,0,1,b,f,u,h,s++)),w(0,1);const v=Rt()+f,E=v+b;a&&a.abort(),n=!0,je(()=>Oe(e,!0,"start")),a=Ut(m=>{if(n){if(m>=E)return w(1,0),Oe(e,!0,"end"),l(),n=!1;if(m>=v){const p=u((m-v)/b);w(p,1-p)}}return n})}let d=!1;return{start(){d||(d=!0,xt(e),Je(r)?(r=r(),ei().then(c)):c())},invalidate(){d=!1},end(){n&&(l(),n=!1)}}}function xn(e,t,i){let r=t(e,i),n=!0,o;const a=he;a.r+=1;function s(){const{delay:l=0,duration:c=300,easing:d=ot,tick:f=G,css:b}=r||ti;b&&(o=kt(e,1,0,c,l,d,b));const u=Rt()+l,w=u+c;je(()=>Oe(e,!1,"start")),Ut(h=>{if(n){if(h>=w)return f(0,1),Oe(e,!1,"end"),--a.r||_e(a.c),!1;if(h>=u){const v=d((h-u)/c);f(1-v,v)}}return n})}return Je(r)?ei().then(()=>{r=r(),s()}):s(),{end(l){l&&r.tick&&r.tick(1,0),n&&(o&&xt(e,o),n=!1)}}}function Ts(e,t,i,r){let n=t(e,i),o=r?0:1,a=null,s=null,l=null;function c(){l&&xt(e,l)}function d(b,u){const w=b.b-o;return u*=Math.abs(w),{a:o,b:b.b,d:w,duration:u,start:b.start,end:b.start+u,group:b.group}}function f(b){const{delay:u=0,duration:w=300,easing:h=ot,tick:v=G,css:E}=n||ti,m={start:Rt()+u,b};b||(m.group=he,he.r+=1),a||s?s=m:(E&&(c(),l=kt(e,o,b,w,u,h,E)),b&&v(0,1),a=d(m,w),je(()=>Oe(e,b,"start")),Ut(p=>{if(s&&p>s.start&&(a=d(s,w),s=null,Oe(e,a.b,"start"),E&&(c(),l=kt(e,o,a.b,a.duration,0,h,n.css))),a){if(p>=a.end)v(o=a.b,1-o),Oe(e,a.b,"end"),s||(a.b?c():--a.group.r||_e(a.group.c)),a=null;else if(p>=a.start){const g=p-a.start;o=a.a+a.d*h(g/a.duration),v(o,1-o)}}return!!(a||s)}))}return{run(b){Je(n)?ei().then(()=>{n=n(),f(b)}):f(b)},end(){c(),a=s=null}}}function Is(e,t){const i=t.token={};function r(n,o,a,s){if(t.token!==i)return;t.resolved=s;let l=t.ctx;a!==void 0&&(l=l.slice(),l[a]=s);const c=n&&(t.current=n)(l);let d=!1;t.block&&(t.blocks?t.blocks.forEach((f,b)=>{b!==o&&f&&(V(),M(f,1,1,()=>{t.blocks[b]===f&&(t.blocks[b]=null)}),Q())}):t.block.d(1),c.c(),T(c,1),c.m(t.mount(),t.anchor),d=!0),t.block=c,t.blocks&&(t.blocks[o]=c),d&&Xt()}if(on(e)){const n=at();if(e.then(o=>{we(n),r(t.then,1,t.value,o),we(null)},o=>{if(we(n),r(t.catch,2,t.error,o),we(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Os(e,t,i){const r=t.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,i)}function mr(e,t){const i={},r={},n={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const l in a)l in s||(r[l]=1);for(const l in s)n[l]||(i[l]=s[l],n[l]=1);e[o]=s}else for(const l in a)n[l]=1}for(const a in r)a in i||(i[a]=void 0);return i}function hr(e){return typeof e=="object"&&e!==null?e:{}}function js(e,t,i){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=i,i(e.$$.ctx[r]))}function ie(e){e&&e.c()}function Z(e,t,i,r){const{fragment:n,on_mount:o,on_destroy:a,after_update:s}=e.$$;n&&n.m(t,i),r||je(()=>{const l=o.map(ar).filter(Je);a?a.push(...l):_e(l),e.$$.on_mount=[]}),s.forEach(je)}function X(e,t){const i=e.$$;i.fragment!==null&&(_e(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function yn(e,t){e.$$.dirty[0]===-1&&(et.push(e),br(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(e,t,i,r,n,o,a,s=[-1]){const l=rt;we(e);const c=e.$$={fragment:null,ctx:null,props:o,update:G,not_equal:n,bound:mi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:mi(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let d=!1;if(c.ctx=i?i(e,t.props||{},(f,b,...u)=>{const w=u.length?u[0]:b;return c.ctx&&n(c.ctx[f],c.ctx[f]=w)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](w),d&&yn(e,f)),b}):[],c.update(),d=!0,_e(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=fn(t.target);c.fragment&&c.fragment.l(f),f.forEach(P)}else c.fragment&&c.fragment.c();t.intro&&T(e.$$.fragment),Z(e,t.target,t.anchor,t.customElement),Xt()}we(l)}class de{$destroy(){X(this,1),this.$destroy=G}$on(t,i){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const n=r.indexOf(i);n!==-1&&r.splice(n,1)}}$set(t){this.$$set&&!an(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _n(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pr={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(Ue,function(){var i=1e3,r=6e4,n=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",d="week",f="month",b="quarter",u="year",w="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(S,z,C){var N=String(S);return!N||N.length>=z?S:""+Array(z+1-N.length).join(C)+S},g={s:p,z:function(S){var z=-S.utcOffset(),C=Math.abs(z),N=Math.floor(C/60),R=C%60;return(z<=0?"+":"-")+p(N,2,"0")+":"+p(R,2,"0")},m:function S(z,C){if(z.date()<C.date())return-S(C,z);var N=12*(C.year()-z.year())+(C.month()-z.month()),R=z.clone().add(N,f),D=C-R<0,B=z.clone().add(N+(D?-1:1),f);return+(-(N+(C-R)/(D?R-B:B-R))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:u,w:d,d:c,D:w,h:l,m:s,s:a,ms:o,Q:b}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},k="en",y={};y[k]=m;var U=function(S){return S instanceof O},j=function S(z,C,N){var R;if(!z)return k;if(typeof z=="string"){var D=z.toLowerCase();y[D]&&(R=D),C&&(y[D]=C,R=D);var B=z.split("-");if(!R&&B.length>1)return S(B[0])}else{var W=z.name;y[W]=z,R=W}return!N&&R&&(k=R),R||!N&&k},I=function(S,z){if(U(S))return S.clone();var C=typeof z=="object"?z:{};return C.date=S,C.args=arguments,new O(C)},$=g;$.l=j,$.i=U,$.w=function(S,z){return I(S,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var O=function(){function S(C){this.$L=j(C.locale,null,!0),this.parse(C)}var z=S.prototype;return z.parse=function(C){this.$d=function(N){var R=N.date,D=N.utc;if(R===null)return new Date(NaN);if($.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var B=R.match(v);if(B){var W=B[2]-1||0,J=(B[7]||"0").substring(0,3);return D?new Date(Date.UTC(B[1],W,B[3]||1,B[4]||0,B[5]||0,B[6]||0,J)):new Date(B[1],W,B[3]||1,B[4]||0,B[5]||0,B[6]||0,J)}}return new Date(R)}(C),this.$x=C.x||{},this.init()},z.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},z.$utils=function(){return $},z.isValid=function(){return this.$d.toString()!==h},z.isSame=function(C,N){var R=I(C);return this.startOf(N)<=R&&R<=this.endOf(N)},z.isAfter=function(C,N){return I(C)<this.startOf(N)},z.isBefore=function(C,N){return this.endOf(N)<I(C)},z.$g=function(C,N,R){return $.u(C)?this[N]:this.set(R,C)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(C,N){var R=this,D=!!$.u(N)||N,B=$.p(C),W=function($e,re){var Ee=$.w(R.$u?Date.UTC(R.$y,re,$e):new Date(R.$y,re,$e),R);return D?Ee:Ee.endOf(c)},J=function($e,re){return $.w(R.toDate()[$e].apply(R.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(re)),R)},K=this.$W,te=this.$M,Se=this.$D,ge="set"+(this.$u?"UTC":"");switch(B){case u:return D?W(1,0):W(31,11);case f:return D?W(1,te):W(0,te+1);case d:var Ve=this.$locale().weekStart||0,Qe=(K<Ve?K+7:K)-Ve;return W(D?Se-Qe:Se+(6-Qe),te);case c:case w:return J(ge+"Hours",0);case l:return J(ge+"Minutes",1);case s:return J(ge+"Seconds",2);case a:return J(ge+"Milliseconds",3);default:return this.clone()}},z.endOf=function(C){return this.startOf(C,!1)},z.$set=function(C,N){var R,D=$.p(C),B="set"+(this.$u?"UTC":""),W=(R={},R[c]=B+"Date",R[w]=B+"Date",R[f]=B+"Month",R[u]=B+"FullYear",R[l]=B+"Hours",R[s]=B+"Minutes",R[a]=B+"Seconds",R[o]=B+"Milliseconds",R)[D],J=D===c?this.$D+(N-this.$W):N;if(D===f||D===u){var K=this.clone().set(w,1);K.$d[W](J),K.init(),this.$d=K.set(w,Math.min(this.$D,K.daysInMonth())).$d}else W&&this.$d[W](J);return this.init(),this},z.set=function(C,N){return this.clone().$set(C,N)},z.get=function(C){return this[$.p(C)]()},z.add=function(C,N){var R,D=this;C=Number(C);var B=$.p(N),W=function(te){var Se=I(D);return $.w(Se.date(Se.date()+Math.round(te*C)),D)};if(B===f)return this.set(f,this.$M+C);if(B===u)return this.set(u,this.$y+C);if(B===c)return W(1);if(B===d)return W(7);var J=(R={},R[s]=r,R[l]=n,R[a]=i,R)[B]||1,K=this.$d.getTime()+C*J;return $.w(K,this)},z.subtract=function(C,N){return this.add(-1*C,N)},z.format=function(C){var N=this,R=this.$locale();if(!this.isValid())return R.invalidDate||h;var D=C||"YYYY-MM-DDTHH:mm:ssZ",B=$.z(this),W=this.$H,J=this.$m,K=this.$M,te=R.weekdays,Se=R.months,ge=function(re,Ee,Mt,lt){return re&&(re[Ee]||re(N,D))||Mt[Ee].slice(0,lt)},Ve=function(re){return $.s(W%12||12,re,"0")},Qe=R.meridiem||function(re,Ee,Mt){var lt=re<12?"AM":"PM";return Mt?lt.toLowerCase():lt},$e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:K+1,MM:$.s(K+1,2,"0"),MMM:ge(R.monthsShort,K,Se,3),MMMM:ge(Se,K),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:ge(R.weekdaysMin,this.$W,te,2),ddd:ge(R.weekdaysShort,this.$W,te,3),dddd:te[this.$W],H:String(W),HH:$.s(W,2,"0"),h:Ve(1),hh:Ve(2),a:Qe(W,J,!0),A:Qe(W,J,!1),m:String(J),mm:$.s(J,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:B};return D.replace(E,function(re,Ee){return Ee||$e[re]||B.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(C,N,R){var D,B=$.p(N),W=I(C),J=(W.utcOffset()-this.utcOffset())*r,K=this-W,te=$.m(this,W);return te=(D={},D[u]=te/12,D[f]=te,D[b]=te/3,D[d]=(K-J)/6048e5,D[c]=(K-J)/864e5,D[l]=K/n,D[s]=K/r,D[a]=K/i,D)[B]||K,R?te:$.a(te)},z.daysInMonth=function(){return this.endOf(f).$D},z.$locale=function(){return y[this.$L]},z.locale=function(C,N){if(!C)return this.$L;var R=this.clone(),D=j(C,N,!0);return D&&(R.$L=D),R},z.clone=function(){return $.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},S}(),F=O.prototype;return I.prototype=F,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",f],["$y",u],["$D",w]].forEach(function(S){F[S[1]]=function(z){return this.$g(z,S[0],S[1])}}),I.extend=function(S,z){return S.$i||(S(z,O,I),S.$i=!0),I},I.locale=j,I.isDayjs=U,I.unix=function(S){return I(1e3*S)},I.en=y[k],I.Ls=y,I.p={},I})})(pr);var Sn=pr.exports,st={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(Ue,function(){var i=i||function(r,n){var o;if(typeof window!="undefined"&&window.crypto&&(o=window.crypto),typeof self!="undefined"&&self.crypto&&(o=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window!="undefined"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof Ue!="undefined"&&Ue.crypto&&(o=Ue.crypto),!o&&typeof _n=="function")try{o=require("crypto")}catch{}var a=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function m(){}return function(p){var g;return m.prototype=p,g=new m,m.prototype=null,g}}(),l={},c=l.lib={},d=c.Base=function(){return{extend:function(m){var p=s(this);return m&&p.mixIn(m),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var p in m)m.hasOwnProperty(p)&&(this[p]=m[p]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=d.extend({init:function(m,p){m=this.words=m||[],p!=n?this.sigBytes=p:this.sigBytes=m.length*4},toString:function(m){return(m||u).stringify(this)},concat:function(m){var p=this.words,g=m.words,k=this.sigBytes,y=m.sigBytes;if(this.clamp(),k%4)for(var U=0;U<y;U++){var j=g[U>>>2]>>>24-U%4*8&255;p[k+U>>>2]|=j<<24-(k+U)%4*8}else for(var I=0;I<y;I+=4)p[k+I>>>2]=g[I>>>2];return this.sigBytes+=y,this},clamp:function(){var m=this.words,p=this.sigBytes;m[p>>>2]&=4294967295<<32-p%4*8,m.length=r.ceil(p/4)},clone:function(){var m=d.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var p=[],g=0;g<m;g+=4)p.push(a());return new f.init(p,m)}}),b=l.enc={},u=b.Hex={stringify:function(m){for(var p=m.words,g=m.sigBytes,k=[],y=0;y<g;y++){var U=p[y>>>2]>>>24-y%4*8&255;k.push((U>>>4).toString(16)),k.push((U&15).toString(16))}return k.join("")},parse:function(m){for(var p=m.length,g=[],k=0;k<p;k+=2)g[k>>>3]|=parseInt(m.substr(k,2),16)<<24-k%8*4;return new f.init(g,p/2)}},w=b.Latin1={stringify:function(m){for(var p=m.words,g=m.sigBytes,k=[],y=0;y<g;y++){var U=p[y>>>2]>>>24-y%4*8&255;k.push(String.fromCharCode(U))}return k.join("")},parse:function(m){for(var p=m.length,g=[],k=0;k<p;k++)g[k>>>2]|=(m.charCodeAt(k)&255)<<24-k%4*8;return new f.init(g,p)}},h=b.Utf8={stringify:function(m){try{return decodeURIComponent(escape(w.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return w.parse(unescape(encodeURIComponent(m)))}},v=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=h.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var p,g=this._data,k=g.words,y=g.sigBytes,U=this.blockSize,j=U*4,I=y/j;m?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var $=I*U,O=r.min($*4,y);if($){for(var F=0;F<$;F+=U)this._doProcessBlock(k,F);p=k.splice(0,$),g.sigBytes-=O}return new f.init(p,O)},clone:function(){var m=d.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=v.extend({cfg:d.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var p=this._doFinalize();return p},blockSize:16,_createHelper:function(m){return function(p,g){return new m.init(g).finalize(p)}},_createHmacHelper:function(m){return function(p,g){return new E.HMAC.init(m,g).finalize(p)}}});var E=l.algo={};return l}(Math);return i})})(st);var En=st.exports,gr={exports:{}};(function(e,t){(function(i,r){e.exports=r(st.exports)})(Ue,function(i){return function(r){var n=i,o=n.lib,a=o.WordArray,s=o.Hasher,l=n.algo,c=[],d=[];(function(){function u(E){for(var m=r.sqrt(E),p=2;p<=m;p++)if(!(E%p))return!1;return!0}function w(E){return(E-(E|0))*4294967296|0}for(var h=2,v=0;v<64;)u(h)&&(v<8&&(c[v]=w(r.pow(h,1/2))),d[v]=w(r.pow(h,1/3)),v++),h++})();var f=[],b=l.SHA256=s.extend({_doReset:function(){this._hash=new a.init(c.slice(0))},_doProcessBlock:function(u,w){for(var h=this._hash.words,v=h[0],E=h[1],m=h[2],p=h[3],g=h[4],k=h[5],y=h[6],U=h[7],j=0;j<64;j++){if(j<16)f[j]=u[w+j]|0;else{var I=f[j-15],$=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=f[j-2],F=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[j]=$+f[j-7]+F+f[j-16]}var S=g&k^~g&y,z=v&E^v&m^E&m,C=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),N=(g<<26|g>>>6)^(g<<21|g>>>11)^(g<<7|g>>>25),R=U+N+S+d[j]+f[j],D=C+z;U=y,y=k,k=g,g=p+R|0,p=m,m=E,E=v,v=R+D|0}h[0]=h[0]+v|0,h[1]=h[1]+E|0,h[2]=h[2]+m|0,h[3]=h[3]+p|0,h[4]=h[4]+g|0,h[5]=h[5]+k|0,h[6]=h[6]+y|0,h[7]=h[7]+U|0},_doFinalize:function(){var u=this._data,w=u.words,h=this._nDataBytes*8,v=u.sigBytes*8;return w[v>>>5]|=128<<24-v%32,w[(v+64>>>9<<4)+14]=r.floor(h/4294967296),w[(v+64>>>9<<4)+15]=h,u.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA256=s._createHelper(b),n.HmacSHA256=s._createHmacHelper(b)}(Math),i.SHA256})})(gr);var zn=gr.exports,vr={exports:{}};(function(e,t){(function(i,r){e.exports=r(st.exports)})(Ue,function(i){return function(){var r=i,n=r.lib,o=n.WordArray,a=r.enc;a.Base64={stringify:function(l){var c=l.words,d=l.sigBytes,f=this._map;l.clamp();for(var b=[],u=0;u<d;u+=3)for(var w=c[u>>>2]>>>24-u%4*8&255,h=c[u+1>>>2]>>>24-(u+1)%4*8&255,v=c[u+2>>>2]>>>24-(u+2)%4*8&255,E=w<<16|h<<8|v,m=0;m<4&&u+m*.75<d;m++)b.push(f.charAt(E>>>6*(3-m)&63));var p=f.charAt(64);if(p)for(;b.length%4;)b.push(p);return b.join("")},parse:function(l){var c=l.length,d=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var b=0;b<d.length;b++)f[d.charCodeAt(b)]=b}var u=d.charAt(64);if(u){var w=l.indexOf(u);w!==-1&&(c=w)}return s(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,c,d){for(var f=[],b=0,u=0;u<c;u++)if(u%4){var w=d[l.charCodeAt(u-1)]<<u%4*2,h=d[l.charCodeAt(u)]>>>6-u%4*2,v=w|h;f[b>>>2]|=v<<24-b%4*8,b++}return o.create(f,b)}}(),i.enc.Base64})})(vr);var vi=vr.exports,wr={exports:{}};(function(e,t){(function(i,r){e.exports=r(st.exports)})(Ue,function(i){return i.enc.Utf8})})(wr);var Cn=wr.exports;function Ft(e){this.message=e}Ft.prototype=new Error,Ft.prototype.name="InvalidCharacterError";var wi=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Ft("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,n=0,o=0,a="";r=t.charAt(o++);~r&&(i=n%4?64*i+r:r,n++%4)?a+=String.fromCharCode(255&i>>(-2*n&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function An(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(i){return decodeURIComponent(wi(i).replace(/(.)/g,function(r,n){var o=n.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(t)}catch{return wi(t)}}function yt(e){this.message=e}function Rn(e,t){if(typeof e!="string")throw new yt("Invalid token specified");var i=(t=t||{}).header===!0?0:1;try{return JSON.parse(An(e.split(".")[i]))}catch(r){throw new yt("Invalid token specified: "+r.message)}}yt.prototype=new Error,yt.prototype.name="InvalidTokenError";var Un={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},ue,be,nt=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(nt||{});(e=>{function t(){ue=3,be=Un}e.reset=t;function i(n){if(!(0<=n&&n<=4))throw new Error("Invalid log level");ue=n}e.setLevel=i;function r(n){be=n}e.setLogger=r})(nt||(nt={}));var L=class{constructor(e){this._name=e}debug(...e){ue>=4&&be.debug(L._format(this._name,this._method),...e)}info(...e){ue>=3&&be.info(L._format(this._name,this._method),...e)}warn(...e){ue>=2&&be.warn(L._format(this._name,this._method),...e)}error(...e){ue>=1&&be.error(L._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const i=new L(`${e}.${t}`);return i.debug("begin"),i}static _format(e,t){const i=`[${e}]`;return t?`${i} ${t}:`:i}static debug(e,...t){ue>=4&&be.debug(L._format(e),...t)}static info(e,...t){ue>=3&&be.info(L._format(e),...t)}static warn(e,...t){ue>=2&&be.warn(L._format(e),...t)}static error(e,...t){ue>=1&&be.error(L._format(e),...t)}};nt.reset();var Tn="10000000-1000-4000-8000-100000000000",ke=class{static _randomWord(){return En.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return Tn.replace(/[018]/g,t=>(+t^ke._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return ke.generateUUIDv4()+ke.generateUUIDv4()+ke.generateUUIDv4()}static generateCodeChallenge(e){try{const t=zn(e);return vi.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw L.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const i=Cn.parse([e,t].join(":"));return vi.stringify(i)}},Ae=class{constructor(e){this._name=e,this._logger=new L(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)t(...e)}},Ht=class{static decode(e){try{return Rn(e)}catch(t){throw L.error("JwtUtils.decode",t),t}}},ki=class{static center({...e}){var t,i,r;return e.width==null&&(e.width=(t=[800,720,600,480].find(n=>n<=window.outerWidth/1.618))!=null?t:360),(i=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((r=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,i])=>`${t}=${typeof i!="boolean"?i:i?"yes":"no"}`).join(",")}},le=class extends Ae{constructor(){super(...arguments),this._logger=new L(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-le.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=le.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const i=le.getEpochTime()+e;if(this.expiration===i&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=i;const r=Math.min(e,5);this._timerHandle=setInterval(this._callback,r*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Gt=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const r=new URL(e,window.location.origin)[t==="fragment"?"hash":"search"];return new URLSearchParams(r.slice(1))}},Me=class extends Error{constructor(e,t){var i,r,n;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw L.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(i=e.error_description)!=null?i:null,this.error_uri=(r=e.error_uri)!=null?r:null,this.state=e.userState,this.session_state=(n=e.session_state)!=null?n:null}},ii=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},In=class{constructor(e){this._logger=new L("AccessTokenEvents"),this._expiringTimer=new le("Access token expiring"),this._expiredTimer=new le("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const i=e.expires_in;if(t.debug("access token present, remaining duration:",i),i>0){let n=i-this._expiringNotificationTimeInSeconds;n<=0&&(n=1),t.debug("registering expiring timer, raising in",n,"seconds"),this._expiringTimer.init(n)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=i+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},On=class{constructor(e,t,i,r,n){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=n,this._logger=new L("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=a=>{a.origin===this._frame_origin&&a.source===this._frame.contentWindow&&(a.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):a.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(a.data+" message from check session op iframe"))};const o=new URL(i);this._frame_origin=o.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=o.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},kr=class{constructor(){this._logger=new L("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},ri=class{constructor(e=[],t=null){this._jwtHandler=t,this._logger=new L("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:i,...r}=t;if(!i)return await fetch(e,r);const n=new AbortController,o=setTimeout(()=>n.abort(),i*1e3);try{return await fetch(e,{...t,signal:n.signal})}catch(a){throw a instanceof DOMException&&a.name==="AbortError"?new ii("Network timed out"):a}finally{clearTimeout(o)}}async getJson(e,{token:t}={}){const i=this._logger.create("getJson"),r={Accept:this._contentTypes.join(", ")};t&&(i.debug("token passed, setting Authorization header"),r.Authorization="Bearer "+t);let n;try{i.debug("url:",e),n=await this.fetchWithTimeout(e,{method:"GET",headers:r})}catch(s){throw i.error("Network Error"),s}i.debug("HTTP response received, status",n.status);const o=n.headers.get("Content-Type");if(o&&!this._contentTypes.find(s=>o.startsWith(s))&&i.throw(new Error(`Invalid response Content-Type: ${o!=null?o:"undefined"}, from URL: ${e}`)),n.ok&&this._jwtHandler&&(o==null?void 0:o.startsWith("application/jwt")))return await this._jwtHandler(await n.text());let a;try{a=await n.json()}catch(s){throw i.error("Error parsing JSON response",s),n.ok?s:new Error(`${n.statusText} (${n.status})`)}if(!n.ok)throw i.error("Error from server:",a),a.error?new Me(a):new Error(`${n.statusText} (${n.status}): ${JSON.stringify(a)}`);return a}async postForm(e,{body:t,basicAuth:i,timeoutInSeconds:r,initCredentials:n}){const o=this._logger.create("postForm"),a={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};i!==void 0&&(a.Authorization="Basic "+i);let s;try{o.debug("url:",e),s=await this.fetchWithTimeout(e,{method:"POST",headers:a,body:t,timeoutInSeconds:r,credentials:n})}catch(f){throw o.error("Network error"),f}o.debug("HTTP response received, status",s.status);const l=s.headers.get("Content-Type");if(l&&!this._contentTypes.find(f=>l.startsWith(f)))throw new Error(`Invalid response Content-Type: ${l!=null?l:"undefined"}, from URL: ${e}`);const c=await s.text();let d={};if(c)try{d=JSON.parse(c)}catch(f){throw o.error("Error parsing JSON response",f),s.ok?f:new Error(`${s.statusText} (${s.status})`)}if(!s.ok)throw o.error("Error from server:",d),d.error?new Me(d,t):new Error(`${s.statusText} (${s.status}): ${JSON.stringify(d)}`);return d}},jn=class{constructor(e){this._settings=e,this._logger=new L("MetadataService"),this._jsonService=new ri(["application/jwk-set+json"]),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl);return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const i=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(i.debug("resolved"),r[e]===void 0){if(t===!0){i.warn("Metadata does not contain optional property");return}i.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const i=await this._jsonService.getJson(t);if(e.debug("got key set",i),!Array.isArray(i.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=i.keys,this._signingKeys}},xr=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new L("WebStorageStateStore"),this._store=t,this._prefix=e}set(e,t){return this._logger.create(`set('${e}')`),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()}get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;const t=this._store.getItem(e);return Promise.resolve(t)}remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)}getAllKeys(){this._logger.create("getAllKeys");const e=[];for(let t=0;t<this._store.length;t++){const i=this._store.key(t);i&&i.indexOf(this._prefix)===0&&e.push(i.substr(this._prefix.length))}return Promise.resolve(e)}},Mn="code",Pn="openid",Nn="client_secret_post",qn="query",$n=60*15,Dn=60*5,yr=class{constructor({authority:e,metadataUrl:t,metadata:i,signingKeys:r,metadataSeed:n,client_id:o,client_secret:a,response_type:s=Mn,scope:l=Pn,redirect_uri:c,post_logout_redirect_uri:d,client_authentication:f=Nn,prompt:b,display:u,max_age:w,ui_locales:h,acr_values:v,resource:E,response_mode:m=qn,filterProtocolClaims:p=!0,loadUserInfo:g=!1,staleStateAgeInSeconds:k=$n,clockSkewInSeconds:y=Dn,userInfoJwtIssuer:U="OP",mergeClaims:j=!1,stateStore:I,refreshTokenCredentials:$="same-origin",extraQueryParams:O={},extraTokenParams:F={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=i,this.metadataSeed=n,this.signingKeys=r,this.client_id=o,this.client_secret=a,this.response_type=s,this.scope=l,this.redirect_uri=c,this.post_logout_redirect_uri=d,this.client_authentication=f,this.prompt=b,this.display=u,this.max_age=w,this.ui_locales=h,this.acr_values=v,this.resource=E,this.response_mode=m,this.filterProtocolClaims=!!p,this.loadUserInfo=!!g,this.staleStateAgeInSeconds=k,this.clockSkewInSeconds=y,this.userInfoJwtIssuer=U,this.mergeClaims=!!j,this.refreshTokenCredentials=$,I)this.stateStore=I;else{const S=typeof window!="undefined"?window.localStorage:new kr;this.stateStore=new xr({store:S})}this.extraQueryParams=O,this.extraTokenParams=F}},Ln=class{constructor(e){this._metadataService=e,this._logger=new L("UserInfoService"),this._getClaimsFromJwt=async t=>{const i=this._logger.create("_getClaimsFromJwt");try{const r=Ht.decode(t);return i.debug("JWT decoding successful"),r}catch(r){throw i.error("Error parsing JWT response"),r}},this._jsonService=new ri(void 0,this._getClaimsFromJwt)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const i=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",i);const r=await this._jsonService.getJson(i,{token:e});return t.debug("got claims",r),r}},_r=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new L("TokenClient"),this._jsonService=new ri}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:i=this._settings.client_id,client_secret:r=this._settings.client_secret,...n}){const o=this._logger.create("exchangeCode");i||o.throw(new Error("A client_id is required")),t||o.throw(new Error("A redirect_uri is required")),n.code||o.throw(new Error("A code is required")),n.code_verifier||o.throw(new Error("A code_verifier is required"));const a=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[d,f]of Object.entries(n))f!=null&&a.set(d,f);let s;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw o.throw(new Error("A client_secret is required")),null;s=ke.generateBasicAuth(i,r);break;case"client_secret_post":a.append("client_id",i),r&&a.append("client_secret",r);break}const l=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:a,basicAuth:s});return o.debug("got response"),c}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:i=this._settings.client_secret,timeoutInSeconds:r,refreshTokenCredentials:n,...o}){const a=this._logger.create("exchangeRefreshToken");t||a.throw(new Error("A client_id is required")),o.refresh_token||a.throw(new Error("A refresh_token is required"));const s=new URLSearchParams({grant_type:e});for(const[f,b]of Object.entries(o))b!=null&&s.set(f,b);let l;switch(this._settings.client_authentication){case"client_secret_basic":if(!i)throw a.throw(new Error("A client_secret is required")),null;l=ke.generateBasicAuth(t,i);break;case"client_secret_post":s.append("client_id",t),i&&s.append("client_secret",i);break}const c=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const d=await this._jsonService.postForm(c,{body:s,basicAuth:l,timeoutInSeconds:r,initCredentials:n});return a.debug("got response"),d}async revoke(e){var t;const i=this._logger.create("revoke");e.token||i.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);i.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const n=new URLSearchParams;for(const[o,a]of Object.entries(e))a!=null&&n.set(o,a);n.set("client_id",this._settings.client_id),this._settings.client_secret&&n.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:n}),i.debug("got response")}},Bn=["iss","aud","exp","nbf","iat","jti","auth_time","nonce","acr","amr","azp","at_hash"],Fn=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new L("ResponseValidator"),this._userInfoService=new Ln(this._metadataService),this._tokenClient=new _r(this._settings,this._metadataService)}async validateSigninResponse(e,t){const i=this._logger.create("validateSigninResponse");this._processSigninState(e,t),i.debug("state processed"),await this._processCode(e,t),i.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),i.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),i.debug("claims processed")}async validateRefreshResponse(e,t){var i,r;const n=this._logger.create("validateRefreshResponse");e.userState=t.data,(i=e.session_state)!=null||(e.session_state=t.session_state),(r=e.scope)!=null||(e.scope=t.scope);const o=e.isOpenId&&!!e.id_token;o&&(this._validateIdTokenAttributes(e,t.id_token),n.debug("ID Token validated")),await this._processClaims(e,!1,o),n.debug("claims processed")}validateSignoutResponse(e,t){const i=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&i.throw(new Error("State does not match")),i.debug("state validated"),e.userState=t.data,e.error)throw i.warn("Response was error",e.error),new Me(e)}_processSigninState(e,t){var i;const r=this._logger.create("_processSigninState");if(t.id!==e.state&&r.throw(new Error("State does not match")),t.client_id||r.throw(new Error("No client_id on state")),t.authority||r.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&r.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&r.throw(new Error("client_id mismatch on settings vs. signin state")),r.debug("state validated"),e.userState=t.data,(i=e.scope)!=null||(e.scope=t.scope),e.error)throw r.warn("Response was error",e.error),new Me(e);t.code_verifier&&!e.code&&r.throw(new Error("Expected code in response")),!t.code_verifier&&e.code&&r.throw(new Error("Unexpected code in response"))}async _processClaims(e,t=!1,i=!0){const r=this._logger.create("_processClaims");if(e.profile=this._filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){r.debug("not loading user info");return}r.debug("loading user info");const n=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),i&&n.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._mergeClaims(e.profile,this._filterProtocolClaims(n)),r.debug("user info claims received, updated profile:",e.profile)}_mergeClaims(e,t){const i={...e};for(const[r,n]of Object.entries(t))for(const o of Array.isArray(n)?n:[n]){const a=i[r];a?Array.isArray(a)?a.includes(o)||a.push(o):i[r]!==o&&(typeof o=="object"&&this._settings.mergeClaims?i[r]=this._mergeClaims(a,o):i[r]=[a,o]):i[r]=o}return i}_filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims)for(const i of Bn)delete t[i];return t}async _processCode(e,t){const i=this._logger.create("_processCode");if(e.code){i.debug("Validating code");const r=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,r)}else i.debug("No code to process")}_validateIdTokenAttributes(e,t){var i;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const n=Ht.decode((i=e.id_token)!=null?i:"");if(n.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const o=Ht.decode(t);o.sub!==n.sub&&r.throw(new Error("sub in id_token does not match current sub")),o.auth_time&&o.auth_time!==n.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),o.azp&&o.azp!==n.azp&&r.throw(new Error("azp in id_token does not match original azp")),!o.azp&&n.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=n}},He=class{constructor(e){this.id=e.id||ke.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=le.getEpochTime(),this.request_type=e.request_type}toStorageString(){return new L("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})}static fromStorageString(e){return L.createStatic("State","fromStorageString"),new He(JSON.parse(e))}static async clearStaleState(e,t){const i=L.createStatic("State","clearStaleState"),r=le.getEpochTime()-t,n=await e.getAllKeys();i.debug("got keys",n);for(let o=0;o<n.length;o++){const a=n[o],s=await e.get(a);let l=!1;if(s)try{const c=He.fromStorageString(s);i.debug("got item from key:",a,c.created),c.created<=r&&(l=!0)}catch(c){i.error("Error parsing state for key:",a,c),l=!0}else i.debug("no item in storage for key:",a),l=!0;l&&(i.debug("removed item for key:",a),e.remove(a))}}},ni=class extends He{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=ke.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=ke.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new L("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){L.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new ni(t)}},Hn=class{constructor({url:e,authority:t,client_id:i,redirect_uri:r,response_type:n,scope:o,state_data:a,response_mode:s,request_type:l,client_secret:c,nonce:d,skipUserInfo:f,extraQueryParams:b,extraTokenParams:u,...w}){if(this._logger=new L("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!i)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!r)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!n)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!o)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new ni({data:a,request_type:l,code_verifier:!0,client_id:i,authority:t,redirect_uri:r,response_mode:s,client_secret:c,scope:o,extraTokenParams:u,skipUserInfo:f});const h=new URL(e);h.searchParams.append("client_id",i),h.searchParams.append("redirect_uri",r),h.searchParams.append("response_type",n),h.searchParams.append("scope",o),d&&h.searchParams.append("nonce",d),h.searchParams.append("state",this.state.id),this.state.code_challenge&&(h.searchParams.append("code_challenge",this.state.code_challenge),h.searchParams.append("code_challenge_method","S256"));for(const[v,E]of Object.entries({response_mode:s,...w,...b}))E!=null&&h.searchParams.append(v,E.toString());this.url=h.href}},Gn="openid",xi=class{constructor(e){this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-le.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+le.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(Gn))||!!this.id_token}},Wn=class{constructor({url:e,state_data:t,id_token_hint:i,post_logout_redirect_uri:r,extraQueryParams:n,request_type:o}){if(this._logger=new L("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);i&&a.searchParams.append("id_token_hint",i),r&&(a.searchParams.append("post_logout_redirect_uri",r),t&&(this.state=new He({data:t,request_type:o}),a.searchParams.append("state",this.state.id)));for(const[s,l]of Object.entries({...n}))l!=null&&a.searchParams.append(s,l.toString());this.url=a.href}},Kn=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},Jn=class{constructor(e){this._logger=new L("OidcClient"),this.settings=new yr(e),this.metadataService=new jn(this.settings),this._validator=new Fn(this.settings,this.metadataService),this._tokenClient=new _r(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:i,request_type:r,id_token_hint:n,login_hint:o,skipUserInfo:a,nonce:s,response_type:l=this.settings.response_type,scope:c=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:f=this.settings.prompt,display:b=this.settings.display,max_age:u=this.settings.max_age,ui_locales:w=this.settings.ui_locales,acr_values:h=this.settings.acr_values,resource:v=this.settings.resource,response_mode:E=this.settings.response_mode,extraQueryParams:m=this.settings.extraQueryParams,extraTokenParams:p=this.settings.extraTokenParams}){const g=this._logger.create("createSigninRequest");if(l!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const k=await this.metadataService.getAuthorizationEndpoint();g.debug("Received authorization endpoint",k);const y=new Hn({url:k,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:l,scope:c,state_data:e,prompt:f,display:b,max_age:u,ui_locales:w,id_token_hint:n,login_hint:o,acr_values:h,resource:v,request:t,request_uri:i,extraQueryParams:m,extraTokenParams:p,request_type:r,response_mode:E,client_secret:this.settings.client_secret,skipUserInfo:a,nonce:s});await this.clearStaleState();const U=y.state;return await this.settings.stateStore.set(U.id,U.toStorageString()),y}async readSigninResponseState(e,t=!1){const i=this._logger.create("readSigninResponseState"),r=new xi(Gt.readParams(e,this.settings.response_mode));if(!r.state)throw i.throw(new Error("No state in response")),null;const n=await this.settings.stateStore[t?"remove":"get"](r.state);if(!n)throw i.throw(new Error("No matching state found in storage")),null;return{state:ni.fromStorageString(n),response:r}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:i,response:r}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(r,i),r}async useRefreshToken({state:e,timeoutInSeconds:t}){const i=this._logger.create("useRefreshToken"),r=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:e.scope,timeoutInSeconds:t,refreshTokenCredentials:this.settings.refreshTokenCredentials}),n=new xi(new URLSearchParams);return Object.assign(n,r),i.debug("validating response",n),await this._validator.validateRefreshResponse(n,e),n}async createSignoutRequest({state:e,id_token_hint:t,request_type:i,post_logout_redirect_uri:r=this.settings.post_logout_redirect_uri,extraQueryParams:n=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a);const s=new Wn({url:a,id_token_hint:t,post_logout_redirect_uri:r,state_data:e,extraQueryParams:n,request_type:i});await this.clearStaleState();const l=s.state;return l&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(l.id,l.toStorageString())),s}async readSignoutResponseState(e,t=!1){const i=this._logger.create("readSignoutResponseState"),r=new Kn(Gt.readParams(e,this.settings.response_mode));if(!r.state){if(i.debug("No state in response"),r.error)throw i.warn("Response was error:",r.error),new Me(r);return{state:void 0,response:r}}const n=await this.settings.stateStore[t?"remove":"get"](r.state);if(!n)throw i.throw(new Error("No matching state found in storage")),null;return{state:He.fromStorageString(n),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:i,response:r}=await this.readSignoutResponseState(e,!0);return i?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,i)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),He.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},Yn=class{constructor(e){this._userManager=e,this._logger=new L("SessionMonitor"),this._start=async t=>{const i=t.session_state;if(!i)return;const r=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,r.debug("session_state",i,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,r.debug("session_state",i,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(i);return}try{const n=await this._userManager.metadataService.getCheckSessionIframe();if(n){r.debug("initializing check session iframe");const o=this._userManager.settings.client_id,a=this._userManager.settings.checkSessionIntervalInSeconds,s=this._userManager.settings.stopCheckSessionOnError,l=new On(this._callback,o,n,a,s);await l.load(),this._checkSessionIFrame=l,l.start(i)}else r.warn("no check session iframe found in the metadata")}catch(n){r.error("Error from getCheckSessionIframe:",n instanceof Error?n.message:n)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const i=setInterval(async()=>{clearInterval(i);try{const r=await this._userManager.querySessionStatus();if(r){const n={session_state:r.session_state,profile:r.sub&&r.sid?{sub:r.sub,sid:r.sid}:null};this._start(n)}}catch(r){t.error("error from querySessionStatus",r instanceof Error?r.message:r)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const i=await this._userManager.querySessionStatus();let r=!0;i&&this._checkSessionIFrame?i.sub===this._sub?(r=!1,this._checkSessionIFrame.start(i.session_state),i.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",i.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",i.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",i.sub):t.debug("subject no longer signed into OP"),r?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(i){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",i),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const i={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(i)}}}},mt=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=(t=e.session_state)!=null?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-le.getEpochTime()}set expires_in(e){e!==void 0&&(this.expires_at=Math.floor(e)+le.getEpochTime())}get expired(){const e=this.expires_in;if(e!==void 0)return e<=0}get scopes(){var e,t;return(t=(e=this.scope)==null?void 0:e.split(" "))!=null?t:[]}toStorageString(){return new L("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return L.createStatic("User","fromStorageString"),new mt(JSON.parse(e))}},yi="oidc-client",Sr=class{constructor(){this._abort=new Ae("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:i,keepOpen:r}=await new Promise((n,o)=>{const a=s=>{var l;const c=s.data,d=(l=e.scriptOrigin)!=null?l:window.location.origin;if(!(s.origin!==d||(c==null?void 0:c.source)!==yi)){try{const f=Gt.readParams(c.url,e.response_mode).get("state");if(f||t.warn("no state found in response url"),s.source!==this._window&&f!==e.state)return}catch{this._dispose(),o(new Error("Invalid response from window"))}n(c)}};window.addEventListener("message",a,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",a,!1)),this._disposeHandlers.add(this._abort.addHandler(s=>{this._dispose(),o(s)}))});return t.debug("got response from window"),this._dispose(),r||this.close(),{url:i}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,i=!1,r=window.location.origin){e.postMessage({source:yi,url:t,keepOpen:i},r)}},Er={location:!1,toolbar:!1,height:640},zr="_blank",Vn=60,Qn=2,Cr=10,Zn=class extends yr{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:i=e.post_logout_redirect_uri,popupWindowFeatures:r=Er,popupWindowTarget:n=zr,redirectMethod:o="assign",redirectTarget:a="self",iframeNotifyParentOrigin:s=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,silent_redirect_uri:c=e.redirect_uri,silentRequestTimeoutInSeconds:d=Cr,automaticSilentRenew:f=!0,validateSubOnSilentRenew:b=!0,includeIdTokenInSilentRenew:u=!1,monitorSession:w=!1,monitorAnonymousSession:h=!1,checkSessionIntervalInSeconds:v=Qn,query_status_response_type:E="code",stopCheckSessionOnError:m=!0,revokeTokenTypes:p=["access_token","refresh_token"],revokeTokensOnSignout:g=!1,accessTokenExpiringNotificationTimeInSeconds:k=Vn,userStore:y}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=i,this.popupWindowFeatures=r,this.popupWindowTarget=n,this.redirectMethod=o,this.redirectTarget=a,this.iframeNotifyParentOrigin=s,this.iframeScriptOrigin=l,this.silent_redirect_uri=c,this.silentRequestTimeoutInSeconds=d,this.automaticSilentRenew=f,this.validateSubOnSilentRenew=b,this.includeIdTokenInSilentRenew=u,this.monitorSession=w,this.monitorAnonymousSession=h,this.checkSessionIntervalInSeconds=v,this.stopCheckSessionOnError=m,this.query_status_response_type=E,this.revokeTokenTypes=p,this.revokeTokensOnSignout=g,this.accessTokenExpiringNotificationTimeInSeconds=k,y)this.userStore=y;else{const U=typeof window!="undefined"?window.sessionStorage:new kr;this.userStore=new xr({store:U})}}},Wt=class extends Sr{constructor({silentRequestTimeoutInSeconds:e=Cr}){super(),this._logger=new L("IFrameWindow"),this._timeoutInSeconds=e,this._frame=Wt.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new ii("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var i;const r=t.target;(i=r.parentNode)==null||i.removeChild(r),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},Xn=class{constructor(e){this._settings=e,this._logger=new L("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Wt({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Wt.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},eo=500,_i=class extends Sr{constructor({popupWindowTarget:e=zr,popupWindowFeatures:t={}}){super(),this._logger=new L("PopupWindow");const i=ki.center({...Er,...t});this._window=window.open(void 0,e,ki.serialize(i))}async navigate(e){var t;(t=this._window)==null||t.focus();const i=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},eo);return this._disposeHandlers.add(()=>clearInterval(i)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},to=class{constructor(e){this._settings=e,this._logger=new L("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new _i({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,t=!1){this._logger.create("callback"),_i.notifyOpener(e,t)}},io=class{constructor(e){this._settings=e,this._logger=new L("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var i;this._logger.create("prepare");let r=window.self;t==="top"&&(r=(i=window.top)!=null?i:window.self);const n=r.location[e].bind(r.location);let o;return{navigate:async a=>{this._logger.create("navigate");const s=new Promise((l,c)=>{o=c});return n(a.url),await s},close:()=>{this._logger.create("close"),o==null||o(new Error("Redirect aborted")),r.stop()}}}},ro=class extends In{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new L("UserManagerEvents"),this._userLoaded=new Ae("User loaded"),this._userUnloaded=new Ae("User unloaded"),this._silentRenewError=new Ae("Silent renew error"),this._userSignedIn=new Ae("User signed in"),this._userSignedOut=new Ae("User signed out"),this._userSessionChanged=new Ae("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},no=class{constructor(e){this._userManager=e,this._logger=new L("SilentRenewService"),this._isStarted=!1,this._retryTimer=new le("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(i){if(i instanceof ii){t.warn("ErrorTimeout from signinSilent:",i,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",i),this._userManager.events._raiseSilentRenewError(i)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},oo=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.data=e.state}},Ar=class{constructor(e){this._logger=new L("UserManager"),this.settings=new Zn(e),this._client=new Jn(e),this._redirectNavigator=new io(this.settings),this._popupNavigator=new to(this.settings),this._iframeNavigator=new Xn(this.settings),this._events=new ro(this.settings),this._silentRenewService=new no(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new Yn(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...i}=e,r=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...i},r)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),i=await this._signinEnd(e);return i.profile&&i.profile.sub?t.info("success, signed in subject",i.profile.sub):t.info("no subject"),i}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:i,popupWindowTarget:r,...n}=e,o=this.settings.popup_redirect_uri;o||t.throw(new Error("No popup_redirect_uri configured"));const a=await this._popupNavigator.prepare({popupWindowFeatures:i,popupWindowTarget:r}),s=await this._signin({request_type:"si:p",redirect_uri:o,display:"popup",...n},a);return s&&(s.profile&&s.profile.sub?t.info("success, signed in subject",s.profile.sub):t.info("no subject")),s}async signinPopupCallback(e=window.location.href,t=!1){const i=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,t),i.info("success")}async signinSilent(e={}){var t;const i=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:r,...n}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){i.debug("using refresh token");const c=new oo(o);return await this._useRefreshToken(c)}const a=this.settings.silent_redirect_uri;a||i.throw(new Error("No silent_redirect_uri configured"));let s;o&&this.settings.validateSubOnSilentRenew&&(i.debug("subject prior to silent renew:",o.profile.sub),s=o.profile.sub);const l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});return o=await this._signin({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,...n},l,s),o&&((t=o.profile)!=null&&t.sub?i.info("success, signed in subject",o.profile.sub):i.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),i=new mt({...e,...t});return await this.storeUser(i),this._events.load(i),i}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:i}=await this._client.readSignoutResponseState(e);if(!!i)switch(i.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:i,...r}=e,n=this.settings.silent_redirect_uri;n||t.throw(new Error("No silent_redirect_uri configured"));const o=await this._loadUser(),a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:i}),s=await this._signinStart({request_type:"si:s",redirect_uri:n,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},a);try{const l=await this._client.processSigninResponse(s.url);return t.debug("got signin response"),l.session_state&&l.profile.sub?(t.info("success for subject",l.profile.sub),{session_state:l.session_state,sub:l.profile.sub,sid:l.profile.sid}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof Me)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,i){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,i)}async _signinStart(e,t){const i=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return i.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw i.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signinEnd(e,t){const i=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e);i.debug("got signin response");const n=new mt(r);if(t){if(t!==n.profile.sub)throw i.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new Me({...r,error:"login_required"});i.debug("current user matches user returned from signin")}return await this.storeUser(n),i.debug("user stored"),this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:i,...r}=e,n=await this._redirectNavigator.prepare({redirectMethod:i});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},n),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),i=await this._signoutEnd(e);return t.info("success"),i}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:i,popupWindowTarget:r,...n}=e,o=this.settings.popup_post_logout_redirect_uri,a=await this._popupNavigator.prepare({popupWindowFeatures:i,popupWindowTarget:r});await this._signout({request_type:"so:p",post_logout_redirect_uri:o,state:o==null?void 0:{},...n},a),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const i=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,t),i.info("success")}async _signout(e,t){const i=await this._signoutStart(e,t);return await this._signoutEnd(i.url)}async _signoutStart(e={},t){var i;const r=this._logger.create("_signoutStart");try{const n=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(n);const o=e.id_token_hint||n&&n.id_token;o&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=o),await this.removeUser(),r.debug("user removed, creating signout request");const a=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:a.url,state:(i=a.state)==null?void 0:i.id})}catch(n){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),n}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),i=await this._client.processSignoutResponse(e);return t.debug("got signout response"),i}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const i=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter(n=>typeof e[n]=="string");if(!r.length){i.debug("no need to revoke due to no token(s)");return}for(const n of r)await this._client.revokeToken(e[n],n),i.info(`${n} revoked successfully`),n!=="access_token"&&(e[n]=null);await this.storeUser(e),i.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),mt.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const i=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,i)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}};const De=[];function Rr(e,t){return{subscribe:Ne(e,t).subscribe}}function Ne(e,t=G){let i;const r=new Set;function n(s){if(se(e,s)&&(e=s,i)){const l=!De.length;for(const c of r)c[1](),De.push(c,e);if(l){for(let c=0;c<De.length;c+=2)De[c][0](De[c+1]);De.length=0}}}function o(s){n(s(e))}function a(s,l=G){const c=[s,l];return r.add(c),r.size===1&&(i=t(n)||G),s(e),()=>{r.delete(c),r.size===0&&(i(),i=null)}}return{set:n,update:o,subscribe:a}}function Ur(e,t,i){const r=!Array.isArray(e),n=r?[e]:e,o=t.length<2;return Rr(i,a=>{let s=!1;const l=[];let c=0,d=G;const f=()=>{if(c)return;d();const u=t(r?l[0]:l,a);o?a(u):d=Je(u)?u:G},b=n.map((u,w)=>St(u,h=>{l[w]=h,c&=~(1<<w),s&&f()},()=>{c|=1<<w}));return s=!0,f(),function(){_e(b),d()}})}let Tr=null;localStorage.settings&&(Tr=JSON.parse(localStorage.settings));const ye=Ne(Tr||{oidcSettings:null,instanceUrl:null,clientId:null});ye.subscribe(e=>localStorage.settings=JSON.stringify(e));let Ir=null;sessionStorage.oidcRecovery&&(Ir=JSON.parse(sessionStorage.oidcRecovery));const pe=Ne(Ir||{isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null});pe.subscribe(e=>sessionStorage.oidcRecovery=JSON.stringify(e));const Si=Ne({messages:[]}),Kt=Ne(!1);let me=null;const Or=e=>(me!=null||(me=new Ar(e),me.events.addSilentRenewError(()=>{console.log("silent renew error")}),me.events.addUserLoaded(t=>{pe.update(i=>{const r=co(t.access_token);return i.isAuthenticated=!0,i.user=r.sub,i.accessToken=t.access_token,i.accessTokenExpires=t.expires_at,i.scopes=t.scope,i})}),me.events.addUserUnloaded(()=>{pe.update(t=>({isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null}))})),me);nt.setLogger(console);ye.subscribe(e=>{pe.update(t=>(e.oidcSettings!=null&&(Or(e.oidcSettings),!t.isAuthenticated&&window.location.hash!="#/oidc-callback"&&me.signinRedirect()),t))});const ao=()=>{console.log("registering")},so=async()=>{me.signinRedirect()},lo=async()=>{await me.removeUser(),pe.update(e=>({isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null}))},Ms=()=>{if(!tt(pe).isAuthenticated&&tt(ye).oidcSettings){const e=Or(tt(ye).oidcSettings);e&&e.signinRedirectCallback().then(function(t){console.log("user",t),window.location.replace("/")}).catch(t=>{console.log("oidc-callback",t)})}},co=e=>{var t=e.split(".")[1],i=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(i).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)};function Ei(e){let t;return{c(){t=A("div"),t.innerHTML=`<a href="#/applications" class="navbar-item">Applications</a> 
      
      <a href="#/users" class="navbar-item">Users</a> 
      <a href="#/roles" class="navbar-item">Roles</a> 
      <a href="#/invites" class="navbar-item">Invites</a>`,x(t,"class","navbar-start")},m(i,r){q(i,t,r)},d(i){i&&P(t)}}}function fo(e){let t,i,r;return{c(){t=A("button"),t.innerHTML="<span>Log in</span>",x(t,"type","button"),x(t,"class","button is-light")},m(n,o){q(n,t,o),i||(r=xe(t,"click",e[4]),i=!0)},p:G,d(n){n&&P(t),i=!1,r()}}}function uo(e){let t,i,r,n,o=e[0]&&zi(e);return{c(){o&&o.c(),t=H(),i=A("button"),i.innerHTML="<span>Log out</span>",x(i,"type","button"),x(i,"class","button is-light")},m(a,s){o&&o.m(a,s),q(a,t,s),q(a,i,s),r||(n=xe(i,"click",e[3]),r=!0)},p(a,s){a[0]?o?o.p(a,s):(o=zi(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(a){o&&o.d(a),a&&P(t),a&&P(i),r=!1,n()}}}function zi(e){let t,i,r;return{c(){t=A("a"),i=A("span"),i.textContent="Account",x(t,"href",r=e[0]+"/account/"),x(t,"target","_blank"),x(t,"class","button button is-light")},m(n,o){q(n,t,o),_(t,i)},p(n,o){o&1&&r!==(r=n[0]+"/account/")&&x(t,"href",r)},d(n){n&&P(t)}}}function bo(e){let t,i,r,n,o,a,s,l,c,d,f,b,u,w,h=e[1]&&Ei();function v(p,g){return p[1]?uo:fo}let E=v(e),m=E(e);return{c(){t=A("nav"),i=A("div"),r=A("a"),r.innerHTML="<strong>gotrxx admin</strong>",n=H(),o=A("div"),o.innerHTML=`<span></span> 
      <span></span> 
      <span></span>`,a=H(),s=A("div"),h&&h.c(),l=H(),c=A("div"),d=A("div"),f=A("div"),m.c(),x(r,"class","navbar-item"),x(r,"href","#/"),x(o,"class","navbar-burger"),x(i,"class","navbar-brand"),x(f,"class","buttons"),x(d,"class","navbar-item"),x(c,"class","navbar-end"),x(s,"class",b="navbar-menu "+(e[2]?"is-active":"")),x(t,"class","navbar is-extended is-primary")},m(p,g){q(p,t,g),_(t,i),_(i,r),_(i,n),_(i,o),_(t,a),_(t,s),h&&h.m(s,null),_(s,l),_(s,c),_(c,d),_(d,f),m.m(f,null),u||(w=xe(o,"click",e[5]),u=!0)},p(p,[g]){p[1]?h||(h=Ei(),h.c(),h.m(s,l)):h&&(h.d(1),h=null),E===(E=v(p))&&m?m.p(p,g):(m.d(1),m=E(p),m&&(m.c(),m.m(f,null))),g&4&&b!==(b="navbar-menu "+(p[2]?"is-active":""))&&x(s,"class",b)},i:G,o:G,d(p){p&&P(t),h&&h.d(),m.d(),u=!1,w()}}}function mo(e,t,i){let r=!1,{instanceUrl:n=""}=t,{signedIn:o=!1}=t;const a=async()=>{await lo()},s=async()=>{await so()},l=()=>i(2,r=!r);return e.$$set=c=>{"instanceUrl"in c&&i(0,n=c.instanceUrl),"signedIn"in c&&i(1,o=c.signedIn)},[n,o,r,a,s,l]}class ho extends de{constructor(t){super(),ce(this,t,mo,bo,se,{instanceUrl:0,signedIn:1})}}function jr(e){const t=e-1;return t*t*t+1}function Ps(e,{delay:t=0,duration:i=400,easing:r=ot}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:r,css:o=>`opacity: ${o*n}`}}function Mr(e,{delay:t=0,duration:i=400,easing:r=jr,x:n=0,y:o=0,opacity:a=0}={}){const s=getComputedStyle(e),l=+s.opacity,c=s.transform==="none"?"":s.transform,d=l*(1-a);return{delay:t,duration:i,easing:r,css:(f,b)=>`
			transform: ${c} translate(${(1-f)*n}px, ${(1-f)*o}px);
			opacity: ${l-d*b}`}}function Ci(e){return Object.prototype.toString.call(e)==="[object Date]"}function Jt(e,t){if(e===t||e!==e)return()=>e;const i=typeof e;if(i!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((n,o)=>Jt(e[o],n));return n=>r.map(o=>o(n))}if(i==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ci(e)&&Ci(t)){e=e.getTime(),t=t.getTime();const o=t-e;return a=>new Date(e+a*o)}const r=Object.keys(t),n={};return r.forEach(o=>{n[o]=Jt(e[o],t[o])}),o=>{const a={};return r.forEach(s=>{a[s]=n[s](o)}),a}}if(i==="number"){const r=t-e;return n=>e+n*r}throw new Error(`Cannot interpolate ${i} values`)}function po(e,t={}){const i=Ne(e);let r,n=e;function o(a,s){if(e==null)return i.set(e=a),Promise.resolve();n=a;let l=r,c=!1,{delay:d=0,duration:f=400,easing:b=ot,interpolate:u=Jt}=it(it({},t),s);if(f===0)return l&&(l.abort(),l=null),i.set(e=n),Promise.resolve();const w=Rt()+d;let h;return r=Ut(v=>{if(v<w)return!0;c||(h=u(e,a),typeof f=="function"&&(f=f(e,a)),c=!0),l&&(l.abort(),l=null);const E=v-w;return E>f?(i.set(e=a),!1):(i.set(e=h(b(E/f))),!0)}),r.promise}return{set:o,update:(a,s)=>o(a(n,e),s),subscribe:i.subscribe}}function go(e){let t,i,r,n,o;return{c(){t=A("span"),i=Te("svg"),r=Te("g"),n=Te("path"),x(n,"d","M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z"),x(n,"fill","#000000"),x(i,"version","1.1"),x(i,"xmlns","http://www.w3.org/2000/svg"),x(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),x(i,"width","17"),x(i,"height","17"),x(i,"viewBox","0 0 17 17"),x(i,"class","svelte-krreom"),x(t,"class",o="icon "+(e[1]?`is-${e[1]}`:"")+" "+(e[0]?`is-${e[0]}`:""))},m(a,s){q(a,t,s),_(t,i),_(i,r),_(i,n)},p(a,[s]){s&3&&o!==(o="icon "+(a[1]?`is-${a[1]}`:"")+" "+(a[0]?`is-${a[0]}`:""))&&x(t,"class",o)},i:G,o:G,d(a){a&&P(t)}}}function vo(e,t,i){let{size:r=""}=t,{type:n=""}=t;return e.$$set=o=>{"size"in o&&i(0,r=o.size),"type"in o&&i(1,n=o.type)},[r,n]}class wo extends de{constructor(t){super(),ce(this,t,vo,go,se,{size:0,type:1})}}function ko(e){let t,i,r,n,o;return{c(){t=A("span"),i=Te("svg"),r=Te("g"),n=Te("path"),x(n,"d","M8.454 1.492l-8.242 14.508h16.581l-8.339-14.508zM8.459 3.508l6.605 11.492h-13.134l6.529-11.492zM9 10.938h-1v-3.938h1v3.938zM9.5 13.031c0 0.552-0.447 1-1 1s-1-0.448-1-1 0.447-1 1-1 1 0.448 1 1z"),x(n,"fill","#000000"),x(i,"version","1.1"),x(i,"xmlns","http://www.w3.org/2000/svg"),x(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),x(i,"width","17"),x(i,"height","17"),x(i,"viewBox","0 0 17 17"),x(i,"class","svelte-csyb9y"),x(t,"class",o="icon "+(e[1]?`is-${e[1]}`:"")+" "+(e[0]?`is-${e[0]}`:""))},m(a,s){q(a,t,s),_(t,i),_(i,r),_(i,n)},p(a,[s]){s&3&&o!==(o="icon "+(a[1]?`is-${a[1]}`:"")+" "+(a[0]?`is-${a[0]}`:""))&&x(t,"class",o)},i:G,o:G,d(a){a&&P(t)}}}function xo(e,t,i){let{size:r=""}=t,{type:n=""}=t;return e.$$set=o=>{"size"in o&&i(0,r=o.size),"type"in o&&i(1,n=o.type)},[r,n]}class yo extends de{constructor(t){super(),ce(this,t,xo,ko,se,{size:0,type:1})}}function Ai(e){let t,i,r,n,o,a,s,l,c,d,f,b,u,w,h,v,E,m,p,g=e[1]&&Ri(e),k=e[5]!=null&&Ii(e);return{c(){t=A("div"),i=A("button"),r=H(),n=A("div"),o=A("div"),g&&g.c(),a=H(),s=A("div"),l=A("div"),c=A("div"),d=A("h3"),f=ae(e[3]),b=H(),u=new un(!1),w=H(),k&&k.c(),x(i,"class","delete"),x(o,"class","column is-narrow has-text-centered is-flex is-align-items-center is-justify-content-center"),x(d,"class","is-size-5 has-text-weight-semibold has-text-centered-mobile"),u.a=null,x(c,"class","column is-12 has-text-grey"),x(l,"class","columns is-multiline"),x(s,"class","column"),x(n,"class","columns"),x(t,"class",h="notification "+(e[1]?`is-${e[1]}`:"")+" "+(e[2]?"is-light":"")+" svelte-xwai8")},m(y,U){q(y,t,U),_(t,i),_(t,r),_(t,n),_(n,o),g&&g.m(o,null),_(n,a),_(n,s),_(s,l),_(l,c),_(c,d),_(d,f),_(c,b),u.m(e[4],c),_(t,w),k&&k.m(t,null),E=!0,m||(p=xe(i,"click",e[7]),m=!0)},p(y,U){y[1]?g?(g.p(y,U),U&2&&T(g,1)):(g=Ri(y),g.c(),T(g,1),g.m(o,null)):g&&(V(),M(g,1,1,()=>{g=null}),Q()),(!E||U&8)&&Ie(f,y[3]),(!E||U&16)&&u.p(y[4]),y[5]!=null?k?k.p(y,U):(k=Ii(y),k.c(),k.m(t,null)):k&&(k.d(1),k=null),(!E||U&6&&h!==(h="notification "+(y[1]?`is-${y[1]}`:"")+" "+(y[2]?"is-light":"")+" svelte-xwai8"))&&x(t,"class",h)},i(y){E||(T(g),v&&v.end(1),E=!0)},o(y){M(g),v=xn(t,Mr,{y:30}),E=!1},d(y){y&&P(t),g&&g.d(),k&&k.d(),y&&v&&v.end(),m=!1,p()}}}function Ri(e){let t,i,r,n=e[1]=="danger"&&Ui(e),o=e[1]=="success"&&Ti(e);return{c(){n&&n.c(),t=H(),o&&o.c(),i=Pe()},m(a,s){n&&n.m(a,s),q(a,t,s),o&&o.m(a,s),q(a,i,s),r=!0},p(a,s){a[1]=="danger"?n?(n.p(a,s),s&2&&T(n,1)):(n=Ui(a),n.c(),T(n,1),n.m(t.parentNode,t)):n&&(V(),M(n,1,1,()=>{n=null}),Q()),a[1]=="success"?o?(o.p(a,s),s&2&&T(o,1)):(o=Ti(a),o.c(),T(o,1),o.m(i.parentNode,i)):o&&(V(),M(o,1,1,()=>{o=null}),Q())},i(a){r||(T(n),T(o),r=!0)},o(a){M(n),M(o),r=!1},d(a){n&&n.d(a),a&&P(t),o&&o.d(a),a&&P(i)}}}function Ui(e){let t,i;return t=new yo({props:{size:"large",type:e[1]}}),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},p(r,n){const o={};n&2&&(o.type=r[1]),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function Ti(e){let t,i;return t=new wo({props:{size:"large",type:e[1]}}),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},p(r,n){const o={};n&2&&(o.type=r[1]),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function Ii(e){let t;return{c(){t=A("progress"),x(t,"class","progress progress-sticky svelte-xwai8"),t.value=e[6],x(t,"max","100")},m(i,r){q(i,t,r)},p(i,r){r&64&&(t.value=i[6])},d(i){i&&P(t)}}}function _o(e){let t,i,r=!e[0]&&Ai(e);return{c(){r&&r.c(),t=Pe()},m(n,o){r&&r.m(n,o),q(n,t,o),i=!0},p(n,[o]){n[0]?r&&(V(),M(r,1,1,()=>{r=null}),Q()):r?(r.p(n,o),o&1&&T(r,1)):(r=Ai(n),r.c(),T(r,1),r.m(t.parentNode,t))},i(n){i||(T(r),i=!0)},o(n){M(r),i=!1},d(n){r&&r.d(n),n&&P(t)}}}function So(e,t,i){let r,n=G,o=()=>(n(),n=St(h,v=>i(6,r=v)),h);e.$$.on_destroy.push(()=>n());const a=Zt();let{type:s=""}=t,{light:l=!1}=t,{autoCloseDuration:c=0}=t,{isClosed:d=!1}=t,{title:f=""}=t,{content:b=""}=t,{msg:u=null}=t;const w=()=>{u!=null&&a("feedback-closed",{item:u}),i(0,d=!0)};let h;return o(),c>0&&(o(h=po(0,{duration:c,easing:jr})),h.set(100).then(w)),e.$$set=v=>{"type"in v&&i(1,s=v.type),"light"in v&&i(2,l=v.light),"autoCloseDuration"in v&&i(8,c=v.autoCloseDuration),"isClosed"in v&&i(0,d=v.isClosed),"title"in v&&i(3,f=v.title),"content"in v&&i(4,b=v.content),"msg"in v&&i(9,u=v.msg)},[d,s,l,f,b,h,r,w,c,u]}class Pr extends de{constructor(t){super(),ce(this,t,So,_o,se,{type:1,light:2,autoCloseDuration:8,isClosed:0,title:3,content:4,msg:9})}}function Oi(e,t,i){const r=e.slice();return r[2]=t[i],r}function ji(e){let t,i;return t=new Pr({props:{msg:e[2],type:e[2].type,content:e[2].body,title:e[2].title,autoCloseDuration:e[2].duration}}),t.$on("feedback-closed",e[1]),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},p(r,n){const o={};n&1&&(o.msg=r[2]),n&1&&(o.type=r[2].type),n&1&&(o.content=r[2].body),n&1&&(o.title=r[2].title),n&1&&(o.autoCloseDuration=r[2].duration),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function Eo(e){let t,i,r=e[0],n=[];for(let a=0;a<r.length;a+=1)n[a]=ji(Oi(e,r,a));const o=a=>M(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=Pe()},m(a,s){for(let l=0;l<n.length;l+=1)n[l].m(a,s);q(a,t,s),i=!0},p(a,[s]){if(s&3){r=a[0];let l;for(l=0;l<r.length;l+=1){const c=Oi(a,r,l);n[l]?(n[l].p(c,s),T(n[l],1)):(n[l]=ji(c),n[l].c(),T(n[l],1),n[l].m(t.parentNode,t))}for(V(),l=r.length;l<n.length;l+=1)o(l);Q()}},i(a){if(!i){for(let s=0;s<r.length;s+=1)T(n[s]);i=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)M(n[s]);i=!1},d(a){dn(n,a),a&&P(t)}}}function zo(e,t,i){let r=[];const n=o=>{const a=o.detail.item;Si.update(s=>(s.messages=s.messages.filter(l=>l!=a),s))};return Si.subscribe(o=>{i(0,r=o.messages)}),[r,n]}class Co extends de{constructor(t){super(),ce(this,t,zo,Eo,se,{})}}const Ao="modulepreload",Mi={},Ro="/gotrxx-admin/",ze=function(t,i){return!i||i.length===0?t():Promise.all(i.map(r=>{if(r=`${Ro}${r}`,r in Mi)return;Mi[r]=!0;const n=r.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":Ao,n||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),n)return new Promise((s,l)=>{a.addEventListener("load",s),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function Uo(e){let t,i,r,n,o,a,s,l,c,d,f,b,u,w,h,v;const E=e[3].default,m=Et(E,e,e[2],null);return{c(){t=A("header"),i=A("nav"),r=A("div"),n=A("div"),o=A("div"),a=A("p"),s=ae(e[0]),l=H(),c=A("p"),d=ae(e[1]),f=H(),b=A("div"),u=A("p"),m&&m.c(),w=H(),h=A("br"),x(a,"class","heading has-text-light"),x(c,"class","title has-text-light"),x(n,"class","level-item"),x(r,"class","level-left"),x(u,"class","level-item"),x(b,"class","level-right"),x(i,"class","level")},m(p,g){q(p,t,g),_(t,i),_(i,r),_(r,n),_(n,o),_(o,a),_(a,s),_(o,l),_(o,c),_(c,d),_(i,f),_(i,b),_(b,u),m&&m.m(u,null),_(t,w),_(t,h),v=!0},p(p,[g]){(!v||g&1)&&Ie(s,p[0]),(!v||g&2)&&Ie(d,p[1]),m&&m.p&&(!v||g&4)&&Ct(m,E,p,p[2],v?zt(E,p[2],g,null):At(p[2]),null)},i(p){v||(T(m,p),v=!0)},o(p){M(m,p),v=!1},d(p){p&&P(t),m&&m.d(p)}}}function To(e,t,i){let{$$slots:r={},$$scope:n}=t,{title:o="Hello World"}=t,{subtitle:a="Hello World"}=t;return e.$$set=s=>{"title"in s&&i(0,o=s.title),"subtitle"in s&&i(1,a=s.subtitle),"$$scope"in s&&i(2,n=s.$$scope)},[o,a,n,r]}class Io extends de{constructor(t){super(),ce(this,t,To,Uo,se,{title:0,subtitle:1})}}const Oo=e=>({}),Pi=e=>({}),jo=e=>({}),Ni=e=>({});function qi(e){let t,i,r,n=e[3].title&&$i(e),o=e[1]&&Di(e);return{c(){t=A("header"),n&&n.c(),i=H(),o&&o.c(),x(t,"class","card-header")},m(a,s){q(a,t,s),n&&n.m(t,null),_(t,i),o&&o.m(t,null),r=!0},p(a,s){a[3].title?n?(n.p(a,s),s&8&&T(n,1)):(n=$i(a),n.c(),T(n,1),n.m(t,i)):n&&(V(),M(n,1,1,()=>{n=null}),Q()),a[1]?o?o.p(a,s):(o=Di(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(a){r||(T(n),r=!0)},o(a){M(n),r=!1},d(a){a&&P(t),n&&n.d(),o&&o.d()}}}function $i(e){let t,i;const r=e[5].title,n=Et(r,e,e[4],Ni);return{c(){t=A("p"),n&&n.c(),x(t,"class","card-header-title")},m(o,a){q(o,t,a),n&&n.m(t,null),i=!0},p(o,a){n&&n.p&&(!i||a&16)&&Ct(n,r,o,o[4],i?zt(r,o[4],a,jo):At(o[4]),Ni)},i(o){i||(T(n,o),i=!0)},o(o){M(n,o),i=!1},d(o){o&&P(t),n&&n.d(o)}}}function Di(e){let t,i,r;return{c(){t=A("button"),t.innerHTML='<div class="delete"></div>',x(t,"class","card-header-icon")},m(n,o){q(n,t,o),i||(r=xe(t,"click",e[2]),i=!0)},p:G,d(n){n&&P(t),i=!1,r()}}}function Li(e){let t,i;const r=e[5].footer,n=Et(r,e,e[4],Pi);return{c(){t=A("footer"),n&&n.c(),x(t,"class","card-footer")},m(o,a){q(o,t,a),n&&n.m(t,null),i=!0},p(o,a){n&&n.p&&(!i||a&16)&&Ct(n,r,o,o[4],i?zt(r,o[4],a,Oo):At(o[4]),Pi)},i(o){i||(T(n,o),i=!0)},o(o){M(n,o),i=!1},d(o){o&&P(t),n&&n.d(o)}}}function Mo(e){let t,i,r,n,o,a,s,l=(e[3].title||e[1])&&qi(e);const c=e[5].default,d=Et(c,e,e[4],null);let f=e[3].footer&&Li(e);return{c(){t=A("div"),l&&l.c(),i=H(),r=A("div"),d&&d.c(),o=H(),f&&f.c(),x(r,"class",n="card-content "+(e[0]?"":"p-0")),x(t,"class","card")},m(b,u){q(b,t,u),l&&l.m(t,null),_(t,i),_(t,r),d&&d.m(r,null),_(t,o),f&&f.m(t,null),s=!0},p(b,[u]){b[3].title||b[1]?l?(l.p(b,u),u&10&&T(l,1)):(l=qi(b),l.c(),T(l,1),l.m(t,i)):l&&(V(),M(l,1,1,()=>{l=null}),Q()),d&&d.p&&(!s||u&16)&&Ct(d,c,b,b[4],s?zt(c,b[4],u,null):At(b[4]),null),(!s||u&1&&n!==(n="card-content "+(b[0]?"":"p-0")))&&x(r,"class",n),b[3].footer?f?(f.p(b,u),u&8&&T(f,1)):(f=Li(b),f.c(),T(f,1),f.m(t,null)):f&&(V(),M(f,1,1,()=>{f=null}),Q())},i(b){s||(T(l),T(d,b),T(f),a||je(()=>{a=kn(t,Mr,{y:-30}),a.start()}),s=!0)},o(b){M(l),M(d,b),M(f),s=!1},d(b){b&&P(t),l&&l.d(),d&&d.d(b),f&&f.d()}}}function Po(e,t,i){let{$$slots:r={},$$scope:n}=t;const o=sn(r),a=Zt();let{padding:s=!0}=t,{closeable:l=!1}=t;const c=()=>{a("card-closed",{})};return e.$$set=d=>{"padding"in d&&i(0,s=d.padding),"closeable"in d&&i(1,l=d.closeable),"$$scope"in d&&i(4,n=d.$$scope)},[s,l,c,o,n,r]}class No extends de{constructor(t){super(),ce(this,t,Po,Mo,se,{padding:0,closeable:1})}}function qo(e){let t;return{c(){t=ae("gotrxx instance administration web interface")},m(i,r){q(i,t,r)},d(i){i&&P(t)}}}function $o(e){let t;return{c(){t=A("span"),t.textContent="gotrxx admin",x(t,"slot","title")},m(i,r){q(i,t,r)},p:G,d(i){i&&P(t)}}}function Do(e){let t,i,r,n,o;return i=new Io({props:{title:"gotrxx-admin",subtitle:"Welcome"}}),n=new No({props:{$$slots:{title:[$o],default:[qo]},$$scope:{ctx:e}}}),{c(){t=A("div"),ie(i.$$.fragment),r=H(),ie(n.$$.fragment),x(t,"class","section")},m(a,s){q(a,t,s),Z(i,t,null),_(t,r),Z(n,t,null),o=!0},p(a,[s]){const l={};s&1&&(l.$$scope={dirty:s,ctx:a}),n.$set(l)},i(a){o||(T(i.$$.fragment,a),T(n.$$.fragment,a),o=!0)},o(a){M(i.$$.fragment,a),M(n.$$.fragment,a),o=!1},d(a){a&&P(t),X(i),X(n)}}}class Lo extends de{constructor(t){super(),ce(this,t,null,Do,se,{})}}function Ce(e){if(!e)throw Error("Parameter args is required");if(!e.component==!e.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(e.component&&(e.asyncComponent=()=>Promise.resolve(e.component)),typeof e.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(e.conditions){Array.isArray(e.conditions)||(e.conditions=[e.conditions]);for(let i=0;i<e.conditions.length;i++)if(!e.conditions[i]||typeof e.conditions[i]!="function")throw Error("Invalid parameter conditions["+i+"]")}return e.loadingComponent&&(e.asyncComponent.loading=e.loadingComponent,e.asyncComponent.loadingParams=e.loadingParams||void 0),{component:e.asyncComponent,userData:e.userData,conditions:e.conditions&&e.conditions.length?e.conditions:void 0,props:e.props&&Object.keys(e.props).length?e.props:{},_sveltesparouter:!0}}var Nr={"/":Lo,"/applications":Ce({asyncComponent:()=>ze(()=>import("./Applications.8f1c525a.js"),["assets/Applications.8f1c525a.js","assets/Applications.158df020.css","assets/ApiOn.a907e046.js","assets/ApiOn.800af1ac.css","assets/Pagination.0d6a914c.js","assets/Pagination.b0bbd664.css","assets/NotificationDispatcher.ebf08596.js","assets/create-form.9d29038b.js"])}),"/authorizations":Ce({asyncComponent:()=>ze(()=>import("./Authorizations.69cdc148.js"),["assets/Authorizations.69cdc148.js","assets/Pagination.0d6a914c.js","assets/Pagination.b0bbd664.css"])}),"/users":Ce({asyncComponent:()=>ze(()=>import("./Users.50691bbe.js"),["assets/Users.50691bbe.js","assets/Applications.158df020.css","assets/Pagination.0d6a914c.js","assets/Pagination.b0bbd664.css","assets/ApiOn.a907e046.js","assets/ApiOn.800af1ac.css","assets/NotificationDispatcher.ebf08596.js","assets/TagInput.59cb9282.js"])}),"/roles":Ce({asyncComponent:()=>ze(()=>import("./Roles.b024b04c.js"),["assets/Roles.b024b04c.js","assets/Pagination.0d6a914c.js","assets/Pagination.b0bbd664.css"])}),"/invites":Ce({asyncComponent:()=>ze(()=>import("./Invites.1dbc7e37.js"),["assets/Invites.1dbc7e37.js","assets/Pagination.0d6a914c.js","assets/Pagination.b0bbd664.css","assets/create-form.9d29038b.js","assets/TagInput.59cb9282.js","assets/NotificationDispatcher.ebf08596.js"])}),"/oidc-callback":Ce({asyncComponent:()=>ze(()=>import("./OidcCallback.95d194d6.js"),[])}),"/silent-renew":Ce({asyncComponent:()=>ze(()=>import("./OidcSilentRenew.297f1f9e.js"),[])}),"*":Ce({asyncComponent:()=>ze(()=>import("./NotFound.19676792.js"),[])})};function Bo(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var i,r,n,o,a=[],s="",l=e.split("/");for(l[0]||l.shift();n=l.shift();)i=n[0],i==="*"?(a.push("wild"),s+="/(.*)"):i===":"?(r=n.indexOf("?",1),o=n.indexOf(".",1),a.push(n.substring(1,~r?r:~o?o:n.length)),s+=!!~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+n.substring(o))):s+="/"+n;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function Fo(e){let t,i,r;const n=[e[2]];var o=e[0];function a(s){let l={};for(let c=0;c<n.length;c+=1)l=it(l,n[c]);return{props:l}}return o&&(t=new o(a()),t.$on("routeEvent",e[7])),{c(){t&&ie(t.$$.fragment),i=Pe()},m(s,l){t&&Z(t,s,l),q(s,i,l),r=!0},p(s,l){const c=l&4?mr(n,[hr(s[2])]):{};if(o!==(o=s[0])){if(t){V();const d=t;M(d.$$.fragment,1,0,()=>{X(d,1)}),Q()}o?(t=new o(a()),t.$on("routeEvent",s[7]),ie(t.$$.fragment),T(t.$$.fragment,1),Z(t,i.parentNode,i)):t=null}else o&&t.$set(c)},i(s){r||(t&&T(t.$$.fragment,s),r=!0)},o(s){t&&M(t.$$.fragment,s),r=!1},d(s){s&&P(i),t&&X(t,s)}}}function Ho(e){let t,i,r;const n=[{params:e[1]},e[2]];var o=e[0];function a(s){let l={};for(let c=0;c<n.length;c+=1)l=it(l,n[c]);return{props:l}}return o&&(t=new o(a()),t.$on("routeEvent",e[6])),{c(){t&&ie(t.$$.fragment),i=Pe()},m(s,l){t&&Z(t,s,l),q(s,i,l),r=!0},p(s,l){const c=l&6?mr(n,[l&2&&{params:s[1]},l&4&&hr(s[2])]):{};if(o!==(o=s[0])){if(t){V();const d=t;M(d.$$.fragment,1,0,()=>{X(d,1)}),Q()}o?(t=new o(a()),t.$on("routeEvent",s[6]),ie(t.$$.fragment),T(t.$$.fragment,1),Z(t,i.parentNode,i)):t=null}else o&&t.$set(c)},i(s){r||(t&&T(t.$$.fragment,s),r=!0)},o(s){t&&M(t.$$.fragment,s),r=!1},d(s){s&&P(i),t&&X(t,s)}}}function Go(e){let t,i,r,n;const o=[Ho,Fo],a=[];function s(l,c){return l[1]?0:1}return t=s(e),i=a[t]=o[t](e),{c(){i.c(),r=Pe()},m(l,c){a[t].m(l,c),q(l,r,c),n=!0},p(l,[c]){let d=t;t=s(l),t===d?a[t].p(l,c):(V(),M(a[d],1,1,()=>{a[d]=null}),Q(),i=a[t],i?i.p(l,c):(i=a[t]=o[t](l),i.c()),T(i,1),i.m(r.parentNode,r))},i(l){n||(T(i),n=!0)},o(l){M(i),n=!1},d(l){a[t].d(l),l&&P(r)}}}function Bi(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const i=t.indexOf("?");let r="";return i>-1&&(r=t.substr(i+1),t=t.substr(0,i)),{location:t,querystring:r}}const oi=Rr(null,function(t){t(Bi());const i=()=>{t(Bi())};return window.addEventListener("hashchange",i,!1),function(){window.removeEventListener("hashchange",i,!1)}});Ur(oi,e=>e.location);Ur(oi,e=>e.querystring);const Fi=Ne(void 0);function Wo(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ko(e,t,i){let{routes:r={}}=t,{prefix:n=""}=t,{restoreScrollState:o=!1}=t;class a{constructor(k,y){if(!y||typeof y!="function"&&(typeof y!="object"||y._sveltesparouter!==!0))throw Error("Invalid component object");if(!k||typeof k=="string"&&(k.length<1||k.charAt(0)!="/"&&k.charAt(0)!="*")||typeof k=="object"&&!(k instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:U,keys:j}=Bo(k);this.path=k,typeof y=="object"&&y._sveltesparouter===!0?(this.component=y.component,this.conditions=y.conditions||[],this.userData=y.userData,this.props=y.props||{}):(this.component=()=>Promise.resolve(y),this.conditions=[],this.props={}),this._pattern=U,this._keys=j}match(k){if(n){if(typeof n=="string")if(k.startsWith(n))k=k.substr(n.length)||"/";else return null;else if(n instanceof RegExp){const I=k.match(n);if(I&&I[0])k=k.substr(I[0].length)||"/";else return null}}const y=this._pattern.exec(k);if(y===null)return null;if(this._keys===!1)return y;const U={};let j=0;for(;j<this._keys.length;){try{U[this._keys[j]]=decodeURIComponent(y[j+1]||"")||null}catch{U[this._keys[j]]=null}j++}return U}async checkConditions(k){for(let y=0;y<this.conditions.length;y++)if(!await this.conditions[y](k))return!1;return!0}}const s=[];r instanceof Map?r.forEach((g,k)=>{s.push(new a(k,g))}):Object.keys(r).forEach(g=>{s.push(new a(g,r[g]))});let l=null,c=null,d={};const f=Zt();async function b(g,k){await vn(),f(g,k)}let u=null,w=null;o&&(w=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?u=g.state:u=null},window.addEventListener("popstate",w),pn(()=>{Wo(u)}));let h=null,v=null;const E=oi.subscribe(async g=>{h=g;let k=0;for(;k<s.length;){const y=s[k].match(g.location);if(!y){k++;continue}const U={route:s[k].path,location:g.location,querystring:g.querystring,userData:s[k].userData,params:y&&typeof y=="object"&&Object.keys(y).length?y:null};if(!await s[k].checkConditions(U)){i(0,l=null),v=null,b("conditionsFailed",U);return}b("routeLoading",Object.assign({},U));const j=s[k].component;if(v!=j){j.loading?(i(0,l=j.loading),v=j,i(1,c=j.loadingParams),i(2,d={}),b("routeLoaded",Object.assign({},U,{component:l,name:l.name,params:c}))):(i(0,l=null),v=null);const I=await j();if(g!=h)return;i(0,l=I&&I.default||I),v=j}y&&typeof y=="object"&&Object.keys(y).length?i(1,c=y):i(1,c=null),i(2,d=s[k].props),b("routeLoaded",Object.assign({},U,{component:l,name:l.name,params:c})).then(()=>{Fi.set(c)});return}i(0,l=null),v=null,Fi.set(void 0)});gn(()=>{E(),w&&window.removeEventListener("popstate",w)});function m(g){pi.call(this,e,g)}function p(g){pi.call(this,e,g)}return e.$$set=g=>{"routes"in g&&i(3,r=g.routes),"prefix"in g&&i(4,n=g.prefix),"restoreScrollState"in g&&i(5,o=g.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,c,d,r,n,o,m,p]}class qr extends de{constructor(t){super(),ce(this,t,Ko,Go,se,{routes:3,prefix:4,restoreScrollState:5})}}var ai={exports:{}},$r=function(t,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return t.apply(i,n)}},Jo=$r,si=Object.prototype.toString,li=function(e){return function(t){var i=si.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function qe(e){return e=e.toLowerCase(),function(i){return li(i)===e}}function ci(e){return Array.isArray(e)}function _t(e){return typeof e=="undefined"}function Yo(e){return e!==null&&!_t(e)&&e.constructor!==null&&!_t(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var Dr=qe("ArrayBuffer");function Vo(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Dr(e.buffer),t}function Qo(e){return typeof e=="string"}function Zo(e){return typeof e=="number"}function Lr(e){return e!==null&&typeof e=="object"}function ht(e){if(li(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var Xo=qe("Date"),ea=qe("File"),ta=qe("Blob"),ia=qe("FileList");function di(e){return si.call(e)==="[object Function]"}function ra(e){return Lr(e)&&di(e.pipe)}function na(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||si.call(e)===t||di(e.toString)&&e.toString()===t)}var oa=qe("URLSearchParams");function aa(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function sa(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function fi(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),ci(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function Yt(){var e={};function t(n,o){ht(e[o])&&ht(n)?e[o]=Yt(e[o],n):ht(n)?e[o]=Yt({},n):ci(n)?e[o]=n.slice():e[o]=n}for(var i=0,r=arguments.length;i<r;i++)fi(arguments[i],t);return e}function la(e,t,i){return fi(t,function(n,o){i&&typeof n=="function"?e[o]=Jo(n,i):e[o]=n}),e}function ca(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function da(e,t,i,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,i&&Object.assign(e.prototype,i)}function fa(e,t,i){var r,n,o,a={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)o=r[n],a[o]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t}function ua(e,t,i){e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;var r=e.indexOf(t,i);return r!==-1&&r===i}function ba(e){if(!e)return null;var t=e.length;if(_t(t))return null;for(var i=new Array(t);t-- >0;)i[t]=e[t];return i}var ma=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),ee={isArray:ci,isArrayBuffer:Dr,isBuffer:Yo,isFormData:na,isArrayBufferView:Vo,isString:Qo,isNumber:Zo,isObject:Lr,isPlainObject:ht,isUndefined:_t,isDate:Xo,isFile:ea,isBlob:ta,isFunction:di,isStream:ra,isURLSearchParams:oa,isStandardBrowserEnv:sa,forEach:fi,merge:Yt,extend:la,trim:aa,stripBOM:ca,inherits:da,toFlatObject:fa,kindOf:li,kindOfTest:qe,endsWith:ua,toArray:ba,isTypedArray:ma,isFileList:ia},Le=ee;function Hi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Br=function(t,i,r){if(!i)return t;var n;if(r)n=r(i);else if(Le.isURLSearchParams(i))n=i.toString();else{var o=[];Le.forEach(i,function(l,c){l===null||typeof l=="undefined"||(Le.isArray(l)?c=c+"[]":l=[l],Le.forEach(l,function(f){Le.isDate(f)?f=f.toISOString():Le.isObject(f)&&(f=JSON.stringify(f)),o.push(Hi(c)+"="+Hi(f))}))}),n=o.join("&")}if(n){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t},ha=ee;function Tt(){this.handlers=[]}Tt.prototype.use=function(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Tt.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Tt.prototype.forEach=function(t){ha.forEach(this.handlers,function(r){r!==null&&t(r)})};var pa=Tt,ga=ee,va=function(t,i){ga.forEach(t,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(t[i]=n,delete t[o])})},Fr=ee;function Ge(e,t,i,r,n){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}Fr.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Hr=Ge.prototype,Gr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){Gr[e]={value:e}});Object.defineProperties(Ge,Gr);Object.defineProperty(Hr,"isAxiosError",{value:!0});Ge.from=function(e,t,i,r,n,o){var a=Object.create(Hr);return Fr.toFlatObject(e,a,function(l){return l!==Error.prototype}),Ge.call(a,e.message,t,i,r,n),a.name=e.name,o&&Object.assign(a,o),a};var Ye=Ge,Wr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fe=ee;function wa(e,t){t=t||new FormData;var i=[];function r(o){return o===null?"":fe.isDate(o)?o.toISOString():fe.isArrayBuffer(o)||fe.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,a){if(fe.isPlainObject(o)||fe.isArray(o)){if(i.indexOf(o)!==-1)throw Error("Circular reference detected in "+a);i.push(o),fe.forEach(o,function(l,c){if(!fe.isUndefined(l)){var d=a?a+"."+c:c,f;if(l&&!a&&typeof l=="object"){if(fe.endsWith(c,"{}"))l=JSON.stringify(l);else if(fe.endsWith(c,"[]")&&(f=fe.toArray(l))){f.forEach(function(b){!fe.isUndefined(b)&&t.append(d,r(b))});return}}n(l,d)}}),i.pop()}else t.append(a,r(o))}return n(e),t}var Kr=wa,Nt=Ye,ka=function(t,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):i(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},ft=ee,xa=ft.isStandardBrowserEnv()?function(){return{write:function(i,r,n,o,a,s){var l=[];l.push(i+"="+encodeURIComponent(r)),ft.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ft.isString(o)&&l.push("path="+o),ft.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ya=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},_a=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t},Sa=ya,Ea=_a,Jr=function(t,i){return t&&!Sa(i)?Ea(t,i):i},qt=ee,za=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ca=function(t){var i={},r,n,o;return t&&qt.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),r=qt.trim(s.substr(0,o)).toLowerCase(),n=qt.trim(s.substr(o+1)),r){if(i[r]&&za.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i},Gi=ee,Aa=Gi.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(o){var a=o;return t&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(a){var s=Gi.isString(a)?n(a):a;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}(),Vt=Ye,Ra=ee;function Yr(e){Vt.call(this,e==null?"canceled":e,Vt.ERR_CANCELED),this.name="CanceledError"}Ra.inherits(Yr,Vt,{__CANCEL__:!0});var It=Yr,Ua=function(t){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""},Xe=ee,Ta=ka,Ia=xa,Oa=Br,ja=Jr,Ma=Ca,Pa=Aa,Na=Wr,ve=Ye,qa=It,$a=Ua,Wi=function(t){return new Promise(function(r,n){var o=t.data,a=t.headers,s=t.responseType,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}Xe.isFormData(o)&&Xe.isStandardBrowserEnv()&&delete a["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(f+":"+b)}var u=ja(t.baseURL,t.url);d.open(t.method.toUpperCase(),Oa(u,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function w(){if(!!d){var E="getAllResponseHeaders"in d?Ma(d.getAllResponseHeaders()):null,m=!s||s==="text"||s==="json"?d.responseText:d.response,p={data:m,status:d.status,statusText:d.statusText,headers:E,config:t,request:d};Ta(function(k){r(k),c()},function(k){n(k),c()},p),d=null}}if("onloadend"in d?d.onloadend=w:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(w)},d.onabort=function(){!d||(n(new ve("Request aborted",ve.ECONNABORTED,t,d)),d=null)},d.onerror=function(){n(new ve("Network Error",ve.ERR_NETWORK,t,d,d)),d=null},d.ontimeout=function(){var m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",p=t.transitional||Na;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),n(new ve(m,p.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,d)),d=null},Xe.isStandardBrowserEnv()){var h=(t.withCredentials||Pa(u))&&t.xsrfCookieName?Ia.read(t.xsrfCookieName):void 0;h&&(a[t.xsrfHeaderName]=h)}"setRequestHeader"in d&&Xe.forEach(a,function(m,p){typeof o=="undefined"&&p.toLowerCase()==="content-type"?delete a[p]:d.setRequestHeader(p,m)}),Xe.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),s&&s!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(E){!d||(n(!E||E&&E.type?new qa:E),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),o||(o=null);var v=$a(u);if(v&&["http","https","file"].indexOf(v)===-1){n(new ve("Unsupported protocol "+v+":",ve.ERR_BAD_REQUEST,t));return}d.send(o)})},Da=null,Y=ee,Ki=va,Ji=Ye,La=Wr,Ba=Kr,Fa={"Content-Type":"application/x-www-form-urlencoded"};function Yi(e,t){!Y.isUndefined(e)&&Y.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Ha(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Wi),e}function Ga(e,t,i){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(e)}var Ot={transitional:La,adapter:Ha(),transformRequest:[function(t,i){if(Ki(i,"Accept"),Ki(i,"Content-Type"),Y.isFormData(t)||Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return Yi(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=Y.isObject(t),n=i&&i["Content-Type"],o;if((o=Y.isFileList(t))||r&&n==="multipart/form-data"){var a=this.env&&this.env.FormData;return Ba(o?{"files[]":t}:t,a&&new a)}else if(r||n==="application/json")return Yi(i,"application/json"),Ga(t);return t}],transformResponse:[function(t){var i=this.transitional||Ot.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||n&&Y.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Ji.from(a,Ji.ERR_BAD_RESPONSE,this,null,this.response):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Da},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Y.forEach(["delete","get","head"],function(t){Ot.headers[t]={}});Y.forEach(["post","put","patch"],function(t){Ot.headers[t]=Y.merge(Fa)});var ui=Ot,Wa=ee,Ka=ui,Ja=function(t,i,r){var n=this||Ka;return Wa.forEach(r,function(a){t=a.call(n,t,i)}),t},Vr=function(t){return!!(t&&t.__CANCEL__)},Vi=ee,$t=Ja,Ya=Vr,Va=ui,Qa=It;function Dt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qa}var Za=function(t){Dt(t),t.headers=t.headers||{},t.data=$t.call(t,t.data,t.headers,t.transformRequest),t.headers=Vi.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Vi.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]});var i=t.adapter||Va.adapter;return i(t).then(function(n){return Dt(t),n.data=$t.call(t,n.data,n.headers,t.transformResponse),n},function(n){return Ya(n)||(Dt(t),n&&n.response&&(n.response.data=$t.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})},oe=ee,Qr=function(t,i){i=i||{};var r={};function n(d,f){return oe.isPlainObject(d)&&oe.isPlainObject(f)?oe.merge(d,f):oe.isPlainObject(f)?oe.merge({},f):oe.isArray(f)?f.slice():f}function o(d){if(oe.isUndefined(i[d])){if(!oe.isUndefined(t[d]))return n(void 0,t[d])}else return n(t[d],i[d])}function a(d){if(!oe.isUndefined(i[d]))return n(void 0,i[d])}function s(d){if(oe.isUndefined(i[d])){if(!oe.isUndefined(t[d]))return n(void 0,t[d])}else return n(void 0,i[d])}function l(d){if(d in i)return n(t[d],i[d]);if(d in t)return n(void 0,t[d])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return oe.forEach(Object.keys(t).concat(Object.keys(i)),function(f){var b=c[f]||o,u=b(f);oe.isUndefined(u)&&b!==l||(r[f]=u)}),r},Zr={version:"0.27.2"},Xa=Zr.version,Re=Ye,bi={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){bi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var Qi={};bi.transitional=function(t,i,r){function n(o,a){return"[Axios v"+Xa+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,s){if(t===!1)throw new Re(n(a," has been removed"+(i?" in "+i:"")),Re.ERR_DEPRECATED);return i&&!Qi[a]&&(Qi[a]=!0,console.warn(n(a," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(o,a,s):!0}};function es(e,t,i){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),n=r.length;n-- >0;){var o=r[n],a=t[o];if(a){var s=e[o],l=s===void 0||a(s,o,e);if(l!==!0)throw new Re("option "+o+" must be "+l,Re.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Re("Unknown option "+o,Re.ERR_BAD_OPTION)}}var ts={assertOptions:es,validators:bi},Xr=ee,is=Br,Zi=pa,Xi=Za,jt=Qr,rs=Jr,en=ts,Be=en.validators;function We(e){this.defaults=e,this.interceptors={request:new Zi,response:new Zi}}We.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=jt(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&en.assertOptions(r,{silentJSONParsing:Be.transitional(Be.boolean),forcedJSONParsing:Be.transitional(Be.boolean),clarifyTimeoutError:Be.transitional(Be.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(i)===!1||(o=o&&u.synchronous,n.unshift(u.fulfilled,u.rejected))});var a=[];this.interceptors.response.forEach(function(u){a.push(u.fulfilled,u.rejected)});var s;if(!o){var l=[Xi,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),s=Promise.resolve(i);l.length;)s=s.then(l.shift(),l.shift());return s}for(var c=i;n.length;){var d=n.shift(),f=n.shift();try{c=d(c)}catch(b){f(b);break}}try{s=Xi(c)}catch(b){return Promise.reject(b)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};We.prototype.getUri=function(t){t=jt(this.defaults,t);var i=rs(t.baseURL,t.url);return is(i,t.params,t.paramsSerializer)};Xr.forEach(["delete","get","head","options"],function(t){We.prototype[t]=function(i,r){return this.request(jt(r||{},{method:t,url:i,data:(r||{}).data}))}});Xr.forEach(["post","put","patch"],function(t){function i(r){return function(o,a,s){return this.request(jt(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}We.prototype[t]=i(),We.prototype[t+"Form"]=i(!0)});var ns=We,os=It;function Ke(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(n){t=n});var i=this;this.promise.then(function(r){if(!!i._listeners){var n,o=i._listeners.length;for(n=0;n<o;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,o=new Promise(function(a){i.subscribe(a),n=a}).then(r);return o.cancel=function(){i.unsubscribe(n)},o},e(function(n){i.reason||(i.reason=new os(n),t(i.reason))})}Ke.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ke.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ke.prototype.unsubscribe=function(t){if(!!this._listeners){var i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}};Ke.source=function(){var t,i=new Ke(function(n){t=n});return{token:i,cancel:t}};var as=Ke,ss=function(t){return function(r){return t.apply(null,r)}},ls=ee,cs=function(t){return ls.isObject(t)&&t.isAxiosError===!0},er=ee,ds=$r,pt=ns,fs=Qr,us=ui;function tn(e){var t=new pt(e),i=ds(pt.prototype.request,t);return er.extend(i,pt.prototype,t),er.extend(i,t),i.create=function(n){return tn(fs(e,n))},i}var ne=tn(us);ne.Axios=pt;ne.CanceledError=It;ne.CancelToken=as;ne.isCancel=Vr;ne.VERSION=Zr.version;ne.toFormData=Kr;ne.AxiosError=Ye;ne.Cancel=ne.CanceledError;ne.all=function(t){return Promise.all(t)};ne.spread=ss;ne.isAxiosError=cs;ai.exports=ne;ai.exports.default=ne;var rn=ai.exports;let gt=null;pe.subscribe(e=>{gt=rn.create({baseURL:tt(ye).instanceUrl}),gt.interceptors.request.use(t=>{const i=e.accessToken,r=i?`Bearer ${i}`:"";return t.headers.common.Authorization=r,t},t=>Promise.reject(t)),gt.interceptors.response.use(t=>t,t=>{t.response.status===401&&(pe.update(r=>(r.isAuthenticated=!1,r.access_token=null,r)),new Ar(tt(ye).oidcSettings).signinRedirect())})});var Ns=gt;function tr(e){let t,i;return t=new Pr({props:{type:"danger",title:e[2].title,content:e[2].content}}),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},p(r,n){const o={};n&4&&(o.title=r[2].title),n&4&&(o.content=r[2].content),t.$set(o)},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function bs(e){let t,i,r,n,o,a,s,l,c,d,f,b,u,w,h,v,E,m,p,g,k,y,U,j,I,$,O=e[2].visible&&tr(e);return{c(){t=A("section"),O&&O.c(),i=H(),r=A("div"),n=A("div"),o=A("h1"),o.textContent="Please configure your instance",a=H(),s=A("div"),l=A("div"),c=A("div"),d=A("label"),d.textContent="Client ID",f=H(),b=A("div"),u=A("input"),w=H(),h=A("div"),v=A("div"),E=A("label"),E.textContent="Base URL",m=H(),p=A("div"),g=A("input"),k=H(),y=A("div"),U=A("button"),U.textContent="Set",x(o,"class","has-text-centered has-text-weight-bold mt-1 mb-4"),x(d,"for","clientId"),x(d,"class","label"),x(u,"id","clientId"),x(u,"class","input"),x(u,"type","text"),x(b,"class","control"),x(c,"class","field"),x(l,"class","column is-2"),x(E,"for","baseUrl"),x(E,"class","label"),x(g,"id","baseUrl"),x(g,"class","input"),x(g,"type","text"),x(p,"class","control"),x(v,"class","field"),x(h,"class","column"),x(U,"class","button is-link is-fullwidth"),x(y,"class","column is-1 is-flex is-align-items-flex-end"),x(s,"class","columns"),x(n,"class","card-content"),x(r,"class","card"),x(t,"class","section")},m(F,S){q(F,t,S),O&&O.m(t,null),_(t,i),_(t,r),_(r,n),_(n,o),_(n,a),_(n,s),_(s,l),_(l,c),_(c,d),_(c,f),_(c,b),_(b,u),ct(u,e[1]),_(s,w),_(s,h),_(h,v),_(v,E),_(v,m),_(v,p),_(p,g),ct(g,e[0]),_(s,k),_(s,y),_(y,U),j=!0,I||($=[xe(u,"input",e[4]),xe(g,"input",e[5]),xe(U,"click",e[3])],I=!0)},p(F,[S]){F[2].visible?O?(O.p(F,S),S&4&&T(O,1)):(O=tr(F),O.c(),T(O,1),O.m(t,i)):O&&(V(),M(O,1,1,()=>{O=null}),Q()),S&2&&u.value!==F[1]&&ct(u,F[1]),S&1&&g.value!==F[0]&&ct(g,F[0])},i(F){j||(T(O),j=!0)},o(F){M(O),j=!1},d(F){F&&P(t),O&&O.d(),I=!1,_e($)}}}function ms(e,t,i){let r="http://localhost:5000",n="gotrxxadmin",o={visible:!1,title:"",content:""};ao();async function a(){Kt.set(!0);try{const c=await rn.get(`${r}/manage/.ping`),d={instanceUrl:r,clientId:n,oidcSettings:{authority:r,client_id:n,redirect_uri:`${window.location.origin}/gotrxx-admin/#/oidc-callback`,response_type:"code",scope:"offline_access",filterProtocolClaims:!0,loadUserInfo:!1,automaticSilentRenew:!0,silent_redirect_uri:`${window.location.origin}/gotrxx-admin/#/silent-renew`}};ye.update(f=>d)}catch{i(2,o.visible=!0,o),i(2,o.title="Instance unreachable",o),i(2,o.content=`<p><strong>${r}</strong> could not be reached. Either your instance is not running or you didnt configure the manage endpoint.</p>`,o)}Kt.set(!1)}function s(){n=this.value,i(1,n)}function l(){r=this.value,i(0,r)}return[r,n,o,a,s,l]}class hs extends de{constructor(t){super(),ce(this,t,ms,bs,se,{})}}function ps(e){let t;return{c(){t=A("div"),t.innerHTML='<progress class="progress is-primary svelte-1uaxxzu" max="100"></progress>',x(t,"class","overlay svelte-1uaxxzu")},m(i,r){q(i,t,r)},p:G,i:G,o:G,d(i){i&&P(t)}}}class gs extends de{constructor(t){super(),ce(this,t,null,ps,se,{})}}function vs(e){let t,i;return t=new hs({}),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},p:G,i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function ws(e){let t,i,r,n,o,a,s,l,c,d,f,b,u,w,h,v,E,m,p,g,k,y,U,j,I,$;t=new ho({props:{signedIn:e[4],instanceUrl:e[1]}}),o=new Co({});let O=e[4]&&ir(),F=e[4]&&rr(e);return{c(){ie(t.$$.fragment),i=H(),r=A("div"),n=A("div"),ie(o.$$.fragment),a=H(),O&&O.c(),s=H(),l=A("footer"),c=A("div"),d=A("strong"),d.textContent="Authenticated",f=H(),b=ae(e[4]),u=H(),F&&F.c(),w=ae(`\r
				- `),h=A("strong"),h.textContent="URL",v=H(),E=ae(e[1]),m=ae(" - "),p=A("strong"),p.textContent="Client ID",g=H(),k=ae(e[2]),y=H(),U=A("button"),x(n,"class","section feedback-bar svelte-gc1t8s"),x(r,"class","container"),x(U,"class","delete is-small"),x(c,"class","has-text-centered block"),x(l,"class","footer-line")},m(S,z){Z(t,S,z),q(S,i,z),q(S,r,z),_(r,n),Z(o,n,null),q(S,a,z),O&&O.m(S,z),q(S,s,z),q(S,l,z),_(l,c),_(c,d),_(c,f),_(c,b),_(c,u),F&&F.m(c,null),_(c,w),_(c,h),_(c,v),_(c,E),_(c,m),_(c,p),_(c,g),_(c,k),_(c,y),_(c,U),j=!0,I||($=xe(U,"click",e[6]),I=!0)},p(S,z){const C={};z&16&&(C.signedIn=S[4]),z&2&&(C.instanceUrl=S[1]),t.$set(C),S[4]?O?(O.p(S,z),z&16&&T(O,1)):(O=ir(),O.c(),T(O,1),O.m(s.parentNode,s)):O&&(V(),M(O,1,1,()=>{O=null}),Q()),(!j||z&16)&&Ie(b,S[4]),S[4]?F?F.p(S,z):(F=rr(S),F.c(),F.m(c,w)):F&&(F.d(1),F=null),(!j||z&2)&&Ie(E,S[1]),(!j||z&4)&&Ie(k,S[2])},i(S){j||(T(t.$$.fragment,S),T(o.$$.fragment,S),T(O),j=!0)},o(S){M(t.$$.fragment,S),M(o.$$.fragment,S),M(O),j=!1},d(S){X(t,S),S&&P(i),S&&P(r),X(o),S&&P(a),O&&O.d(S),S&&P(s),S&&P(l),F&&F.d(),I=!1,$()}}}function ir(e){let t,i,r;return i=new qr({props:{routes:Nr}}),{c(){t=A("div"),ie(i.$$.fragment),x(t,"class","container")},m(n,o){q(n,t,o),Z(i,t,null),r=!0},p:G,i(n){r||(T(i.$$.fragment,n),r=!0)},o(n){M(i.$$.fragment,n),r=!1},d(n){n&&P(t),X(i)}}}function rr(e){let t,i,r,n;return{c(){t=ae("- "),i=A("strong"),i.textContent="Expires",r=H(),n=ae(e[3])},m(o,a){q(o,t,a),q(o,i,a),q(o,r,a),q(o,n,a)},p(o,a){a&8&&Ie(n,o[3])},d(o){o&&P(t),o&&P(i),o&&P(r),o&&P(n)}}}function nr(e){let t,i;return t=new gs({}),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function or(e){let t,i;return t=new qr({props:{routes:Nr}}),{c(){ie(t.$$.fragment)},m(r,n){Z(t,r,n),i=!0},p:G,i(r){i||(T(t.$$.fragment,r),i=!0)},o(r){M(t.$$.fragment,r),i=!1},d(r){X(t,r)}}}function ks(e){let t,i,r,n,o,a,s,l;const c=[ws,vs],d=[];function f(w,h){return w[0]?0:1}i=f(e),r=d[i]=c[i](e);let b=e[5]&&nr(),u=e[7]&&!e[4]&&or();return{c(){t=A("main"),r.c(),o=H(),b&&b.c(),a=H(),u&&u.c(),s=Pe(),x(t,"class",n=hi(e[5]?"is-blured":"")+" svelte-gc1t8s")},m(w,h){q(w,t,h),d[i].m(t,null),q(w,o,h),b&&b.m(w,h),q(w,a,h),u&&u.m(w,h),q(w,s,h),l=!0},p(w,[h]){let v=i;i=f(w),i===v?d[i].p(w,h):(V(),M(d[v],1,1,()=>{d[v]=null}),Q(),r=d[i],r?r.p(w,h):(r=d[i]=c[i](w),r.c()),T(r,1),r.m(t,null)),(!l||h&32&&n!==(n=hi(w[5]?"is-blured":"")+" svelte-gc1t8s"))&&x(t,"class",n),w[5]?b?h&32&&T(b,1):(b=nr(),b.c(),T(b,1),b.m(a.parentNode,a)):b&&(V(),M(b,1,1,()=>{b=null}),Q()),w[7]&&!w[4]?u?(u.p(w,h),h&16&&T(u,1)):(u=or(),u.c(),T(u,1),u.m(s.parentNode,s)):u&&(V(),M(u,1,1,()=>{u=null}),Q())},i(w){l||(T(r),T(b),T(u),l=!0)},o(w){M(r),M(b),M(u),l=!1},d(w){w&&P(t),d[i].d(),w&&P(o),b&&b.d(w),w&&P(a),u&&u.d(w),w&&P(s)}}}function xs(e,t,i){let r=!1,n="",o="",a=null,s=!1;ye.subscribe(f=>{f.instanceUrl!==null&&(i(0,r=!0),i(2,o=f.clientId),i(1,n=f.instanceUrl))}),pe.subscribe(f=>{i(4,s=f.isAuthenticated),i(3,a=Sn.unix(f.accessTokenExpires).format("YYYY-MM-DD HH:mm"))});let l=!1;Kt.subscribe(f=>{i(5,l=f)});const c=()=>{pe.update(f=>({isAuthenticated:!1,user:null,accessToken:null,accessTokenExpires:null,scopes:null})),ye.update(f=>({oidcSettings:null,instanceUrl:null,clientId:null})),i(1,n=""),i(2,o=""),i(0,r=!1),window.location.replace("/")};let d=window.location.hash=="#/oidc-callback"||window.location.hash!="#/silent-renew";return[r,n,o,a,s,l,c,d]}class ys extends de{constructor(t){super(),ce(this,t,xs,ks,se,{})}}new ys({target:document.getElementById("app")});export{xn as $,Je as A,zs as B,No as C,Zt as D,_s as E,Kt as F,Ss as G,gi as H,js as I,Us as J,Is as K,Os as L,Et as M,Es as N,Ct as O,Io as P,At as Q,zt as R,de as S,pi as T,Sn as U,As as V,je as W,Ts as X,Mr as Y,kn as Z,Ps as _,Te as a,hi as a0,Xt as a1,Rs as a2,vn as a3,Si as a4,Ne as a5,Ur as a6,tt as a7,pe as a8,sn as a9,Ms as aa,Ar as ab,ye as ac,x as b,q as c,_ as d,A as e,P as f,Ns as g,Pe as h,ce as i,V as j,M as k,Q as l,ie as m,G as n,Z as o,X as p,ae as q,H as r,se as s,T as t,Ie as u,Cs as v,ct as w,xe as x,dn as y,_e as z};
